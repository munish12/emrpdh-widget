(self.webpackChunkerp_product_hub=self.webpackChunkerp_product_hub||[]).push([[224],{54343:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Z});var n=s(72791),r=s(95048),i=s(13461),a=s(44674),l=s(63875),o=s(74512),u=s(55261),c=s(11943),d=s(66934),h=s(16029),p=s(20890),f=s(35527),m=s(86711),v=(s(93270),s(57289)),$=s(80184);let g=[{type:"item",label:"Item details send to ERP",description:""},{type:"bos",label:"Bill of specification details send to ERP",description:""},{type:"bom",label:"ERP Change Order Creation",description:""},{type:"release",label:"Update Enovia MCO Lifecycle to Release",description:"MCO release is in progress. This process will take some time, so please refresh after a while."}];const y=(0,d.ZP)(i.Z)((e=>{let{theme:t,completed:s}=e;return{width:25,height:25,border:`2px solid ${s?t.palette.primary.main:t.palette.grey[500]}`,borderRadius:"50%"}})),b=(0,d.ZP)(a.Z,{shouldForwardProp:e=>"completed"!==e})((e=>{let{theme:t,completed:s}=e;return{"& .MuiStepConnector-line":{borderColor:t.palette.grey[500]},...s&&{"& .MuiStepConnector-line":{borderColor:t.palette.primary.main}}}}));function x(e){let{activeStepValue:t,currentMCOTrackerdetails:s={}}=e;const{responseData:i}=(0,r.v9)((e=>e.mcoDetails)),[a,d]=(0,n.useState)(-1),[x,S]=(0,n.useState)("inprogress"),[M,j]=(0,n.useState)(g),D=[0];return(0,n.useEffect)((()=>{if(Object.keys(t||{}).length){var e,n,r;const a=null===i||void 0===i||null===(e=i.mcoPropeties)||void 0===e||null===(n=e.mcostate)||void 0===n?void 0:n.toLowerCase(),l=null===g||void 0===g?void 0:g.map((e=>{var n,r,i,l,o;return null===t||void 0===t||null===(n=t.skippedstage)||void 0===n||!n.includes(null===e||void 0===e?void 0:e.type)||null!==e&&void 0!==e&&null!==(r=e.label)&&void 0!==r&&r.includes("Skipped")||(e.label=`${e.label} - Skipped not required`),null!==(i=["release"])&&void 0!==i&&i.includes(null===e||void 0===e?void 0:e.type)||(e.description=s[`${null===e||void 0===e?void 0:e.type}Message`]),null!==(l=["failed"])&&void 0!==l&&l.includes(s[`${null===e||void 0===e?void 0:e.type}Status`])?e.description=s[`${null===e||void 0===e?void 0:e.type}Message`]:null!==(o=["release"])&&void 0!==o&&o.includes(a)&&(e.description=""),e}));j(l),d(null===t||void 0===t?void 0:t.stepperValue),S(null===t||void 0===t||null===(r=t.currentStatus)||void 0===r?void 0:r.status)}}),[t]),(0,$.jsxs)(h.Z,{sx:{maxWidth:400},children:[(0,$.jsx)(l.Z,{activeStep:a,orientation:"vertical",className:"stepperContainer",children:M.map(((e,s)=>{var n;return(0,$.jsxs)(o.Z,{children:[(0,$.jsx)(u.Z,{className:`stepperSpace ${x} ${null!==t&&void 0!==t&&null!==(n=t.skippedstage)&&void 0!==n&&n.includes(null===e||void 0===e?void 0:e.type)?"skippedStep":""}`,StepIconComponent:e=>{var t;const{active:s}=e;return s&&null!==(t=["failed"])&&void 0!==t&&t.includes(x)?(0,$.jsx)(m.Z,{sx:{color:"red"}}):(0,$.jsx)(y,{...e})},children:e.label}),(0,$.jsx)(c.Z,{className:`stepperContentSpace ${x}`,children:(0,$.jsx)(p.Z,{children:(0,v.qS)(e.description)})}),(0,$.jsx)(b,{className:`${x}`,completed:null===D||void 0===D?void 0:D.includes(s)})]},e.label)}))}),a===M.length&&(0,$.jsx)(f.Z,{square:!0,elevation:0,sx:{p:3},style:{textAlign:"left"},children:(0,$.jsx)(p.Z,{children:"All steps were successfully completed!"})})]})}var S=s(93274),M=s(61889),j=s(20068),D=s(31220);s(31185);const k=(0,d.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),w=e=>e&&e[0].toUpperCase()+e.slice(1);function O(e){const t={rme:"Responsible Manufacturing Engineer",rsme:"Responsible Senior Manufacturing Engineer",mcostate:"State",responseFromErp:"Export Status",plantName:"Plant"};return"description"===e.label?(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)(M.ZP,{item:!0,md:6,sm:6,xs:6,children:["Description",(0,$.jsx)("span",{style:{float:"right"},children:":"})]},`${e.label}-label`),(0,$.jsx)(M.ZP,{item:!0,md:6,sm:6,xs:6,children:(0,$.jsx)(j.Z,{title:(0,$.jsx)("div",{style:{maxHeight:"300px",overflowY:"scroll"},children:e.value}),arrow:!0,placement:"top",children:(0,$.jsx)("div",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:"300px",cursor:"pointer"},children:e.value.length>50?`${e.value.substring(0,50)}...`:e.value})})},e.label)]}):(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)(M.ZP,{item:!0,md:6,sm:6,xs:6,children:[Object.keys(t).includes(e.label)?w(t[e.label]):w(e.label),(0,$.jsx)("span",{style:{float:"right"},children:":"})]},e.label),(0,$.jsx)(M.ZP,{item:!0,md:6,sm:6,xs:6,children:""!==e.value?e.value:"-"})]})}const C=e=>{var t,s;let{isLoading:n,mcodetails:r,activeStep:i,currentMCOTrackerdetails:a}=e;return!!n||(r?(0,$.jsxs)(M.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,$.jsx)(M.ZP,{item:!0,md:6,sm:12,xs:12,children:(0,$.jsx)(M.ZP,{container:!0,spacing:1,alignItems:"center",children:(0,$.jsx)(M.ZP,{container:!0,spacing:2,alignItems:"start",className:"caDetailsContainer",children:r&&null!==(t=Object.keys(null===r||void 0===r?void 0:r.mcoPropeties))&&void 0!==t&&t.length?null===(s=Object.keys(null===r||void 0===r?void 0:r.mcoPropeties))||void 0===s?void 0:s.map((e=>!["id","type","physicalid","businessUnit","organizationId","responseFromErp","rmeEmailAddress","rsmeEmailAddress","errorMsg"].includes(e)&&(0,$.jsx)(O,{label:e,value:null===r||void 0===r?void 0:r.mcoPropeties[e]},e))):(0,$.jsx)($.Fragment,{})},"samplekeys2")},"samplekeys")}),(0,$.jsx)(M.ZP,{item:!0,md:6,sm:12,xs:12,style:{textAlign:"right"},children:(0,$.jsx)(x,{activeStepValue:i,currentMCOTrackerdetails:a})})]}):(0,$.jsx)("div",{style:{textAlign:"center",paddingBottom:"10px"},children:"Result not found!"}))},Z=e=>{const{lifeCycleData:t,responseData:s}=(0,r.v9)((e=>({lifeCycleData:e.mcoDetails.lifeCycleData,responseData:e.mcoDetails.responseData})),r.wU),[i,a]=(0,n.useState)(!1),[l,o]=(0,n.useState)(null),[u,c]=(0,n.useState)(null),[d,p]=(0,n.useState)({});return(0,n.useEffect)((()=>{const n=null===e||void 0===e?void 0:e.mcoName;((e,t)=>{var n,r,i,l;a(!0),o(s);const u=null===s||void 0===s||null===(n=s.mcoPropeties)||void 0===n||null===(r=n.mcostate)||void 0===r?void 0:r.toLowerCase();if(0===Object.keys(e).length)return void a(!1);const d=e[t]||{};let h=0,f={},m=[];if(null!==(i=Object.keys(d))&&void 0!==i&&i.length||!["release"].includes(u)){if(null!==(l=Object.keys(d))&&void 0!==l&&l.length){const e=!1;if("skipped"===d.promoted||e)h=4,f={type:"release",status:"success"},m=["item","bos","bom"];else{var v;for(const e of Object.keys(d)){if(Object.keys(f).length&&f.status.includes("failed"))continue;const t=d[e];"itemStatus"!==e||"skipped"!==t?"bosStatus"!==e||"skipped"!==t?"bomStatus"!==e||"skipped"!==t?["itemStatus","bosStatus","bomStatus","releaseStatus"].includes(e)&&["inprogress","success","failed"].includes(t)&&(["success"].includes(t)&&(h+=1),f={type:e.replace("Status",""),status:t}):(h+=1,m.push("bom")):(h+=1,m.push("bos")):(h+=1,m.push("item"))}null!==(v=Object.keys(d||{}))&&void 0!==v&&v.includes("releaseStatus")||3==h&&["release","implemented"].includes(u)&&(h+=1)}}}else h=4,f={type:"release",status:"success"},m=["item","bos","bom"];p({stepperValue:h,currentStatus:f,skippedstage:m}),c(d),a(!1)})(t,n)}),[t,s]),(0,$.jsxs)(k,{children:[null!==e&&void 0!==e&&e.fromPage?(0,$.jsx)(C,{isLoading:i,mcodetails:l,activeStep:d,currentMCOTrackerdetails:u}):(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(h.Z,{className:"breadcrumb",children:(0,$.jsx)(S.aG,{routeSegments:[{name:"MCO Status Tracker"}]})}),(0,$.jsx)(S.sF,{children:(0,$.jsx)(C,{isLoading:i,mcodetails:l,activeStep:d,currentMCOTrackerdetails:u})})]}),i?(0,$.jsx)("div",{style:{textAlign:"center"},children:(0,$.jsx)(D.Z,{show:i})}):(0,$.jsx)($.Fragment,{})]})}},97892:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,s=36e5,n="millisecond",r="second",i="minute",a="hour",l="day",o="week",u="month",c="quarter",d="year",h="date",p="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],s=e%100;return"["+e+(t[(s-20)%10]||t[s]||t[0])+"]"}},$=function(e,t,s){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(s)+e},g={s:$,z:function(e){var t=-e.utcOffset(),s=Math.abs(t),n=Math.floor(s/60),r=s%60;return(t<=0?"+":"-")+$(n,2,"0")+":"+$(r,2,"0")},m:function e(t,s){if(t.date()<s.date())return-e(s,t);var n=12*(s.year()-t.year())+(s.month()-t.month()),r=t.clone().add(n,u),i=s-r<0,a=t.clone().add(n+(i?-1:1),u);return+(-(n+(s-r)/(i?r-a:a-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:d,w:o,d:l,D:h,h:a,m:i,s:r,ms:n,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",b={};b[y]=v;var x="$isDayjsObject",S=function(e){return e instanceof k||!(!e||!e[x])},M=function e(t,s,n){var r;if(!t)return y;if("string"==typeof t){var i=t.toLowerCase();b[i]&&(r=i),s&&(b[i]=s,r=i);var a=t.split("-");if(!r&&a.length>1)return e(a[0])}else{var l=t.name;b[l]=t,r=l}return!n&&r&&(y=r),r||!n&&y},j=function(e,t){if(S(e))return e.clone();var s="object"==typeof t?t:{};return s.date=e,s.args=arguments,new k(s)},D=g;D.l=M,D.i=S,D.w=function(e,t){return j(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var k=function(){function v(e){this.$L=M(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[x]=!0}var $=v.prototype;return $.parse=function(e){this.$d=function(e){var t=e.date,s=e.utc;if(null===t)return new Date(NaN);if(D.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(f);if(n){var r=n[2]-1||0,i=(n[7]||"0").substring(0,3);return s?new Date(Date.UTC(n[1],r,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(n[1],r,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)}}return new Date(t)}(e),this.init()},$.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},$.$utils=function(){return D},$.isValid=function(){return!(this.$d.toString()===p)},$.isSame=function(e,t){var s=j(e);return this.startOf(t)<=s&&s<=this.endOf(t)},$.isAfter=function(e,t){return j(e)<this.startOf(t)},$.isBefore=function(e,t){return this.endOf(t)<j(e)},$.$g=function(e,t,s){return D.u(e)?this[t]:this.set(s,e)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(e,t){var s=this,n=!!D.u(t)||t,c=D.p(e),p=function(e,t){var r=D.w(s.$u?Date.UTC(s.$y,t,e):new Date(s.$y,t,e),s);return n?r:r.endOf(l)},f=function(e,t){return D.w(s.toDate()[e].apply(s.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(t)),s)},m=this.$W,v=this.$M,$=this.$D,g="set"+(this.$u?"UTC":"");switch(c){case d:return n?p(1,0):p(31,11);case u:return n?p(1,v):p(0,v+1);case o:var y=this.$locale().weekStart||0,b=(m<y?m+7:m)-y;return p(n?$-b:$+(6-b),v);case l:case h:return f(g+"Hours",0);case a:return f(g+"Minutes",1);case i:return f(g+"Seconds",2);case r:return f(g+"Milliseconds",3);default:return this.clone()}},$.endOf=function(e){return this.startOf(e,!1)},$.$set=function(e,t){var s,o=D.p(e),c="set"+(this.$u?"UTC":""),p=(s={},s[l]=c+"Date",s[h]=c+"Date",s[u]=c+"Month",s[d]=c+"FullYear",s[a]=c+"Hours",s[i]=c+"Minutes",s[r]=c+"Seconds",s[n]=c+"Milliseconds",s)[o],f=o===l?this.$D+(t-this.$W):t;if(o===u||o===d){var m=this.clone().set(h,1);m.$d[p](f),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else p&&this.$d[p](f);return this.init(),this},$.set=function(e,t){return this.clone().$set(e,t)},$.get=function(e){return this[D.p(e)]()},$.add=function(n,c){var h,p=this;n=Number(n);var f=D.p(c),m=function(e){var t=j(p);return D.w(t.date(t.date()+Math.round(e*n)),p)};if(f===u)return this.set(u,this.$M+n);if(f===d)return this.set(d,this.$y+n);if(f===l)return m(1);if(f===o)return m(7);var v=(h={},h[i]=t,h[a]=s,h[r]=e,h)[f]||1,$=this.$d.getTime()+n*v;return D.w($,this)},$.subtract=function(e,t){return this.add(-1*e,t)},$.format=function(e){var t=this,s=this.$locale();if(!this.isValid())return s.invalidDate||p;var n=e||"YYYY-MM-DDTHH:mm:ssZ",r=D.z(this),i=this.$H,a=this.$m,l=this.$M,o=s.weekdays,u=s.months,c=s.meridiem,d=function(e,s,r,i){return e&&(e[s]||e(t,n))||r[s].slice(0,i)},h=function(e){return D.s(i%12||12,e,"0")},f=c||function(e,t,s){var n=e<12?"AM":"PM";return s?n.toLowerCase():n};return n.replace(m,(function(e,n){return n||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return D.s(t.$y,4,"0");case"M":return l+1;case"MM":return D.s(l+1,2,"0");case"MMM":return d(s.monthsShort,l,u,3);case"MMMM":return d(u,l);case"D":return t.$D;case"DD":return D.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(s.weekdaysMin,t.$W,o,2);case"ddd":return d(s.weekdaysShort,t.$W,o,3);case"dddd":return o[t.$W];case"H":return String(i);case"HH":return D.s(i,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return f(i,a,!0);case"A":return f(i,a,!1);case"m":return String(a);case"mm":return D.s(a,2,"0");case"s":return String(t.$s);case"ss":return D.s(t.$s,2,"0");case"SSS":return D.s(t.$ms,3,"0");case"Z":return r}return null}(e)||r.replace(":","")}))},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(n,h,p){var f,m=this,v=D.p(h),$=j(n),g=($.utcOffset()-this.utcOffset())*t,y=this-$,b=function(){return D.m(m,$)};switch(v){case d:f=b()/12;break;case u:f=b();break;case c:f=b()/3;break;case o:f=(y-g)/6048e5;break;case l:f=(y-g)/864e5;break;case a:f=y/s;break;case i:f=y/t;break;case r:f=y/e;break;default:f=y}return p?f:D.a(f)},$.daysInMonth=function(){return this.endOf(u).$D},$.$locale=function(){return b[this.$L]},$.locale=function(e,t){if(!e)return this.$L;var s=this.clone(),n=M(e,t,!0);return n&&(s.$L=n),s},$.clone=function(){return D.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},v}(),w=k.prototype;return j.prototype=w,[["$ms",n],["$s",r],["$m",i],["$H",a],["$W",l],["$M",u],["$y",d],["$D",h]].forEach((function(e){w[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),j.extend=function(e,t){return e.$i||(e(t,k,j),e.$i=!0),j},j.locale=M,j.isDayjs=S,j.unix=function(e){return j(1e3*e)},j.en=b[y],j.Ls=b,j.p={},j}()},93270:()=>{}}]);
//# sourceMappingURL=224.ef478f42.chunk.js.map