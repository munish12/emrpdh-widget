(self.webpackChunkerp_product_hub=self.webpackChunkerp_product_hub||[]).push([[561],{10778:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var l=a(93543),n=a(94070),s=a(47317),i=a(80184);const r=e=>{let{openAlert:t,openDesc:a,setOpenAlert:r}=e;const o="center";return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(l.Z,{anchorOrigin:{vertical:"top",horizontal:o},open:t,onClose:(e,t)=>{"clickaway"!==t&&r(!1)},sx:{top:"70px!important"},children:(0,i.jsxs)(n.Z,{onClose:(e,t)=>{"clickaway"!==t&&r(!1)},severity:a.severity,sx:{width:"100%",maxHeight:"calc(100vh - 100px)"},children:["success"===a.severity?(0,i.jsx)(s.Z,{children:"Success"}):(0,i.jsx)(i.Fragment,{}),"warning"===a.severity?(0,i.jsx)(s.Z,{children:"Warning"}):(0,i.jsx)(i.Fragment,{}),"error"===a.severity?(0,i.jsx)(s.Z,{children:"Error"}):(0,i.jsx)(i.Fragment,{}),"validationcheck"===(null===a||void 0===a?void 0:a.type)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{fontWeight:"bold"},children:"Please verify the below items."}),(0,i.jsx)("ul",{children:a.desc})]}):(0,i.jsx)(i.Fragment,{children:a.desc})]})},"top"+o)})}},31220:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var l=a(72791),n=a(52739),s=a(13239),i=a(80184);function r(e){const[t,a]=l.useState(!1);return(0,l.useEffect)((()=>{a(e.show)}),[e.show]),(0,i.jsx)("div",{children:(0,i.jsx)(n.Z,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:t,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{style:{textAlign:"center"},children:(0,i.jsx)(s.Z,{color:"inherit",style:{zIndex:9999}})}),(0,i.jsx)("div",{children:"Please wait..."})]})})})}},73693:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var l=a(93274),n=a(6830),s=a(4290),i=a(80184);const r=e=>{const{settings:t}=(0,n.Z)(),a=s.n[t.activeLayout];return(0,i.jsx)(l.I5,{children:(0,i.jsx)(a,{...e})})}},4290:(e,t,a)=>{"use strict";a.d(t,{n:()=>l});const l={layout1:a(72791).lazy((()=>Promise.all([a.e(352),a.e(985)]).then(a.bind(a,56009))))}},87418:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var l=a(13239),n=a(93457),s=a(82337),i=a(80184);const r=(0,n.Z)("div")((()=>({width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center","& img":{width:"auto",height:"25px"},"& .circleProgress":{position:"absolute",left:-7,right:0,top:"calc(50% - 25px)"}}))),o=()=>(0,i.jsx)(r,{children:(0,i.jsxs)(s.Z,{position:"relative",children:[(0,i.jsx)("img",{src:"/assets/images/logo-circle.svg",alt:""}),(0,i.jsx)(l.Z,{className:"circleProgress"})]})})},98342:(e,t,a)=>{"use strict";a.d(t,{l:()=>s,v:()=>i});const l={primary:"rgba(52, 49, 76, 1)",secondary:"rgba(52, 49, 76, 0.54)",disabled:"rgba(52, 49, 76, 0.38)",hint:"rgba(52, 49, 76, 0.38)"},n={main:"#FF3D57"},s={whitePurple:{palette:{type:"light",primary:{main:"#ffffff",contrastText:l.primary},secondary:{main:"#7467ef",contrastText:"#ffffff"},error:n,text:l}},whiteBlue:{palette:{type:"light",primary:{main:"#ffffff",contrastText:l.primary},secondary:{main:"#1976d2",contrastText:"#ffffff"},text:l}},slateDark1:{palette:{type:"dark",primary:{main:"#005686",contrastText:"#ffffff"},secondary:{main:"#ff9e43",contrastText:l.primary},error:n,background:{paper:"#222A45",default:"#1a2038"}}},slateDark2:{palette:{type:"dark",primary:{main:"#1a2038",contrastText:"#ffffff"},secondary:{main:"#ff9e43",contrastText:l.primary},error:n,background:{paper:"#222A45",default:"#1a2038"}}},purple1:{palette:{type:"light",primary:{main:"#7467ef",contrastText:"#ffffff"},secondary:{light:"#f9a352",main:"#ff9e43",dark:"#ff932e",contrastText:l.primary},error:n,text:l}},purple2:{palette:{type:"light",primary:{main:"#6a75c9",contrastText:"#ffffff"},secondary:{main:"#ff9e43",contrastText:l.primary},error:n,text:l}},purpleDark1:{palette:{type:"dark",primary:{main:"#7467ef",contrastText:"#ffffff"},secondary:{main:"#ff9e43",contrastText:l.primary},error:n,background:{paper:"#222A45",default:"#1a2038"}}},purpleDark2:{palette:{type:"dark",primary:{main:"#6a75c9",contrastText:"#ffffff"},secondary:{main:"#ff9e43",contrastText:l.primary},error:n,background:{paper:"#222A45",default:"#1a2038"}}},blue:{palette:{type:"light",primary:{main:"#1976d2",contrastText:"#ffffff"},secondary:{main:"#FFAF38",contrastText:l.primary},error:n,text:l}},blueDark:{palette:{type:"dark",primary:{main:"#1976d2",contrastText:"#ffffff"},secondary:{main:"#FF4F30",contrastText:l.primary},error:n,background:{paper:"#222A45",default:"#1a2038"}}},red:{palette:{type:"dark",primary:{main:"#e53935",contrastText:"#ffffff"},secondary:{main:"#FFAF38",contrastText:l.primary},error:n}}},i=["none","0px 2px 1px -1px rgba(0, 0, 0, 0.06),0px 1px 1px 0px rgba(0, 0, 0, 0.042),0px 1px 3px 0px rgba(0, 0, 0, 0.036)","0px 3px 1px -2px rgba(0, 0, 0, 0.06),0px 2px 2px 0px rgba(0, 0, 0, 0.042),0px 1px 5px 0px rgba(0, 0, 0, 0.036)","0px 3px 3px -2px rgba(0, 0, 0, 0.06),0px 3px 4px 0px rgba(0, 0, 0, 0.042),0px 1px 8px 0px rgba(0, 0, 0, 0.036)","0px 2px 4px -1px rgba(0, 0, 0, 0.06),0px 4px 5px 0px rgba(0, 0, 0, 0.042),0px 1px 10px 0px rgba(0, 0, 0, 0.036)","0px 3px 5px -1px rgba(0, 0, 0, 0.06),0px 5px 8px 0px rgba(0, 0, 0, 0.042),0px 1px 14px 0px rgba(0, 0, 0, 0.036)","0px 3px 5px -1px rgba(0, 0, 0, 0.06),0px 6px 10px 0px rgba(0, 0, 0, 0.042),0px 1px 18px 0px rgba(0, 0, 0, 0.036)","0px 4px 5px -2px rgba(0, 0, 0, 0.06),0px 7px 10px 1px rgba(0, 0, 0, 0.042),0px 2px 16px 1px rgba(0, 0, 0, 0.036)","0px 5px 5px -3px rgba(0, 0, 0, 0.06),0px 8px 10px 1px rgba(0, 0, 0, 0.042),0px 3px 14px 2px rgba(0, 0, 0, 0.036)","0px 5px 6px -3px rgba(0, 0, 0, 0.06),0px 9px 12px 1px rgba(0, 0, 0, 0.042),0px 3px 16px 2px rgba(0, 0, 0, 0.036)","0px 6px 6px -3px rgba(0, 0, 0, 0.06),0px 10px 14px 1px rgba(0, 0, 0, 0.042),0px 4px 18px 3px rgba(0, 0, 0, 0.036)","0px 6px 7px -4px rgba(0, 0, 0, 0.06),0px 11px 15px 1px rgba(0, 0, 0, 0.042),0px 4px 20px 3px rgba(0, 0, 0, 0.036)","0px 7px 8px -4px rgba(0, 0, 0, 0.06),0px 12px 17px 2px rgba(0, 0, 0, 0.042),0px 5px 22px 4px rgba(0, 0, 0, 0.036)","0px 7px 8px -4px rgba(0, 0, 0, 0.06),0px 13px 19px 2px rgba(0, 0, 0, 0.042),0px 5px 24px 4px rgba(0, 0, 0, 0.036)","0px 7px 9px -4px rgba(0, 0, 0, 0.06),0px 14px 21px 2px rgba(0, 0, 0, 0.042),0px 5px 26px 4px rgba(0, 0, 0, 0.036)","0px 8px 9px -5px rgba(0, 0, 0, 0.06),0px 15px 22px 2px rgba(0, 0, 0, 0.042),0px 6px 28px 5px rgba(0, 0, 0, 0.036)","0px 8px 10px -5px rgba(0, 0, 0, 0.06),0px 16px 24px 2px rgba(0, 0, 0, 0.042),0px 6px 30px 5px rgba(0, 0, 0, 0.036)","0px 8px 11px -5px rgba(0, 0, 0, 0.06),0px 17px 26px 2px rgba(0, 0, 0, 0.042),0px 6px 32px 5px rgba(0, 0, 0, 0.036)","0px 9px 11px -5px rgba(0, 0, 0, 0.06),0px 18px 28px 2px rgba(0, 0, 0, 0.042),0px 7px 34px 6px rgba(0, 0, 0, 0.036)","0px 9px 12px -6px rgba(0, 0, 0, 0.06),0px 19px 29px 2px rgba(0, 0, 0, 0.042),0px 7px 36px 6px rgba(0, 0, 0, 0.036)","0px 10px 13px -6px rgba(0, 0, 0, 0.06),0px 20px 31px 3px rgba(0, 0, 0, 0.042),0px 8px 38px 7px rgba(0, 0, 0, 0.036)","0px 10px 13px -6px rgba(0, 0, 0, 0.06),0px 20px 31px 3px rgba(0, 0, 0, 0.042),0px 8px 38px 7px rgba(0, 0, 0, 0.036)","0px 10px 13px -6px rgba(0, 0, 0, 0.06),0px 20px 31px 3px rgba(0, 0, 0, 0.042),0px 8px 38px 7px rgba(0, 0, 0, 0.036)","0px 10px 13px -6px rgba(0, 0, 0, 0.06),0px 20px 31px 3px rgba(0, 0, 0, 0.042),0px 8px 38px 7px rgba(0, 0, 0, 0.036)","0px 10px 13px -6px rgba(0, 0, 0, 0.06),0px 20px 31px 3px rgba(0, 0, 0, 0.042),0px 8px 38px 7px rgba(0, 0, 0, 0.036)"]},96171:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var l=a(93543),n=a(94070),s=a(47317),i=a(80184);const r=e=>{let{openAlert:t,openDesc:a,setOpenAlert:r}=e;const o="center";return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(l.Z,{anchorOrigin:{vertical:"top",horizontal:o},open:t,onClose:(e,t)=>{"clickaway"!==t&&r(!1)},sx:{top:"70px!important"},children:(0,i.jsxs)(n.Z,{onClose:(e,t)=>{"clickaway"!==t&&r(!1)},severity:a.severity,sx:{width:"100%",maxHeight:"calc(100vh - 100px)"},children:["success"===a.severity?(0,i.jsx)(s.Z,{children:"Success"}):(0,i.jsx)(i.Fragment,{}),"warning"===a.severity?(0,i.jsx)(s.Z,{children:"Warning"}):(0,i.jsx)(i.Fragment,{}),"error"===a.severity?(0,i.jsx)(s.Z,{children:"Error"}):(0,i.jsx)(i.Fragment,{}),"validationcheck"===(null===a||void 0===a?void 0:a.type)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{fontWeight:"bold"},children:"Please verify the below items."}),(0,i.jsx)("ul",{children:a.desc})]}):(0,i.jsx)(i.Fragment,{children:a.desc})]})},"top"+o)})}},69383:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});a(72791);var l=a(61889),n=a(94294),s=a(93274),i=a(80184);const r=()=>(0,i.jsx)(s.sF,{children:(0,i.jsx)(l.ZP,{container:!0,spacing:3,alignItems:"center",style:{position:"relative"},children:(0,i.jsxs)(l.ZP,{item:!0,md:12,sm:12,xs:12,style:{textAlign:"center"},children:["Something went wrong! Please inform to administrator or reload the page.",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)(n.Z,{variant:"contained",onClick:()=>window.location.reload(),children:"Reload"})]})})})},63019:(e,t,a)=>{"use strict";a.d(t,{Dr:()=>m,H5:()=>o,H6:()=>d,nv:()=>c});var l=a(66934),n=a(16029),s=a(63733),i=a(80184);const r=(0,l.ZP)(n.Z)((e=>{let{theme:t,texttransformstyle:a,ellipsis:l}=e;return{textTransform:a||"none",whiteSpace:l?"nowrap":"normal",overflow:l?"hidden":"",textOverflow:l?"ellipsis":""}})),o=e=>{let{children:t,className:a,ellipsis:l,textTransform:n,...o}=e;return(0,i.jsx)(r,{texttransformstyle:n,ellipsis:l,className:(0,s.Z)({[a||""]:!0}),component:"h5",mb:0,mt:0,fontSize:"14px",fontWeight:"500",lineHeight:"1.5",...o,children:t})},d=e=>{let{children:t,className:a,ellipsis:l,textTransform:n,...o}=e;return(0,i.jsx)(r,{texttransformstyle:n,ellipsis:l,className:(0,s.Z)({[a||""]:!0}),component:"h6",mb:0,mt:0,fontSize:"13px",fontWeight:"500",lineHeight:"1.5",...o,children:t})},c=e=>{let{children:t,className:a,ellipsis:l,textTransform:n,...o}=e;return(0,i.jsx)(r,{texttransformstyle:n,ellipsis:l,className:(0,s.Z)({[a||""]:!0}),component:"p",mb:0,mt:0,fontSize:"14px",...o,children:t})},m=e=>{let{children:t,className:a,ellipsis:l,textTransform:n,...o}=e;return(0,i.jsx)(r,{texttransformstyle:n,ellipsis:l,className:(0,s.Z)({[a||""]:!0}),component:"span",lineHeight:"1.5",...o,children:t})}},93274:(e,t,a)=>{"use strict";a.d(t,{aG:()=>g,Uc:()=>Z,ky:()=>G,pN:()=>B,YF:()=>gt,Wx:()=>H.Z,$6:()=>ee,I5:()=>ae,_p:()=>ne,lZ:()=>ot,sF:()=>ut});var l=a(72791),n=a(66934),s=a(99875),i=a(13967),r=a(93517),o=a(11087),d=a(6429),c=a.n(d),m=a(80184);const u=(0,n.ZP)("div")((()=>({display:"flex",flexWrap:"wrap",alignItems:"center"}))),p=(0,n.ZP)("h4")((()=>({margin:0,fontSize:"16px",paddingBottom:"1px",verticalAlign:"middle",textTransform:"capitalize"}))),h=(0,n.ZP)("span")((e=>{let{theme:t}=e;return{textTransform:"capitalize",color:t.palette.text.secondary}})),x=((0,n.ZP)("h4")((e=>{let{theme:t}=e;return{margin:0,marginLeft:8,paddingBottom:"3px",color:t.palette.text.hint}})),(0,n.ZP)(s.Z)((()=>({marginLeft:8,marginBottom:"4px",verticalAlign:"middle"})))),g=e=>{let{routeSegments:t}=e;const a=(0,i.Z)().palette.text.hint;return(0,m.jsx)(u,{children:(0,m.jsxs)(r.Z,{separator:(0,m.jsx)(s.Z,{sx:{color:a},children:"navigate_next"}),sx:{display:"flex",alignItems:"center",position:"relative"},children:[(0,m.jsx)(o.NavLink,{to:"/calist",children:(0,m.jsx)(x,{color:"primary",children:"home"})}),t?t.map(((e,a)=>a!==t.length-1?(0,m.jsx)(o.NavLink,{to:e.path,children:(0,m.jsx)(h,{children:e.name},c().generate())},c().generate()):(0,m.jsx)(p,{children:e.name},c().generate()))):null]})})};var v=a(93044),j=a(16029);const f=(0,n.ZP)(v.Z)((()=>({height:"40px",width:"40px"}))),y=(0,n.ZP)("div")((e=>{let{theme:t,status:a}=e;return{height:"14px",width:"14px",bottom:"0px",right:"-3px",borderRadius:"7px",position:"absolute",border:"2px solid white",background:"online"===a?t.palette.primary.main:t.palette.error.main,color:"online"!==a&&"white !important"}})),Z=e=>{let{src:t,status:a}=e;return(0,m.jsxs)(j.Z,{position:"relative",children:[(0,m.jsx)(f,{src:t}),(0,m.jsx)(y,{status:a})]})};var T=a(13400),b=a(94721),P=a(27391),E=a(35009),S=a(42195),w=a.n(S),O=a(63019);const C=(0,n.ZP)("div")((()=>({height:"100%",display:"flex",flexDirection:"column",background:"#fff"}))),M=(0,n.ZP)(w())((()=>({flexGrow:1}))),A=(0,n.ZP)("div")((e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 12px 12px 20px",color:t.palette.primary.main,background:"#fafafa"}})),D=(0,n.ZP)("div")((e=>{let{theme:t}=e;return{marginLeft:"12px",color:t.palette.primary.main,"& h5":{marginTop:0,fontSize:"14px",marginBottom:"3px"},"& span":{fontWeight:"500"}}})),L=(0,n.ZP)("div")((e=>{let{theme:t}=e;return{padding:"8px",maxWidth:240,fontSize:"14px",borderRadius:"4px",marginBottom:"8px",whiteSpace:"pre-wrap",wordBreak:"break-word",color:t.palette.primary.main,background:"#fafafa"}})),N=(0,n.ZP)("span")((e=>{let{theme:t}=e;return{fontSize:"13px",fontWeight:"500",color:t.palette.primary.main}})),_=(0,n.ZP)("div")((e=>{let{theme:t}=e;return{padding:"20px",display:"flex",justifyContent:"flex-end"}})),I=(0,n.ZP)("div")((e=>{let{theme:t}=e;return{padding:"8px",fontSize:"14px",maxWidth:240,borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"flex-end",color:t.palette.primary.main,background:"#fafafa"}})),R=(0,n.ZP)("img")((()=>({width:"40px"}))),k=(0,n.ZP)(N)((()=>({}))),F=[],B=e=>{let{togglePopup:t}=e;const[a,n]=(0,l.useState)(!0),[r,o]=(0,l.useState)(""),[d,u]=(0,l.useState)([]),p="7863a6802ez0e277a0f98534",h=document.querySelector("#chat-scroll"),x=async()=>{setTimeout((()=>{let e={text:"Good to hear from you. enjoy!!!",contactId:"opponents contact id",avatar:"/assets/images/faces/13.jpg",name:"Frank Powell"};[...d].push(e),F.push(e),a&&u(F)}),2e3)},g=(0,l.useCallback)((()=>{h&&h.scrollTo({top:h.scrollHeight,behavior:"smooth"})}),[h]);(0,l.useEffect)((()=>{a&&u([{contactId:"323sa680b3249760ea21rt47",text:"Do you ever find yourself falling into the \u201cdiscount trap?\u201d",time:"2018-02-10T08:45:28.291Z",id:"323sa680b3249760ea21rt47",name:"Frank Powell",avatar:"/assets/images/faces/13.jpg",status:"online",mood:""},{contactId:"7863a6802ez0e277a0f98534",text:"Giving away your knowledge or product just to gain clients?",time:"2018-02-10T08:45:28.291Z",id:"7863a6802ez0e277a0f98534",name:"John Doe",avatar:"/assets/images/face-1.jpg",status:"online",mood:""},{contactId:"323sa680b3249760ea21rt47",text:"Yes",time:"2018-02-10T08:45:28.291Z",id:"323sa680b3249760ea21rt47",name:"Frank Powell",avatar:"/assets/images/faces/13.jpg",status:"online",mood:""},{contactId:"7863a6802ez0e277a0f98534",text:"Don\u2019t feel bad. It happens to a lot of us",time:"2018-02-10T08:45:28.291Z",id:"7863a6802ez0e277a0f98534",name:"John Doe",avatar:"/assets/images/face-1.jpg",status:"online",mood:""},{contactId:"323sa680b3249760ea21rt47",text:"Do you ever find yourself falling into the \u201cdiscount trap?\u201d",time:"2018-02-10T08:45:28.291Z",id:"323sa680b3249760ea21rt47",name:"Frank Powell",avatar:"/assets/images/faces/13.jpg",status:"online",mood:""},{contactId:"7863a6802ez0e277a0f98534",text:"Giving away your knowledge or product just to gain clients?",time:"2018-02-10T08:45:28.291Z",id:"7863a6802ez0e277a0f98534",name:"John Doe",avatar:"/assets/images/face-1.jpg",status:"online",mood:""},{contactId:"323sa680b3249760ea21rt47",text:"Yes",time:"2018-02-10T08:45:28.291Z",id:"323sa680b3249760ea21rt47",name:"Frank Powell",avatar:"/assets/images/faces/13.jpg",status:"online",mood:""},{contactId:"7863a6802ez0e277a0f98534",text:"Don\u2019t feel bad. It happens to a lot of us",time:"2018-02-10T08:45:28.291Z",id:"7863a6802ez0e277a0f98534",name:"John Doe",avatar:"/assets/images/face-1.jpg",status:"online",mood:""}])}),[a]),(0,l.useEffect)((()=>(g(),()=>n(!1))),[d,g]);const{palette:f}=(0,i.Z)(),y=f.primary.main,S=f.text.primary;return(0,m.jsxs)(C,{children:[(0,m.jsxs)(A,{children:[(0,m.jsxs)(j.Z,{display:"flex",alignItems:"center",children:[(0,m.jsx)(Z,{src:"/assets/images/face-2.jpg",status:"online"}),(0,m.jsxs)(D,{children:[(0,m.jsx)(O.H5,{children:"Ryan Todd"}),(0,m.jsx)(O.Dr,{children:"Active"})]})]}),(0,m.jsx)(T.Z,{onClick:t,children:(0,m.jsx)(s.Z,{fontSize:"small",children:"clear"})})]}),(0,m.jsxs)(M,{id:"chat-scroll",children:[d.map(((e,t)=>(0,m.jsxs)(j.Z,{p:"20px",display:"flex",sx:{justifyContent:p===e.contactId&&"flex-end"},children:[p!==e.contactId&&(0,m.jsx)(v.Z,{src:e.avatar}),(0,m.jsxs)(j.Z,{ml:"12px",children:[p!==e.contactId&&(0,m.jsx)(O.H5,{sx:{mb:"4px",fontSize:"14px",color:y},children:e.name}),(0,m.jsx)(L,{children:e.text}),(0,m.jsx)(N,{children:"1 minute ago"})]})]},c().generate()))),(0,m.jsx)(_,{children:(0,m.jsxs)(j.Z,{ml:"12px",children:[(0,m.jsxs)(I,{children:[(0,m.jsx)(R,{alt:"laptop",src:"/assets/images/laptop-1.png"}),(0,m.jsxs)(j.Z,{ml:"12px",children:[(0,m.jsx)(O.H6,{sx:{mt:0,mb:"4px"},children:"Asus K555LA.png"}),(0,m.jsx)(k,{children:"21.5KB"})]})]}),(0,m.jsx)(N,{children:"1 minute ago"})]})})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)(b.Z,{sx:{background:`rgba(${(0,E.Q5)(S)}, 0.15)`}}),(0,m.jsx)(P.Z,{placeholder:"Type here ...",multiline:!0,rowsMax:4,fullWidth:!0,sx:{"& textarea":{color:y}},InputProps:{endAdornment:(0,m.jsxs)(j.Z,{display:"flex",children:[(0,m.jsx)(T.Z,{size:"small",children:(0,m.jsx)(s.Z,{children:"tag_faces"})}),(0,m.jsx)(T.Z,{size:"small",children:(0,m.jsx)(s.Z,{children:"attachment"})})]}),classes:{root:"pl-5 pr-3 py-3 text-body"}},value:r,onChange:e=>o(e.target.value),onKeyUp:e=>{if("Enter"===e.key&&!e.shiftKey){let e=r.trim();if(""!==e){let t=[...d],l={text:e,contactId:p};t.push(l),F.push(l),a&&u(t),x()}o("")}}})]})]})};var U=a(26417),W=a(63733);const V=(0,n.ZP)("div")((e=>{let{theme:t}=e;return{"& .popupOpen":{top:U.ag+16,[t.breakpoints.down("sm")]:{bottom:0}},"& .closeIcon":{position:"absolute",top:6,right:6}}})),$=(0,n.ZP)("div")((e=>{let{theme:t}=e;return{position:"fixed",right:t.spacing(2),bottom:t.spacing(2),top:"100vh",transition:"top 250ms ease-in-out",boxShadow:t.shadows[6],borderRadius:6,zIndex:99999,width:360,overflow:"hidden","@media only screen and (max-width: 450px)":{width:"calc(100% - 32px)",left:t.spacing(2)}}})),G=e=>{let{icon:t,children:a}=e;const[n,s]=(0,l.useState)(!1),i=async()=>{s((e=>!e))};return(0,m.jsxs)(V,{children:[(0,l.cloneElement)(t,{onClick:i}),(0,m.jsx)($,{className:(0,W.Z)({popupOpen:n}),children:n?(0,l.cloneElement)(a,{togglePopup:i}):null})]})};var z=a(94294);(0,n.ZP)("div")((()=>({width:360,padding:"32px",textAlign:"center",marginLeft:"auto",marginRight:"auto"}))),(0,n.ZP)("h4")((()=>({margin:0,marginBottom:"8px",textTransform:"capitalize"}))),(0,n.ZP)("div")((()=>({margin:"8px",paddingTop:"8px",display:"flex",justifyContent:"center"}))),(0,n.ZP)(z.Z)((e=>{let{theme:t}=e;return{margin:"8px",paddingLeft:"24px",paddingRight:"24px",overflow:"hidden",borderRadius:"300px",transition:"all 250ms","&.yesBtn":{"&:hover":{color:"#ffffff",background:`${t.palette.primary.main} !important`,backgroundColor:`${t.palette.primary.main} !important`,fallbacks:[{color:"white !important"}]}},"&.noBtn":{"&:hover":{color:"#ffffff",background:`${t.palette.secondary.main} !important`,backgroundColor:`${t.palette.secondary.main} !important`,fallbacks:[{color:"white !important"}]}}}}));a(4290),a(73693);var H=a(87418),Y=a(6830);var Q=a(44507),q=a(65117),X=a(93457),K=a(82337);const J=(0,X.Z)(K.Z)((e=>{let{theme:t}=e;return{display:"inline-block",color:t.palette.text.primary,"& div:hover":{backgroundColor:t.palette.action.hover}}})),ee=e=>{const[t,a]=l.useState(null),n=l.Children.toArray(e.children);let{shouldCloseOnItemClick:s=!0,horizontalPosition:i="left"}=e;const{settings:r}=(0,Y.Z)(),o=()=>{a(null)};return(0,m.jsxs)(l.Fragment,{children:[(0,m.jsx)(J,{onClick:e=>{a(e.currentTarget)},children:e.menuButton}),(0,m.jsx)(Q.Z,{theme:r.themes[r.activeTheme],children:(0,m.jsx)(q.Z,{elevation:8,getContentAnchorEl:null,anchorEl:t,open:!!t,onClose:o,anchorOrigin:{vertical:"bottom",horizontal:i},transformOrigin:{vertical:"top",horizontal:i},children:n.map(((e,t)=>(0,m.jsx)("div",{onClick:s&&o,children:e},c().generate())))})})]})};var te=a(57482);(0,X.Z)(te.Z)((()=>({borderRadius:2,background:"rgba(0, 0, 0, 0.1)"}))),(0,X.Z)("div")((e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,zIndex:9,width:"100%",display:"flex",alignItems:"center",height:U.ag,background:t.palette.primary.main,color:t.palette.text.primary,"&::placeholder":{color:t.palette.text.primary}}})),(0,X.Z)("input")((e=>{let{theme:t}=e;return{width:"100%",border:"none",outline:"none",fontSize:"1rem",paddingLeft:"20px",height:"calc(100% - 5px)",background:t.palette.primary.main,color:t.palette.text.primary,"&::placeholder":{color:t.palette.text.primary}}})),(0,n.ZP)("div")((e=>{let{theme:t,width:a}=e;return{zIndex:91,width:a,overflow:"hidden",position:"relative",transition:"width 250ms ease",background:t.palette.background.default,[t.breakpoints.down("sm")]:{top:0,left:0,bottom:0,position:"absolute"}}})),(0,n.ZP)("div")((()=>({zIndex:90,width:"100%",height:"100%",position:"absolute",background:"rgba(0, 0, 0, 0.74)"}))),(0,n.ZP)("div")((()=>({height:"100%",display:"flex",position:"relative"}))),(0,n.ZP)("div")((()=>({flexGrow:1,height:"100%",position:"relative"})));const ae=e=>{let{children:t}=e;return(0,m.jsx)(l.Suspense,{fallback:(0,m.jsx)(H.Z,{}),children:t})};a(56580);var le=a(4708);const ne=e=>{let{children:t}=e;const{settings:a}=(0,Y.Z)();let l={...a.themes[a.activeTheme]};return(0,m.jsxs)(Q.Z,{theme:l,children:[(0,m.jsx)(le.ZP,{}),t]})};var se=a(95193),ie=a(95080),re=a(30418),oe=a(57689);const de=(0,n.ZP)("div")((e=>{let{theme:t}=e;return{"& .expandIcon":{transition:"transform 0.3s cubic-bezier(0, 0, 0.2, 1) 0ms",transform:"rotate(90deg)",color:t.palette.common.white},"& .collapseIcon":{transition:"transform 0.3s cubic-bezier(0, 0, 0.2, 1) 0ms",transform:"rotate(0deg)",color:t.palette.common.white},"& .expansion-panel":{overflow:"hidden",transition:"max-height 0.3s cubic-bezier(0, 0, 0.2, 1)"},"& .highlight":{background:t.palette.primary.main},"&.compactNavItem":{width:44,overflow:"hidden",justifyContent:"center !important","& .itemText":{display:"none"},"& .itemIcon":{display:"none"}}}})),ce=(0,n.ZP)(ie.Z)((e=>{let{theme:t}=e;return{height:44,width:"100%",whiteSpace:"pre",overflow:"hidden",paddingRight:"16px",borderRadius:"4px",marginBottom:"8px",display:"flex",justifyContent:"space-between !important",color:t.palette.text.primary,"&:hover":{background:"rgba(255, 255, 255, 0.08)"},"& .icon":{width:36,fontSize:"18px",paddingLeft:"16px",paddingRight:"16px",verticalAlign:"middle",color:"white"}}})),me=(0,n.ZP)("div")((e=>{let{theme:t}=e;return{width:4,height:4,color:"inherit",overflow:"hidden",marginLeft:"20px",marginRight:"8px",borderRadius:"300px !important",background:t.palette.primary.contrastText}})),ue=(0,n.ZP)("span")((e=>{let{theme:t}=e;return{fontSize:"0.875rem",paddingLeft:"0.8rem",verticalAlign:"middle",color:t.palette.common.white}})),pe=(0,n.ZP)("div")((()=>({padding:"1px 4px",overflow:"hidden",borderRadius:"300px"}))),he=e=>{let{item:t,children:a,mode:n}=e;const[i,r]=(0,l.useState)(!0),o=(0,l.useRef)(null),d=(0,l.useRef)(0),{pathname:c}=(0,oe.TH)(),{name:u,icon:p,iconText:h,badge:x}=t,g=(0,l.useCallback)((e=>{if("child"!==e.name)for(let t of e.children)g(t);"child"===e.name?d.current+=e.scrollHeight:d.current+=44}),[]);return(0,l.useEffect)((()=>{if(o){g(o.current);for(let e of o.current.children)e.getAttribute("href")!==c&&"Search"!==u||r(!1)}}),[c,g,u]),(0,m.jsxs)(de,{children:[(0,m.jsxs)(ce,{className:(0,W.Z)({"has-submenu compactNavItem":!0,compactNavItem:"compact"===n,open:!i}),onClick:e=>(e=>{var t;(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.closest(".submenu"))||(d.current=0,g(o.current),r(!i))})(e),children:[(0,m.jsxs)(K.Z,{display:"flex",alignItems:"center",children:[p&&(0,m.jsx)(s.Z,{className:"icon",children:p}),h&&(0,m.jsx)(me,{}),(0,m.jsx)(ue,{className:"sidenavHoverShow",children:u})]}),x&&(0,m.jsx)(pe,{className:"sidenavHoverShow itemIcon",children:x.value}),(0,m.jsx)("div",{className:(0,W.Z)({sidenavHoverShow:!0,collapseIcon:i,expandIcon:!i}),children:(0,m.jsx)(s.Z,{fontSize:"small",sx:{verticalAlign:"middle"},children:"chevron_right"})})]}),(0,m.jsx)("div",{ref:o,className:"expansion-panel submenu",style:i?{maxHeight:"0px"}:{maxHeight:d.current+"px"},children:a})]})},xe=l.memo(he);var ge=a(5574),ve=a(97123),je=a(39157),fe=a(51691),ye=a(65661),Ze=a(84838),Te=a(54357),be=a(69596),Pe=a(79836),Ee=a(53382),Se=a(35855),we=a(53994),Oe=a(68096),Ce=a(30829),Me=a(58406),Ae=a(64387),De=a(93543),Le=a(94070),Ne=a(47317),_e=a(86630);const Ie=l.forwardRef((function(e,t){return(0,m.jsx)(Le.Z,{elevation:6,ref:t,variant:"filled",...e})})),Re=(0,n.ZP)(Pe.Z)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),ke=(0,n.ZP)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),Fe=((0,n.ZP)(ge.Z)((e=>{let{theme:t}=e;return{"& .MuiDialog-paper-root":{backgroundColor:"#ffffff"},"& .MuiDialogActions-root":{padding:t.spacing(1)}}})),e=>{var t,a,n,s,i,r,o,d;new Ze.a;const u=new Te.u,{importMassupdateFile:p,setImportMassupdateFile:h,setOpenAlert:x,setOpenDesc:g,setIsLoading:v}=e,[f,y]=(0,l.useState)(!1),[Z,T]=(0,l.useState)(!1),[b,P]=(0,l.useState)(!1),[E,S]=(0,l.useState)(null),[w,O]=(0,l.useState)(null),[C,M]=(0,l.useState)(null),A=localStorage.getItem("instance"),{bussinessUnitLists:D}=(0,_e.Z)(),[L,N]=(0,l.useState)(!1),[_,I]=(0,l.useState)({BU:""}),R=(e,t)=>{"clickaway"!==t&&P(!1)};(0,l.useEffect)((()=>{null===D||void 0===D||D.length}),[D]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(ge.Z,{open:p,PaperProps:{style:{backgroundColor:"#fff",boxShadow:"none"}},children:[(0,m.jsx)(ye.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Mass Update Part Description in Enovia and ERP"}),(0,m.jsx)(je.Z,{children:(0,m.jsx)(fe.Z,{children:(0,m.jsx)(j.Z,{width:"100%",overflow:"auto",children:(0,m.jsx)(Re,{children:(0,m.jsxs)(Ee.Z,{children:[(0,m.jsxs)(Se.Z,{children:[(0,m.jsx)(we.Z,{align:"left",children:"Design Organization"}),(0,m.jsxs)(we.Z,{align:"left",children:[(0,m.jsxs)(Oe.Z,{fullWidth:!0,children:[(0,m.jsx)(Ce.Z,{id:"bussinessUnit",children:"Select RDO"}),(0,m.jsx)(Me.Z,{labelId:"bussinessUnit",id:"bussinessUnit",name:"BU",size:"medium",label:"Select RDO",fullWidth:!0,style:{width:"70%",maxHeight:"200px"},value:_.BU?_.BU:"",onChange:e=>{I((t=>({...t,[e.target.name]:e.target.value}))),"BU"===e.target.name&&N(!1)},children:null===D||void 0===D?void 0:D.map((e=>(0,m.jsx)(Ae.Z,{value:e.buName,style:{backgroundColor:"#fff"},children:e.buName},e.buName)))})]}),L&&(0,m.jsx)("p",{style:{color:"red"},children:"please select Design Organization"})]})]}),(0,m.jsxs)(Se.Z,{children:[(0,m.jsx)(we.Z,{align:"left",children:"Instance"}),(0,m.jsx)(we.Z,{align:"left",children:(0,m.jsx)(Ce.Z,{id:"bussinessUnit",children:A})})]}),(0,m.jsxs)(Se.Z,{children:[(0,m.jsx)(we.Z,{align:"left",children:"Upload File (Excel File)"}),(0,m.jsxs)(we.Z,{align:"left",children:[(0,m.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,m.jsxs)(z.Z,{component:"label",variant:"contained",startIcon:(0,m.jsx)(be.Z,{}),children:["Upload file",(0,m.jsx)(ke,{type:"file",name:"file",accept:".xls, .xlsx",onChange:e=>{console.log("file selected");const t=e.target.files[0];if(t){const a=t.name.split(".").pop();"xlsx"===a||"xls"===a?(S(e.target.files[0]),O(e.target.files[0].name),y(!1)):(y(!0),O(null),S(null))}else y(!0),O(null),S(null)}})]}),f&&(0,m.jsx)("p",{children:"Please Select xlsx file to Upload "})]}),w&&(0,m.jsx)("p",{children:w})]})]}),(0,m.jsx)(Se.Z,{children:(0,m.jsxs)(we.Z,{colSpan:2,children:[(0,m.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,m.jsx)("a",{onClick:()=>{u.downloadSampleFile("massUpdate/sample-massUpdatepartDescription.xlsx")},download:"Example-XLSX-document",rel:"noreferrer",style:{color:"blue",cursor:"pointer"},children:"Click Here"})," to download the sample Excel template for the Part Description Update."]}),(0,m.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,m.jsx)("b",{children:"Note:"})," Use only the Excel template, downloaded from this page. Other Excel templates will not be accepted. The Excel file has four columns with Header labels in the following order. Fields mark with * are the mandatory fields in the input excel."]}),(0,m.jsxs)("div",{style:{paddingTop:"10px"},children:["Part Type*",(0,m.jsx)("br",{}),"Part Name*",(0,m.jsx)("br",{}),"Part Revision*",(0,m.jsx)("br",{}),"Part Description*",(0,m.jsx)("br",{})]})]})})]})})})})}),(0,m.jsxs)(ve.Z,{children:[(0,m.jsx)(z.Z,{onClick:()=>{let e=!1;if((null===_.BU||_.BU.length<1)&&(N(!0),e=!0),(null===E||E.length<1)&&(y(!0),e=!0),!e&&null!==E){if(window.confirm("You have requested a report that will take some time to complete. This report will continue to run if you close this browser window. To access this report later, use 'Mass Update Part Description' > My Report.")){h(!1),v(!0),console.log("ok for mass update");let e={file:E,data:{BU:_.BU,Instance:A}};console.log(e,"postData"),u.massUpdatePartDescription(e).then((e=>{console.log(e,"response 11111"),T(e),P(!0),S(null),O(null),h(!1),v(!1),x(!1),"success"===(null===e||void 0===e?void 0:e.status)?(x(!0),g({severity:"success",desc:null===e||void 0===e?void 0:e.msg})):"failed"===(null===e||void 0===e?void 0:e.status)&&(x(!0),g({severity:"error",desc:null===e||void 0===e?void 0:e.msg}))}))}console.log("cancle for mass update")}},children:"Done"}),(0,m.jsx)(z.Z,{autoFocus:!0,onClick:()=>{S(null),h(!1)},children:"Cancel"})]})]}),(0,m.jsx)(De.Z,{open:b,autoHideDuration:6e3,onClose:R,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,m.jsxs)(Ie,{onClose:R,severity:!Z||null!==Z&&void 0!==Z&&null!==(t=Z.errorInTemplate)&&void 0!==t&&t.length||null!==Z&&void 0!==Z&&null!==(a=Z.errorInPlants)&&void 0!==a&&a.length?"error":"success",sx:{width:"100%"},children:[(0,m.jsx)(Ne.Z,{children:!Z||null!==Z&&void 0!==Z&&null!==(n=Z.errorInTemplate)&&void 0!==n&&n.length||null!==Z&&void 0!==Z&&null!==(s=Z.errorInPlants)&&void 0!==s&&s.length?"Error":"Success"}),Z&&(null!==Z&&void 0!==Z&&null!==(i=Z.errorInTemplate)&&void 0!==i&&i.length||null!==Z&&void 0!==Z&&null!==(r=Z.errorInPlants)&&void 0!==r&&r.length)?(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{children:[null===Z||void 0===Z?void 0:Z.msg," ",(0,m.jsx)("br",{}),null!==Z&&void 0!==Z&&Z.errorInTemplateCount?(0,m.jsxs)(m.Fragment,{children:["Total Template Count: ",null===Z||void 0===Z?void 0:Z.errorInTemplateCount," ",(0,m.jsx)("br",{}),"Templates are: ",(0,m.jsx)("br",{}),(0,m.jsx)("ul",{children:null===Z||void 0===Z||null===(o=Z.errorInTemplate)||void 0===o?void 0:o.map((e=>(0,m.jsx)("li",{children:e},c().generate())))})]}):(0,m.jsx)(m.Fragment,{}),null!==Z&&void 0!==Z&&Z.errorInPlantCount?(0,m.jsxs)(m.Fragment,{children:["Total Plant Count: ",null===Z||void 0===Z?void 0:Z.errorInPlantCount," ",(0,m.jsx)("br",{}),"Plants are: ",(0,m.jsx)("br",{}),(0,m.jsx)("ul",{children:null===Z||void 0===Z||null===(d=Z.errorInPlants)||void 0===d?void 0:d.map((e=>(0,m.jsx)("li",{children:e},c().generate())))})]}):(0,m.jsx)(m.Fragment,{})]})}):(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{children:[Z.msg," ",(0,m.jsx)("br",{}),"Parts Description Updated: ",Z.updateTemplates," ",(0,m.jsx)("br",{})]})})]})})]})});var Be=a(9903),Ue=a(10765),We=a(85523),Ve=a(61419),$e=a(10778);const Ge=(0,n.ZP)(Pe.Z)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),ze=e=>{new Ze.a;const t=new Be.q,{exportAllTempMapping:a,setExportAllTempMapping:n}=e,[s,i]=(0,l.useState)(null),[r,o]=(0,l.useState)(!1),[d,c]=(0,l.useState)(null),{bussinessUnitLists:u}=(0,_e.Z)(),[p,h]=(0,l.useState)(!1),[x,g]=(0,l.useState)({BU:"",dataToExport:"masterData"}),v=e=>{g((t=>({...t,[e.target.name]:e.target.value}))),"BU"===e.target.name&&h(!1),console.info(e.target,"importSelectionValues")};return(0,l.useEffect)((()=>{null===u||void 0===u||u.length}),[]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(ge.Z,{open:a,PaperProps:{style:{backgroundColor:"#fff",boxShadow:"none"}},children:[(0,m.jsx)(ye.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export All Template Mappings"}),(0,m.jsx)(je.Z,{children:(0,m.jsx)(fe.Z,{children:(0,m.jsx)(j.Z,{width:"100%",overflow:"auto",children:(0,m.jsx)(Ge,{children:(0,m.jsxs)(Ee.Z,{children:[(0,m.jsxs)(Se.Z,{children:[(0,m.jsx)(we.Z,{align:"left",children:"Design Organization"}),(0,m.jsxs)(we.Z,{align:"left",children:[(0,m.jsxs)(Oe.Z,{fullWidth:!0,children:[(0,m.jsx)(Ce.Z,{id:"bussinessUnit",children:"Select RDO"}),(0,m.jsx)(Me.Z,{labelId:"bussinessUnit",id:"bussinessUnit",name:"BU",size:"medium",label:"Select RDO",fullWidth:!0,style:{width:"70%",maxHeight:"200px"},value:x.BU?x.BU:"",onChange:v,children:null===u||void 0===u?void 0:u.map((e=>(0,m.jsx)(Ae.Z,{value:e.buName,style:{backgroundColor:"#fff"},children:e.buName},e.buName)))})]}),p&&(0,m.jsx)("p",{style:{color:"red"},children:"please select Design Organization"})]})]}),(0,m.jsxs)(Se.Z,{children:[(0,m.jsx)(we.Z,{align:"left",children:"Data to Export"}),(0,m.jsxs)(we.Z,{align:"left",children:[(0,m.jsx)("div",{style:{paddingTop:"10px"},children:(0,m.jsx)(Oe.Z,{children:(0,m.jsxs)(Ue.Z,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"dataToExport",defaultValue:"masterData",onChange:v,children:[(0,m.jsx)(We.Z,{value:"masterData",control:(0,m.jsx)(Ve.Z,{}),label:"Master Data"}),(0,m.jsx)(We.Z,{value:"draftData",control:(0,m.jsx)(Ve.Z,{}),label:"Proposed Changes"})]})})}),s&&(0,m.jsx)("p",{children:s})]})]})]})})})})}),(0,m.jsxs)(ve.Z,{children:[(0,m.jsx)(z.Z,{onClick:()=>{let e=!1;if((null===x.BU||x.BU.length<1)&&(h(!0),e=!0),e)return;let a={rdo:x.BU,dataToExport:x.dataToExport};console.log(a,"postData"),t.exportAllTemplateMapping(a).then((e=>{console.log(e,"response 11111"),i(null),o(!0),c({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg}),n(!1)}))},children:"Done"}),(0,m.jsx)(z.Z,{autoFocus:!0,onClick:()=>{n(!1)},children:"Cancel"})]})]}),d?(0,m.jsx)($e.Z,{openAlert:r,openDesc:d,setOpenAlert:o}):(0,m.jsx)(m.Fragment,{})]})},He=(0,n.ZP)(Pe.Z)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),Ye=e=>{new Ze.a;const t=new Be.q,{exportAllAdminGeneralPropertiesDialog:a,setExportAllAdminGeneralPropertiesDialog:n}=e,[s,i]=(0,l.useState)(null),[r,o]=(0,l.useState)(!1),[d,c]=(0,l.useState)(null),{bussinessUnitLists:u}=(0,_e.Z)(),[p,h]=(0,l.useState)(!1),[x,g]=(0,l.useState)({BU:"",dataToExport:"masterData"}),v=e=>{g((t=>({...t,[e.target.name]:e.target.value}))),"BU"===e.target.name&&h(!1)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(ge.Z,{open:a,PaperProps:{style:{backgroundColor:"#fff",boxShadow:"none"}},children:[(0,m.jsx)(ye.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export All Admin General Properties"}),(0,m.jsx)(je.Z,{children:(0,m.jsx)(fe.Z,{children:(0,m.jsx)(j.Z,{width:"100%",overflow:"auto",children:(0,m.jsx)(He,{children:(0,m.jsxs)(Ee.Z,{children:[(0,m.jsxs)(Se.Z,{children:[(0,m.jsx)(we.Z,{align:"left",children:"Design Organization"}),(0,m.jsxs)(we.Z,{align:"left",children:[(0,m.jsxs)(Oe.Z,{fullWidth:!0,children:[(0,m.jsx)(Ce.Z,{id:"bussinessUnit",children:"Select RDO"}),(0,m.jsx)(Me.Z,{labelId:"bussinessUnit",id:"bussinessUnit",name:"BU",size:"medium",label:"Select RDO",fullWidth:!0,style:{width:"70%",maxHeight:"200px"},value:x.BU?x.BU:"",onChange:v,children:null===u||void 0===u?void 0:u.map((e=>(0,m.jsx)(Ae.Z,{value:e.buName,style:{backgroundColor:"#fff"},children:e.buName},e.buName)))})]}),p&&(0,m.jsx)("p",{style:{color:"red"},children:"please select Design Organization"})]})]}),(0,m.jsxs)(Se.Z,{children:[(0,m.jsx)(we.Z,{align:"left",children:"Data to Export"}),(0,m.jsxs)(we.Z,{align:"left",children:[(0,m.jsx)("div",{style:{paddingTop:"10px"},children:(0,m.jsx)(Oe.Z,{children:(0,m.jsxs)(Ue.Z,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"dataToExport",defaultValue:"masterData",onChange:v,children:[(0,m.jsx)(We.Z,{value:"masterData",control:(0,m.jsx)(Ve.Z,{}),label:"Master Data"}),(0,m.jsx)(We.Z,{value:"draftData",control:(0,m.jsx)(Ve.Z,{}),label:"Proposed Changes"})]})})}),s&&(0,m.jsx)("p",{children:s})]})]})]})})})})}),(0,m.jsxs)(ve.Z,{children:[(0,m.jsx)(z.Z,{onClick:()=>{let e=!1;if((null===x.BU||x.BU.length<1)&&(h(!0),e=!0),e)return;let a={rdo:x.BU,dataToExport:x.dataToExport};t.exportAllAdminGeneralProperties(a).then((e=>{console.log(e,"response 11111"),i(null),o(!0),c({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg}),n(!1)}))},children:"Done"}),(0,m.jsx)(z.Z,{autoFocus:!0,onClick:()=>{n(!1)},children:"Cancel"})]})]}),d?(0,m.jsx)($e.Z,{openAlert:r,openDesc:d,setOpenAlert:o}):(0,m.jsx)(m.Fragment,{})]})};var Qe=a(96171),qe=a(31220);const Xe=(0,n.ZP)(Pe.Z)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),Ke=e=>{new Ze.a;const t=new Be.q,{exportAllAdminSystemSetupsDialog:a,setExportAllAdminSystemSetupsDialog:n}=e,[s,i]=(0,l.useState)(null),[r,o]=(0,l.useState)(!1),[d,c]=(0,l.useState)(null),{bussinessUnitLists:u}=(0,_e.Z)(),[p,h]=(0,l.useState)(!1),[x,g]=(0,l.useState)({BU:"",dataToExport:"masterData"}),v=e=>{g((t=>({...t,[e.target.name]:e.target.value}))),"BU"===e.target.name&&h(!1)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(ge.Z,{open:a,PaperProps:{style:{backgroundColor:"#fff",boxShadow:"none"}},children:[(0,m.jsx)(ye.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export All Admin System System"}),(0,m.jsx)(je.Z,{children:(0,m.jsx)(fe.Z,{children:(0,m.jsx)(j.Z,{width:"100%",overflow:"auto",children:(0,m.jsx)(Xe,{children:(0,m.jsxs)(Ee.Z,{children:[(0,m.jsxs)(Se.Z,{children:[(0,m.jsx)(we.Z,{align:"left",children:"Design Organization"}),(0,m.jsxs)(we.Z,{align:"left",children:[(0,m.jsxs)(Oe.Z,{fullWidth:!0,children:[(0,m.jsx)(Ce.Z,{id:"bussinessUnit",children:"Select RDO"}),(0,m.jsx)(Me.Z,{labelId:"bussinessUnit",id:"bussinessUnit",name:"BU",size:"medium",label:"Select RDO",fullWidth:!0,style:{width:"70%",maxHeight:"200px"},value:x.BU?x.BU:"",onChange:v,children:null===u||void 0===u?void 0:u.map((e=>(0,m.jsx)(Ae.Z,{value:e.buName,style:{backgroundColor:"#fff"},children:e.buName},e.buName)))})]}),p&&(0,m.jsx)("p",{style:{color:"red"},children:"please select Design Organization"})]})]}),(0,m.jsxs)(Se.Z,{children:[(0,m.jsx)(we.Z,{align:"left",children:"Data to Export"}),(0,m.jsxs)(we.Z,{align:"left",children:[(0,m.jsx)("div",{style:{paddingTop:"10px"},children:(0,m.jsx)(Oe.Z,{children:(0,m.jsxs)(Ue.Z,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"dataToExport",defaultValue:"masterData",onChange:v,children:[(0,m.jsx)(We.Z,{value:"masterData",control:(0,m.jsx)(Ve.Z,{}),label:"Master Data"}),(0,m.jsx)(We.Z,{value:"draftData",control:(0,m.jsx)(Ve.Z,{}),label:"Proposed Changes"})]})})}),s&&(0,m.jsx)("p",{children:s})]})]})]})})})})}),(0,m.jsxs)(ve.Z,{children:[(0,m.jsx)(z.Z,{onClick:()=>{let e=!1;if((null===x.BU||x.BU.length<1)&&(h(!0),e=!0),e)return;let a={rdo:x.BU,dataToExport:x.dataToExport};t.exportAllAdminSystemSetups(a).then((e=>{console.log(e,"response 11111"),i(null),o(!0),c({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg}),n(!1)}))},children:"Done"}),(0,m.jsx)(z.Z,{autoFocus:!0,onClick:()=>{n(!1)},children:"Cancel"})]})]}),d?(0,m.jsx)($e.Z,{openAlert:r,openDesc:d,setOpenAlert:o}):(0,m.jsx)(m.Fragment,{})]})},Je=(0,n.ZP)(O.nv)((e=>{let{theme:t,mode:a}=e;return{fontSize:"12px",marginTop:"20px",marginLeft:"15px",marginBottom:"10px",textTransform:"uppercase",display:"compact"===a&&"none",color:t.palette.text.secondary}})),et={display:"flex",overflow:"hidden",borderRadius:"4px",height:44,whiteSpace:"pre",marginBottom:"8px",textDecoration:"none",justifyContent:"space-between",transition:"all 150ms ease-in","&:hover":{background:"rgba(255, 255, 255, 0.08)"},"&.compactNavItem":{overflow:"hidden",justifyContent:"center !important"},"& .icon":{fontSize:"18px",paddingLeft:"16px",paddingRight:"16px",verticalAlign:"middle"}},tt=(0,n.ZP)("a")((e=>{let{theme:t}=e;return{...et,color:t.palette.text.primary}})),at=(0,n.ZP)(j.Z)((e=>{let{theme:t}=e;return{"& a":{...et,color:t.palette.text.primary},"& .navItemActive":{backgroundColor:"rgba(255, 255, 255, 0.16)"}}})),lt=(0,n.ZP)(O.Dr)((e=>{let{mode:t,theme:a}=e;return{fontSize:"0.875rem",paddingLeft:"0.8rem",display:"compact"===t&&"none",color:a.palette.common.white}})),nt=(0,n.ZP)(O.Dr)((e=>{let{mode:t,theme:a}=e;return{fontSize:"0.875rem",paddingLeft:"0.8rem",display:"compact"===t&&"none",color:a.palette.common.white}})),st=(0,n.ZP)("div")((e=>{let{theme:t}=e;return{padding:"2px",marginLeft:"24px",marginRight:"8px",overflow:"hidden",borderRadius:"300px",background:t.palette.common.white}})),it=(0,n.ZP)("div")((()=>({padding:"1px 8px",overflow:"hidden",borderRadius:"300px"}))),rt=e=>{let{items:t}=e;const{settings:a,updateSettings:n}=(0,Y.Z)(),[i,r]=(0,l.useState)(!1),{mode:d}=a.layout1Settings.leftSidebar,u=(0,re.Z)(),p=(0,se.Z)(u.breakpoints.down("md")),[h,x]=(0,l.useState)(!1),[g,v]=(0,l.useState)(!1),[f,y]=(0,l.useState)(!1),[Z,T]=(0,l.useState)(!1),[b,P]=(0,l.useState)(null),[E,S]=(0,l.useState)(!1),w=e=>{"massUpdate"===e?x(!0):"exportAll"===e?v(!0):"exportAllAdminGeneralProperties"===e?y(!0):"exportAllAdminSystemSetups"===e&&S(!0)},O=()=>{p&&C({mode:"close"})},C=e=>{let t=a.activeLayout+"Settings",l=a[t];n({...a,[t]:{...l,leftSidebar:{...l.leftSidebar,...e}}})},M=e=>e.map(((e,t)=>"label"===e.type?(0,m.jsx)(Je,{mode:d,className:"sidenavHoverShow",children:e.label},c().generate()):e.children?(0,m.jsx)(xe,{mode:d,item:e,children:(0,m.jsx)("div",{style:{marginLeft:"20px"},children:M(e.children)})}):"extLink"===e.type?(0,m.jsx)(tt,{href:e.path,className:`${"compact"===d&&"compactNavItem"}`,rel:"noopener noreferrer",target:"_blank",children:(0,m.jsxs)(ie.Z,{name:"child",sx:{width:"100%"},children:[e.icon?(0,m.jsx)(s.Z,{className:"icon",children:e.icon}):(0,m.jsx)("span",{className:"item-icon icon-text",children:e.iconText}),(0,m.jsx)(lt,{mode:d,className:"sidenavHoverShow",children:e.name}),(0,m.jsx)(j.Z,{mx:"auto"}),e.badge&&(0,m.jsx)(it,{children:e.badge.value})]},e.name)},c().generate()):"popup3"===e.type?(0,m.jsx)(at,{children:void 0===e.type||"popup3"===e.type||"popup"!==e.type?(0,m.jsx)(m.Fragment,{children:"popup3"===e.type?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.NavLink,{children:(0,m.jsxs)(ie.Z,{onClick:()=>{w(e.path)},name:"child",sx:{width:"100%"},children:[null!==e&&void 0!==e&&e.icon?(0,m.jsx)(s.Z,{className:"icon",sx:{width:36},children:e.icon}):(0,m.jsxs)(l.Fragment,{children:[(0,m.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,m.jsx)(j.Z,{className:"nav-bullet-text",sx:{ml:"20px",fontSize:"11px",display:"compact"!==d&&"none"},children:e.iconText})]}),(0,m.jsx)(lt,{mode:d,className:"sidenavHoverShow",children:e.name}),(0,m.jsx)(j.Z,{mx:"auto"}),e.badge&&(0,m.jsx)(it,{className:"sidenavHoverShow",children:e.badge.value})]},e.name)}),(0,m.jsx)(Ye,{exportAllAdminGeneralPropertiesDialog:f,setExportAllAdminGeneralPropertiesDialog:y})]}):(0,m.jsx)(o.NavLink,{onClick:O,to:`${e.path}`,className:e=>{let{isActive:t}=e;return t?`navItemActive ${"compact"===d&&"compactNavItem"}`:`${"compact"===d&&"compactNavItem"}`},children:(0,m.jsxs)(ie.Z,{name:"child",sx:{width:"100%"},children:[null!==e&&void 0!==e&&e.icon?(0,m.jsx)(s.Z,{className:"icon",sx:{width:36},children:e.icon}):(0,m.jsxs)(l.Fragment,{children:[(0,m.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,m.jsx)(j.Z,{className:"nav-bullet-text",sx:{ml:"20px",fontSize:"11px",display:"compact"!==d&&"none"},children:e.iconText})]}),(0,m.jsx)(lt,{mode:d,className:"sidenavHoverShow",children:e.name}),(0,m.jsx)(j.Z,{mx:"auto"}),e.badge&&(0,m.jsx)(it,{className:"sidenavHoverShow",children:e.badge.value})]},e.name)})}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(at,{children:(0,m.jsx)(o.NavLink,{children:(0,m.jsx)(ie.Z,{onClick:()=>{w(e.path)},name:"child",sx:{width:"100%"},children:(0,m.jsxs)(l.Fragment,{children:[(0,m.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,m.jsx)(nt,{mode:d,className:"sidenavHoverShow",children:e.name})]})},e.name)})},c().generate()),(0,m.jsx)(Fe,{importMassupdateFile:h,setImportMassupdateFile:x,setOpenAlert:T,setOpenDesc:P,setIsLoading:r}),b?(0,m.jsx)(Qe.Z,{openAlert:Z,openDesc:b,setOpenAlert:T}):(0,m.jsx)(m.Fragment,{}),i?(0,m.jsx)("div",{className:"textAlignCenter",children:(0,m.jsx)(qe.Z,{show:i})}):(0,m.jsx)(m.Fragment,{})]})},c().generate()):"popup6"===e.type?(0,m.jsx)(at,{children:void 0===e.type||"popup6"===e.type||"popup"!==e.type?(0,m.jsx)(m.Fragment,{children:"popup6"===e.type?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.NavLink,{children:(0,m.jsxs)(ie.Z,{onClick:()=>{w(e.path)},name:"child",sx:{width:"100%"},children:[null!==e&&void 0!==e&&e.icon?(0,m.jsx)(s.Z,{className:"icon",sx:{width:36},children:e.icon}):(0,m.jsxs)(l.Fragment,{children:[(0,m.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,m.jsx)(j.Z,{className:"nav-bullet-text",sx:{ml:"20px",fontSize:"11px",display:"compact"!==d&&"none"},children:e.iconText})]}),(0,m.jsx)(lt,{mode:d,className:"sidenavHoverShow",children:e.name}),(0,m.jsx)(j.Z,{mx:"auto"}),e.badge&&(0,m.jsx)(it,{className:"sidenavHoverShow",children:e.badge.value})]},e.name)}),(0,m.jsx)(Ke,{exportAllAdminSystemSetupsDialog:E,setExportAllAdminSystemSetupsDialog:S})]}):(0,m.jsx)(o.NavLink,{onClick:O,to:`${e.path}`,className:e=>{let{isActive:t}=e;return t?`navItemActive ${"compact"===d&&"compactNavItem"}`:`${"compact"===d&&"compactNavItem"}`},children:(0,m.jsxs)(ie.Z,{name:"child",sx:{width:"100%"},children:[null!==e&&void 0!==e&&e.icon?(0,m.jsx)(s.Z,{className:"icon",sx:{width:36},children:e.icon}):(0,m.jsxs)(l.Fragment,{children:[(0,m.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,m.jsx)(j.Z,{className:"nav-bullet-text",sx:{ml:"20px",fontSize:"11px",display:"compact"!==d&&"none"},children:e.iconText})]}),(0,m.jsx)(lt,{mode:d,className:"sidenavHoverShow",children:e.name}),(0,m.jsx)(j.Z,{mx:"auto"}),e.badge&&(0,m.jsx)(it,{className:"sidenavHoverShow",children:e.badge.value})]},e.name)})}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(at,{children:(0,m.jsx)(o.NavLink,{children:(0,m.jsx)(ie.Z,{onClick:()=>{w(e.path)},name:"child",sx:{width:"100%"},children:(0,m.jsxs)(l.Fragment,{children:[(0,m.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,m.jsx)(nt,{mode:d,className:"sidenavHoverShow",children:e.name})]})},e.name)})},c().generate()),(0,m.jsx)(Fe,{importMassupdateFile:h,setImportMassupdateFile:x,setOpenAlert:T,setOpenDesc:P,setIsLoading:r}),b?(0,m.jsx)(Qe.Z,{openAlert:Z,openDesc:b,setOpenAlert:T}):(0,m.jsx)(m.Fragment,{}),i?(0,m.jsx)("div",{className:"textAlignCenter",children:(0,m.jsx)(qe.Z,{show:i})}):(0,m.jsx)(m.Fragment,{})]})},c().generate()):(0,m.jsx)(at,{children:void 0===e.type||"popup2"===e.type||"popup"!==e.type?(0,m.jsx)(m.Fragment,{children:"popup2"===e.type?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.NavLink,{children:(0,m.jsxs)(ie.Z,{onClick:()=>{w(e.path)},name:"child",sx:{width:"100%"},children:[null!==e&&void 0!==e&&e.icon?(0,m.jsx)(s.Z,{className:"icon",sx:{width:36},children:e.icon}):(0,m.jsxs)(l.Fragment,{children:[(0,m.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,m.jsx)(j.Z,{className:"nav-bullet-text",sx:{ml:"20px",fontSize:"11px",display:"compact"!==d&&"none"},children:e.iconText})]}),(0,m.jsx)(lt,{mode:d,className:"sidenavHoverShow",children:e.name}),(0,m.jsx)(j.Z,{mx:"auto"}),e.badge&&(0,m.jsx)(it,{className:"sidenavHoverShow",children:e.badge.value})]},e.name)}),(0,m.jsx)(ze,{exportAllTempMapping:g,setExportAllTempMapping:v})]}):(0,m.jsx)(o.NavLink,{onClick:O,to:`${e.path}`,className:e=>{let{isActive:t}=e;return t?`navItemActive ${"compact"===d&&"compactNavItem"}`:`${"compact"===d&&"compactNavItem"}`},children:(0,m.jsxs)(ie.Z,{name:"child",sx:{width:"100%"},children:[null!==e&&void 0!==e&&e.icon?(0,m.jsx)(s.Z,{className:"icon",sx:{width:36},children:e.icon}):(0,m.jsxs)(l.Fragment,{children:[(0,m.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,m.jsx)(j.Z,{className:"nav-bullet-text",sx:{ml:"20px",fontSize:"11px",display:"compact"!==d&&"none"},children:e.iconText})]}),(0,m.jsx)(lt,{mode:d,className:"sidenavHoverShow",children:e.name}),(0,m.jsx)(j.Z,{mx:"auto"}),e.badge&&(0,m.jsx)(it,{className:"sidenavHoverShow",children:e.badge.value})]},e.name)})}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(at,{children:(0,m.jsx)(o.NavLink,{children:(0,m.jsx)(ie.Z,{onClick:()=>{w(e.path)},name:"child",sx:{width:"100%"},children:(0,m.jsxs)(l.Fragment,{children:[(0,m.jsx)(st,{className:"nav-bullet",sx:{display:"compact"===d&&"none"}}),(0,m.jsx)(nt,{mode:d,className:"sidenavHoverShow",children:e.name})]})},e.name)})},c().generate()),(0,m.jsx)(Fe,{importMassupdateFile:h,setImportMassupdateFile:x,setOpenAlert:T,setOpenDesc:P,setIsLoading:r}),b?(0,m.jsx)(Qe.Z,{openAlert:Z,openDesc:b,setOpenAlert:T}):(0,m.jsx)(m.Fragment,{}),i?(0,m.jsx)("div",{className:"textAlignCenter",children:(0,m.jsx)(qe.Z,{show:i})}):(0,m.jsx)(m.Fragment,{})]})},c().generate())));return(0,m.jsx)("div",{className:"navigation",children:M(t)})},ot=l.memo(rt);var dt=a(57621);const ct=(0,X.Z)(dt.Z)((()=>({height:"100%",padding:"20px 24px"}))),mt=(0,X.Z)("div")((e=>{let{subtitle:t}=e;return{fontSize:"1rem",fontWeight:"500",textTransform:"capitalize",marginBottom:!t&&"16px"}})),ut=e=>{let{children:t,title:a,subtitle:l,icon:n}=e;return(0,m.jsxs)(ct,{elevation:6,children:[(0,m.jsx)(mt,{subtitle:l,children:a}),l&&(0,m.jsx)(K.Z,{sx:{mb:2},children:l}),t]})};a(53331);(0,n.ZP)((e=>{let{palette:t,...a}=e;return{"@global":{".px-80":{paddingRight:"80px",paddingLeft:"80px",[a.breakpoints.down("sm")]:{paddingRight:"16px",paddingLeft:"16px"}},".px-sm-30":{padding:"0px 30px",[a.breakpoints.down("sm")]:{padding:"0px 16px"}},".p-sm-24":{padding:"24px !important",[a.breakpoints.down("sm")]:{padding:"16px !important"}},".px-sm-24":{padding:"0px 24px !important",[a.breakpoints.down("sm")]:{padding:"0px 12px !important"}},".pt-sm-24":{paddingTop:"24px !important",[a.breakpoints.down("sm")]:{paddingTop:"16px !important"}},".pl-sm-24":{paddingLeft:"24px !important",[a.breakpoints.down("sm")]:{paddingLeft:"16px !important"}},".m-auto":{margin:"auto !important"},".mx-auto":{marginLeft:"auto !important",marginRight:"auto !important"},".my-auto":{marginTop:"auto !important",marginBottom:"auto !important"},".m-sm-30":{margin:"30px",[a.breakpoints.down("sm")]:{margin:"16px"}},".mb-sm-30":{marginBottom:"30px",[a.breakpoints.down("sm")]:{marginBottom:"16px"}},".w-full":{width:"100%"},".mui-invalid":{color:"#FF3D57"},".max-w-full":{maxWidth:"100% !important"},".min-w-full":{minWidth:"100% !important"},".min-w-full-screen":{minWidth:"100vw !important"},".w-full-screen":{width:"100vw"},".min-w-600":{minWidth:"600px"},".min-w-750":{minWidth:"750px"},".min-w-1050":{minWidth:"1050px"},".max-w-450":{maxWidth:"450px"},".max-w-550":{maxWidth:"550px"},".max-h-500":{maxHeight:"500px"},".max-w-600":{maxWidth:"600px"},".max-w-770":{maxWidth:"770px"},".max-w-800":{maxWidth:"800px"},".max-w-850":{maxWidth:"850px"},".max-w-900":{maxWidth:"900px"},".max-w-1340":{maxWidth:"1340px"},".h-full":{height:"100% !important"},".min-h-full":{minHeight:"100% !important"},".h-auto":{height:"auto"},".h-full-screen":{height:"100vh"},".min-h-full-screen":{minHeight:"100vh !important"},".h-150px":{height:"150px !important"},".size-36":{height:"36px !important",width:"36px !important"},".size-24":{height:"24px !important",width:"24px !important"},...pt(0,25,.25,"rem"),...pt(1,16,1,"px"),...pt(-25,-1,.25,"rem"),...pt(-16,-1,1,"px"),...ht()}}}));const pt=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.25,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rem",l={};for(let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;n<=e;n++)l[`.m-${n}${"px"===a?"px":""}`]={margin:`${n*t}${a} !important`},l[`.mt-${n}${"px"===a?"px":""}`]={marginTop:`${n*t}${a} !important`},l[`.mb-${n}${"px"===a?"px":""}`]={marginBottom:`${n*t}${a} !important`},l[`.mr-${n}${"px"===a?"px":""}`]={marginRight:`${n*t}${a} !important`},l[`.ml-${n}${"px"===a?"px":""}`]={marginLeft:`${n*t}${a} !important`},l[`.mx-${n}${"px"===a?"px":""}`]={marginLeft:`${n*t}${a} !important`,marginRight:`${n*t}${a} !important`},l[`.my-${n}${"px"===a?"px":""}`]={marginTop:`${n*t}${a} !important`,marginBottom:`${n*t}${a} !important`},l[`.p-${n}${"px"===a?"px":""}`]={padding:`${n*t}${a} !important`},l[`.pt-${n}${"px"===a?"px":""}`]={paddingTop:`${n*t}${a} !important`},l[`.pb-${n}${"px"===a?"px":""}`]={paddingBottom:`${n*t}${a} !important`},l[`.pr-${n}${"px"===a?"px":""}`]={paddingRight:`${n*t}${a} !important`},l[`.pl-${n}${"px"===a?"px":""}`]={paddingLeft:`${n*t}${a} !important`},l[`.px-${n}${"px"===a?"px":""}`]={paddingLeft:`${n*t}${a} !important`,paddingRight:`${n*t}${a} !important`},l[`.py-${n}${"px"===a?"px":""}`]={paddingTop:`${n*t}${a} !important`,paddingBottom:`${n*t}${a} !important`};return l},ht=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"px",l={};for(let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;n<=e;n+=t)l[`.w-${n}`]={width:`${n}${a} !important`},l[`.min-w-${n}`]={minWidth:`${n}${a} !important`},l[`.max-w-${n}`]={maxWidth:`${n}${a} !important`},l[`.h-${n}`]={height:`${n}${a} !important`},l[`.min-h-${n}`]={minHeight:`${n}${a} !important`},l[`.max-h-${n}`]={maxHeight:`${n}${a} !important`};return l},xt=((0,n.ZP)((e=>{let{palette:t,...a}=e;return{"@global":{".circular-image-small":{height:"48px",width:"48px",borderRadius:"50%",overflow:"hidden"},".card":{transition:"all 0.3s ease"},".card:hover":{boxShadow:a.shadows[12]},".card-title":{fontSize:"1rem",textTransform:"capitalize",fontWeight:"500"},".card-subtitle":{fontSize:"0.875rem",color:"var(--text-muted)"},".theme-dark .card-subtitle":{color:"rgba(255, 255, 255, 0.54)"},".hide-on-mobile":{display:"inherit"},"@media screen and (max-width: 767px)":{".hide-on-mobile":{display:"none !important"},".show-on-mobile":{display:"inherit !important"},".invisible-on-pc":{visibility:"visible"}},"@media screen and (min-width: 1200px)":{".hide-on-pc":{display:"none !important"}},"@media screen and (max-width: 1200px)":{".show-on-pc":{display:"none !important"}},".VictoryContainer svg":{height:"100% !important"},".box-shadow-none":{boxShadow:"none !important"},".circle-44":{height:"44px !important",width:"44px !important"},".circle-32":{height:"32px !important",minHeight:"32px !important",width:"32px !important"},".circle-32 .MuiFab-root":{minHeight:"32px !important"},".circle-32 .MuiIcon-root":{fontSize:"13px !important"},".show-on-mobile":{display:"none !important"},".invisible-on-pc":{visibility:"hidden"},".highlight-js pre":{whiteSpace:"pre-line"},".cursor-pointer":{cursor:"pointer"},".cursor-move":{cursor:"move"},".avatar":{height:"32px !important",width:"32px !important"},".face-group .avatar:not(:first-child)":{marginLeft:"-0.875rem !important"},".opacity-1":{opacity:1},".datatimeInputCls":{opacity:1}}}})),e=>{let{children:t}=e;return t||null}),gt=l.memo(xt)},48625:(e,t,a)=>{"use strict";a.d(t,{o:()=>P,Z:()=>E});var l=a(72791),n=a(56588),s=a(57689),i=a(9903),r=a(98286),o=(a(31220),a(13239)),d=a(69383),c=a(94294),m=a(66934),u=a(5574),p=a(65661),h=a(39157),x=a(97123),g=a(13400),v=a(29823),j=a(20890),f=a(80184);const y=(0,m.ZP)(u.Z)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}}));function Z(e){let{isBUModified:t,updateBUModifiedData:a}=e;const[n,s]=l.useState(!1),i=(e,t)=>{"backdropClick"!==t&&"escapeKeyDown"!==t&&(s(!1),a())};return(0,l.useEffect)((()=>{s(t)}),[t]),(0,f.jsx)(l.Fragment,{children:(0,f.jsxs)(y,{onClose:i,"aria-labelledby":"customized-dialog-title",open:n,children:[(0,f.jsx)(p.Z,{sx:{m:0,p:2},id:"customized-dialog-title",children:"Organization Credentials Updated"}),(0,f.jsx)(g.Z,{"aria-label":"close",onClick:i,sx:e=>({position:"absolute",right:8,top:8,color:e.palette.grey[500]}),children:(0,f.jsx)(v.Z,{})}),(0,f.jsx)(h.Z,{dividers:!0,children:(0,f.jsxs)(j.Z,{gutterBottom:!0,children:["The credentials for the organization have been modified. To ensure you have the latest data,",(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),'please click "Okay" to proceed.']})}),(0,f.jsx)(x.Z,{children:(0,f.jsx)(c.Z,{autoFocus:!0,onClick:i,children:"Okay"})})]})})}var T=a(95048);const b=(0,l.createContext)({isLoading:!1,userDetails:null,bussinessUnit:null,bussinessUnitLists:null,templatesInfo:[],allTemplatesInfo:[],mappingTemplatesInfo:[],refreshData:!0,updateBussinessUnit:()=>null,updateBussinessUnitLists:()=>null,updateTemplateLists:()=>[],updateAllTemplate:()=>[],updateMappingTemplatesInfo:()=>[],updateRefreshData:()=>null}),P=e=>{let{children:t}=e;const{authState:a,authService:c}=(0,n.JN)(),{globalBussinessUnit:m}=(0,T.v9)((e=>({globalBussinessUnit:e.globalBUandInstance.bu})),T.wU),u=new i.q,p=new r.K,h=(0,s.s0)(),x=(0,s.TH)(),[g,v]=(0,l.useState)(null),[j,y]=(0,l.useState)(!1),[P,E]=(0,l.useState)(!1),[S,w]=(0,l.useState)(localStorage.getItem("bussinessUnit")||null),[O,C]=(0,l.useState)(!1),[M,A]=(0,l.useState)(null),[D,L]=(0,l.useState)([]),[N,_]=(0,l.useState)([]),[I,R]=(0,l.useState)([]),[k,F]=(0,l.useState)(!0),B=e=>{A(e)},U=e=>{L(e),_(e)},W=e=>{_(e),L(e)},V=e=>{R(e)},$=e=>{F(e)};return(0,l.useEffect)((()=>{g&&(null===I||void 0===I?void 0:I.length)<=1&&a&&a.isAuthenticated&&($(!0),u.getAlltemplateMappings().then((e=>{var t,a,l,n;V(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),U(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.templateList),B(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.bulist),W(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.templateList),$(!1)}))),a&&a.isAuthenticated&&c&&c.getAccessToken().then((e=>{console.log("Access Token: ",e)}))}),[a,c,g]),(0,l.useEffect)((()=>{null!==a&&void 0!==a&&a.isAuthenticated&&!g&&(E(!0),p.validateUser().then((e=>{var t;"error"===e.status?h("/accessDenied",{state:{userInfo:null===e||void 0===e?void 0:e.data[0],NotAuthorized:!0}}):null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.length&&(v(null===e||void 0===e?void 0:e.data[0]),E(!1))})).catch((e=>{E(!1),y(!0)})))}),[a]),(0,l.useEffect)((()=>{console.log(m,"=====globalBussinessUnit");const e=e=>{var t;if(null!==x&&void 0!==x&&null!==(t=x.pathname)&&void 0!==t&&t.includes("mcodetail"))return!1;const a=localStorage.getItem("bussinessUnit");console.log(S,"===localStorageBusinessUnit"),console.log(a,"===localStorageBusinessUnit 2"),a&&a!==S&&(C(!0),console.log(a,"===localStorageBusinessUnit 3"))};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}})),(0,f.jsxs)(b.Provider,{value:{isLoading:P,userDetails:g,bussinessUnit:S,bussinessUnitLists:M,templatesInfo:D,allTemplatesInfo:N,mappingTemplatesInfo:I,refreshData:k,updateBussinessUnit:e=>{w(e)},updateBussinessUnitLists:B,updateTemplateLists:U,updateAllTemplate:W,updateMappingTemplatesInfo:V,updateRefreshData:$},children:[null!==a&&void 0!==a&&a.isAuthenticated?(0,f.jsx)(f.Fragment,{children:j?(0,f.jsx)(d.Z,{}):(0,f.jsx)(f.Fragment,{children:g&&!P?t:(0,f.jsx)("div",{style:{textAlign:"center",position:"absolute",width:"100%",top:"50%"},children:(0,f.jsx)(o.Z,{})})})}):t,O?(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(Z,{isBUModified:O,updateBUModifiedData:()=>{var e;if(null!==x&&void 0!==x&&null!==(e=x.pathname)&&void 0!==e&&e.includes("mcodetail"))window.location.reload();else{const e=localStorage.getItem("bussinessUnit");e&&w(e)}C(!1)}})}):null]})},E=b},51452:(e,t,a)=>{"use strict";a.d(t,{m:()=>p,Z:()=>h});var l=a(72791),n=a(763),s=a(83625),i=a(98342),r=a(82460);const o={MuiTable:{styleOverrides:{root:{tableLayout:"fixed"}}},MuiTableCell:{styleOverrides:{head:{fontSize:"13px",padding:"12px 0px"},root:{fontSize:"14px",whiteSpace:"pre-wrap",wordBreak:"break-all",padding:"12px 8px 12px 0px"}}},MUIDataTableSelectCell:{styleOverrides:{root:{paddingLeft:12}}},MUIDataTableHeadCell:{styleOverrides:{root:{paddingLeft:16}}},MUIDataTableBodyCell:{styleOverrides:{root:{paddingLeft:8}}},MuiButton:{styleOverrides:{root:{fontSize:"12px",textTransform:"none",fontWeight:"400"},contained:{boxShadow:i.v[8]}}},MuiCssBaseline:{styleOverrides:{"*":{boxSizing:"border-box"},html:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",height:"100%",width:"100%"},body:{height:"100%"},a:{textDecoration:"none",color:"inherit"},"#root":{height:"100%"},"#nprogress .bar":{zIndex:"2000 !important"}}},MuiFab:{styleOverrides:{root:{boxShadow:i.v[12]}}},MuiAccordion:{styleOverrides:{root:{"&:before":{display:"none"}}}},MuiTooltip:{styleOverrides:{tooltip:{fontSize:"11px"}}},MuiMenuItem:{styleOverrides:{root:{fontSize:"0.875rem"}}},MuiExpansionPanel:{styleOverrides:{root:{"&:before":{display:"none"}}}},MuiCard:{styleOverrides:{root:{borderRadius:"8px",boxShadow:"0px 3px 3px -2px rgb(0 0 0 / 6%), 0px 3px 4px 0px rgb(0 0 0 / 4%), 0px 1px 8px 0px rgb(0 0 0 / 4%) !important"}}}},d={typography:{fontSize:14,body1:{fontSize:"14px"}},status:{danger:r.Z[500]},components:{...o}};const c={activeLayout:"layout1",activeTheme:"blue",perfectScrollbar:!0,themes:function(){let e={};return(0,n.forEach)(i.l,((t,a)=>{e[a]=(0,s.Z)((0,n.merge)({},d,t))})),e}(),layout1Settings:{leftSidebar:{show:!0,mode:"full",theme:"slateDark1",bgimgurl:"/assets/images/sidebar/sidebar-bg-dark.jpg"},topbar:{show:!0,fixed:!0,theme:"whiteBlue"}},secondarySidebar:{show:!0,open:!1,theme:"slateDark1"},footer:{show:!0,fixed:!1,theme:"slateDark1"}};var m=a(80184);const u=(0,l.createContext)({settings:c,updateSettings:()=>{}}),p=e=>{let{settings:t,children:a}=e;const[s,i]=(0,l.useState)(t||c),r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,n.merge)({},s,e);i(t)},o=(0,l.useMemo)((()=>({settings:s,updateSettings:r})),[s]);return(0,m.jsx)(u.Provider,{value:o,children:a})},h=u},86630:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var l=a(72791),n=a(48625);const s=()=>(0,l.useContext)(n.Z)},6830:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var l=a(72791),n=a(51452);const s=()=>(0,l.useContext)(n.Z)},19410:(e,t,a)=>{"use strict";a.d(t,{y:()=>g});var l=a(6598),n=a(41734),s=a(80245);const i={isPageHavingIssue:!1,stepData:"Create",RSMEList:{},RMEList:{},responseData:{itemERPStatus:[]},affectedPartsData:[],exportAffectedPartsData:[],currentMcoDetails:null,isPropertyFormEdited:!1,isMaterialFormEdited:!1,selectedRowData:{},selectedRowFormdata:{},selectedRowIndex:null,templates:[],source:[],plants:[],materialData:[],masterData:{},templateMappingsInfo:[],ORGAllowedTemplateMappings:[],previousMcosDetails:[],mrDetails:[],massUpdateChanges:{},lifeCycleData:{},systemSetingsDetail:[],eachTemplateOptions:{},bulkPartTemplates:[],caRelatedEachMCODetails:{},allCaMCODetails:{},mcoSearchLists:{},showMaterialForm:!1,parentMCODetails:{},caLifeCycleData:{}},r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.ir:return{...e,updatedRoutes:t.payload};case s.cx:return{...t.payload};case s.lH:case s.Jg:return{...e,responseData:{...e.responseData,...t.payload}};case s.Um:return{...e,...t.payload};case s.Vp:return{...e,allCaMCODetails:t.payload};case s.RS:return{...i,updatedRoutes:e.updatedRoutes};default:return{...e}}};const o=(0,a(25194).U)(),d={segment:(null===o||void 0===o?void 0:o.segment)||{},instanceType:(null===o||void 0===o?void 0:o.instanceType)||{}},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return(arguments.length>1?arguments[1]:void 0).type,{...e}};var m=a(7586);const u={bu:"",instance:"",systemName:""},p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;return t.type===m.t?{...e,...t.payload}:{...e}},h=(0,l.UY)({mcoDetails:r,globalData:c,globalBUandInstance:p});a(1426);const x=[n.Z];const g=(0,l.MT)(h,{},(0,l.qC)((0,l.md)(...x),(e=>e)))},7586:(e,t,a)=>{"use strict";a.d(t,{M:()=>n,t:()=>l});const l="GET_BU_AND_INSTANSE",n=e=>async t=>{try{console.log(e,"updateGlobalBUandInstance data"),t({type:l,payload:e})}catch(a){console.error(a)}}},80245:(e,t,a)=>{"use strict";a.d(t,{$V:()=>h,B3:()=>m,Jg:()=>s,Ph:()=>u,RS:()=>d,Um:()=>i,VM:()=>x,Vp:()=>r,cx:()=>l,ir:()=>o,lH:()=>n,qH:()=>p,xG:()=>c});new(a(6394).h);const l="GET_MCOLIST",n="GET_MCOINFO",s="GET_UPDATEMCODETAILS",i="GET_UPDATE_MCO_RELATED_VALUES",r="SET_ALL_CA_MCO_DETAILS",o="SET_UPDATED_ROUTES",d="RESET_VALUES",c=e=>({type:o,payload:e}),m=e=>async t=>{try{await t({type:l,payload:e})}catch(a){console.error(a)}},u=e=>async t=>{try{await t({type:n,payload:e})}catch(a){console.error(a)}},p=e=>async t=>{try{await t({type:s,payload:e})}catch(a){console.error(a)}},h=e=>async t=>{try{await t({type:i,payload:e})}catch(a){console.error(a)}},x=()=>async e=>{try{await e({type:d})}catch(t){console.error(t)}}},25194:(e,t,a)=>{"use strict";a.d(t,{U:()=>l});const l=()=>{const e=window.location.pathname;let t="";if("/"===e)return{segment:e,instanceType:t};if(e.includes("login"))return{segment:"/",instanceType:t};let a=e.split("/");a=a.filter((e=>""!==e));let l="/";if(a.length>1)"Cloud"!==a[1]&&"onPrem"!==a[1]||"Dev"===a[0]&&(t=a[1],l=a[0]+"/");else if(1===a.length&&"Dev"===a[0])return{segment:"/",instanceType:t};return{segment:l,instanceType:t}}},8160:(e,t,a)=>{"use strict";a.d(t,{V:()=>i});var l=a(30467),n=a.n(l),s=a(19778);const i=()=>{var e,t,a,l;const i=window.localStorage.getItem("okta-token-storage");if(!i)return console.error("Token storage item not found"),null;const r=JSON.parse(i),o=null===r||void 0===r||null===(e=r.accessToken)||void 0===e?void 0:e.accessToken,d=null===r||void 0===r||null===(t=r.accessToken)||void 0===t||null===(a=t.claims)||void 0===a?void 0:a.uid,c=null===r||void 0===r||null===(l=r.idToken)||void 0===l?void 0:l.claims;if(!o||!c)return console.error("Access token or userinfo not found in token storage item"),null;const m={exp:Math.floor(Date.now()/1e3)+3600,data:{accessToken:o,userinfo:{username:null===c||void 0===c?void 0:c.name,email:null===c||void 0===c?void 0:c.email,uid:d}}};let u=null;try{window.Buffer=s.Buffer,u=n().encode(m,"EMRPRoDucTDaTa","HS512")}catch(p){return console.error("Error encoding JWT:",p),null}return u}},26417:(e,t,a)=>{"use strict";a.d(t,{BT:()=>s,L:()=>n,ag:()=>l});const l=64,n=260,s=80},34929:(e,t,a)=>{"use strict";a.d(t,{hE:()=>s,hF:()=>i,wh:()=>n,wv:()=>l});const l=(e,t)=>{let a=e;return t.forEach(((e,t)=>{var l;const n=new RegExp(`\\{${t}\\}`,"g");a=null===(l=a)||void 0===l?void 0:l.replace(n,e)})),a},n=(e,t)=>Array.isArray(e)?e.sort(((e,a)=>{const l=void 0!==e[t]?e[t].toString().toLowerCase():"",n=void 0!==a[t]?a[t].toString().toLowerCase():"";return isNaN(l)||isNaN(n)?l<n?-1:l>n?1:0:parseFloat(l)-parseFloat(n)})):(console.error("Invalid data: Expected an array"),[]),s=(e,t)=>e.sort(((e,a)=>{const l=e.details[t]||"",n=a.details[t]||"";return l.toLowerCase().localeCompare(n.toLowerCase())})),i=e=>e.sort(((e,t)=>{const a=e.label?e.label.toLowerCase():"",l=t.label?t.label.toLowerCase():"";return a.localeCompare(l)}))},35009:(e,t,a)=>{"use strict";a.d(t,{D1:()=>n,Dc:()=>s,LU:()=>i,Q5:()=>l,xZ:()=>r});const l=e=>{if(e.match("rgba")){return e.slice(5).split(",").slice(0,-1).join(",")}let t;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e))return t=e.substring(1).split(""),3===t.length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),t="0x"+t.join(""),[t>>16&255,t>>8&255,255&t].join(",")};function n(){const e=window.crypto||window.msCrypto;let t=new Uint32Array(1);e.getRandomValues(t);return t[0]}const s=e=>{let t=[],a=[];return e.map((e=>{if(e.name){const a=e.name.match(/<div>.*?<\/div>/g)||[];t=a.sort(((e,t)=>{const a=e.replace(/<div>|<\/div>/g,"").toUpperCase(),l=t.replace(/<div>|<\/div>/g,"").toUpperCase();return a.localeCompare(l)}))}if(e.MVO_TEMPLATE_TO){const t=e.MVO_TEMPLATE_TO.match(/<div>.*?<\/div>/g)||[];a=t.sort(((e,t)=>{const a=e.replace(/<div>|<\/div>/g,"").toUpperCase(),l=t.replace(/<div>|<\/div>/g,"").toUpperCase();return a.localeCompare(l)}))}return{...e,name:t.join(""),MVO_TEMPLATE_TO:a.join("")}}))};function i(e){function t(e){return{Entity:e.Entity,...Object.fromEntries(Object.entries(e).filter((e=>{let[t]=e;return"Entity"!==t})).sort(((e,t)=>e[1].localeCompare(t[1]))))}}const a=e.find((e=>"PlantGroup"===e.Entity)),l=a?t(a):null,n=e.filter((e=>"PlantGroup"!==e.Entity)).map(t).sort(((e,t)=>e.Entity.localeCompare(t.Entity)));return l?[l,...n]:n}const r=(e,t)=>e.localeCompare(t,void 0,{sensitivity:"base"})},69262:(e,t,a)=>{"use strict";a.d(t,{QF:()=>m,TE:()=>s,UT:()=>d,WC:()=>p,XE:()=>n,fY:()=>i,o5:()=>o,pt:()=>c,s7:()=>u,uL:()=>r});var l=a(34929);const n=[{value:"Micro Motion",label:"Micro Motion"},{value:"Daniel",label:"Daniel"},{value:"EPM brazil",label:"EPM brazil"},{value:"Poly Oil",label:"Poly Oil"},{value:"Rosemount Flow",label:"Rosemount Flow"},{value:"Roxar",label:"Roxar"},{value:"Rosemount Measurement",label:"Rosemount Measurement"},{value:"Flow Assurance",label:"Flow Assurance"},{value:"Flow Systems",label:"Flow Systems"},{value:"Ultrasonic",label:"Ultrasonic"},{value:"Metran Flow",label:"Metran Flow"},{value:"Flow Control Valves",label:"Flow Control Valves"},{value:"Biffi Morin",label:"Biffi Morin"},{value:"DP Flow",label:"DP Flow"},{value:"Magtech",label:"Magtech"},{value:"Keystone Butterfly Valves",label:"Keystone Butterfly Valves"}],s=[{value:"1",label:"Production"},{value:"2",label:"Engineering/Design"},{value:"3",label:"Universal"},{value:"4",label:"Plant maintenance"},{value:"5",label:"Sales and Distribution"},{value:"6",label:"Costing"},{value:"7",label:"Empties"},{value:"8",label:"Stability study"},{value:"M",label:"External Munitions Display "},{value:"Z",label:"Planning BOM"}],i=[{value:"ORACLE",label:"ORACLE"},{value:"JDE",label:"JDE"},{value:"SAP",label:"SAP"}],r=(0,l.hF)([{value:"BETSYD10",label:"betsyD10"},{value:"D01",label:"D01"},{value:"D03",label:"D03"},{value:"ED1",label:"ED1"},{value:"EP1",label:"EP1"},{value:"P01",label:"P01"},{value:"P03",label:"P03"}]),o=[{value:"Y",label:"Yes"},{value:"N",label:"No"}],d=[{value:"Y",label:"Yes"},{value:"N",label:"No"}],c=["admin","Everyone","Guest"],m=[{value:"Y",label:"Yes"},{value:"N",label:"No"}],u=[{value:"Y",label:"Yes"},{value:"N",label:"No"}],p=(0,l.hF)([{value:"onPrem",label:"onPrem"},{value:"SaaS",label:"SaaS"}])},40077:(e,t,a)=>{"use strict";a.d(t,{AD:()=>m,BI:()=>r,Fv:()=>l,_p:()=>o,aC:()=>i,gQ:()=>c,iJ:()=>s,iO:()=>u,m7:()=>d,m_:()=>n});const l="http://localhost:8086",n="0oabe0pkaiMSU4iEe5d7",s="https://dev-35113155.okta.com/oauth2/default",i="https://dev-35113155.okta.com",r="https://3dxr21x-u1.emrsn.org:8081/plmws/api",o="https://3dxr21x-u1.emrsn.org:8081/plmws/api",d="http://localhost:8086",c={headers:{"Content-Type":"application/json"}},m={headers:{"content-type":"multipart/form-data; boundary=-------842470573919341855553902"}},u={headers:{"Content-Type":"application/json","PLM-API-KEY":"2644d-d0bp-42b04-77y65"}}},16906:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>gn});var l=a(72791),n=a(1250),s=a(95048),i=a(57689),r=a(44179),o=a(56588),d=a(40077);const c=d.m_,m=d.iJ,u=d.aC,p={ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\munish.verma\\AppData\\Roaming",BABEL_ENV:"production",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_12012_MMZBFGOYQGGVRVUC",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"SLKBGENUMEKGMPL",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_2360:"1",GIT_ASKPASS:"c:\\Program Files\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\munish.verma",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\munish.verma",INIT_CWD:"C:\\slk\\AS-PMO-PLM\\widget\\emr-product-datahub",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\munish.verma\\AppData\\Local",LOGONSERVER:"\\\\SRV01GPDC01",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_EXE:"C:\\Program Files\\nodejs\\\\node.exe",NODE_PATH:"",NPM_CLI_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-cli.js",npm_command:"run-script",npm_config_cache:"C:\\Users\\munish.verma\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\munish.verma\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\munish.verma\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\munish.verma\\.npm-init.js",npm_config_local_prefix:"C:\\slk\\AS-PMO-PLM\\widget\\emr-product-datahub",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.2.0",npm_config_prefix:"C:\\Users\\munish.verma\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\munish.verma\\.npmrc",npm_config_user_agent:"npm/10.2.0 node/v21.0.0 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"react-app-rewired build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\slk\\AS-PMO-PLM\\widget\\emr-product-datahub\\package.json",npm_package_name:"erp_product_hub",npm_package_version:"1.0.0",NPM_PREFIX_NPM_CLI_JS:"C:\\Users\\munish.verma\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",NUMBER_OF_PROCESSORS:"12",OneDrive:"C:\\Users\\munish.verma\\OneDrive - SLK Software Pvt Ltd",OneDriveCommercial:"C:\\Users\\munish.verma\\OneDrive - SLK Software Pvt Ltd",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"C:\\slk\\AS-PMO-PLM\\widget\\emr-product-datahub\\node_modules\\.bin;C:\\slk\\AS-PMO-PLM\\widget\\node_modules\\.bin;C:\\slk\\AS-PMO-PLM\\node_modules\\.bin;C:\\slk\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Windows\\system32;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\Microsoft VS Code\\bin;C:\\Program Files\\nodejs\\;C:\\Program Files\\Git\\cmd;C:\\Users\\munish.verma\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\munish.verma\\AppData\\Local\\Microsoft\\WinGet\\Packages\\Schniz.fnm_Microsoft.Winget.Source_8wekyb3d8bbwe;",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 154 Stepping 4, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"9a04",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\munish.verma\\OneDrive - SLK Software Pvt Ltd\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules;C:\\Program Files (x86)\\Microsoft Azure Information Protection\\Powershell",PUBLIC:"C:\\Users\\Public",QIP12012:"0",QIP2360:"0",REACT_APP_EMRPDH_OKTA_CLIENT_ID:"0oabe0pkaiMSU4iEe5d7",REACT_APP_EMRPDH_OKTA_DOMAIN:"https://dev-35113155.okta.com",REACT_APP_EMRPDH_OKTA_ISSUER:"https://dev-35113155.okta.com/oauth2/default",REACT_APP_ENOVIA_API_URL:"https://3dxr21x-u1.emrsn.org:8081/plmws/api",REACT_APP_ENOVIA_CLOUD_API_URL:"https://3dxr21x-u1.emrsn.org:8081/plmws/api",REACT_APP_PLM_API_KEY:"PLM-API-KEY",REACT_APP_PLM_API_KEY_VALUE:"2644d-d0bp-42b04-77y65",REACT_APP_PRO_MODE:"http://localhost:8086",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\MUNISH~1.VER\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.93.1",TMP:"C:\\Users\\MUNISH~1.VER\\AppData\\Local\\Temp",USERDNSDOMAIN:"SLKSOFT.COM",USERDOMAIN:"SLKSOFT",USERDOMAIN_ROAMINGPROFILE:"SLKSOFT",USERNAME:"munish.verma",USERPROFILE:"C:\\Users\\munish.verma",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Program Files\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Program Files\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-bcb4d7d0f8-sock",VSCODE_INJECTION:"1",windir:"C:\\WINDOWS",WSLENV:"WT_SESSION:WT_PROFILE_ID:",WT_PROFILE_ID:"{61c54bbd-c2c6-5271-96e7-009a87ff44bf}",WT_SESSION:"1da29cda-ddf2-4b68-9e5d-9243588b6b74"}.OKTA_TESTING_DISABLEHTTPSCHECK||!1,h={oidc:{clientId:c,issuer:m,redirectUri:`${window.location.origin}/login/callback`,scopes:["openid","profile","email","groups"],pkce:!0,disableHttpsCheck:p,domain:u},resourceServer:{messagesUrl:`${window.location.origin}`}};var x=a(19410),g=(a(30456),a(93274)),v=a(80184);const j={isAuthenticated:!1,isInitialised:!1,user:null},f=()=>{const{authState:e,oktaAuth:t}=(0,o.JN)();return(0,l.useEffect)((()=>{if(e&&(null===e||void 0===e||!e.isAuthenticated)){const e=(0,r.QNm)(window.location.href,window.location.origin);t.setOriginalUri(e),(async()=>{try{await t.signInWithRedirect()}catch(e){"AuthApiError"===e.name?console.error("Authentication failed:",e.message):console.error("An unexpected error occurred:",e)}})()}}),[t,!!e,null===e||void 0===e?void 0:e.isAuthenticated]),e&&null!==e&&void 0!==e&&e.isAuthenticated?(0,v.jsx)(i.j3,{}):null},y=e=>{let{children:t}=e;const{authState:a}=(0,o.JN)();let l=a&&a.isAuthenticated;return(0,v.jsx)(v.Fragment,{children:l?t:(0,v.jsx)(f,{})})};var Z=a(66934),T=a(16029),b=a(94294);const P=(0,Z.ZP)(T.Z)((()=>({display:"flex",alignItems:"center"}))),E=(0,Z.ZP)(P)((()=>({maxWidth:320,flexDirection:"column",justifyContent:"center"}))),S=(0,Z.ZP)("img")((()=>({width:"100%",marginBottom:"32px"}))),w=(0,Z.ZP)(P)((()=>({width:"100%",alignItems:"center",justifyContent:"center",height:"100vh !important"}))),O=()=>{const e=(0,i.s0)();return(0,v.jsx)(w,{children:(0,v.jsxs)(E,{children:[(0,v.jsx)(S,{src:"/assets/images/illustrations/404.svg",alt:""}),(0,v.jsx)(b.Z,{color:"primary",variant:"contained",sx:{textTransform:"capitalize"},onClick:()=>e(-1),children:"Go Back"})]})})};var C=a(25194);const M=()=>{const e=(0,C.U)();return null!==e&&void 0!==e&&e.segment.startsWith("/")?null===e||void 0===e?void 0:e.segment:"/"+(null===e||void 0===e?void 0:e.segment)};var A=a(98286);const D={container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#f8f9fa"},title:{fontSize:"2rem",color:"#333"},message:{fontSize:"1rem",color:"#666",textAlign:"center",marginTop:"10px"},button:{marginTop:"20px",padding:"10px 20px",fontSize:"1rem",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer",transition:"background-color 0.3s ease",textDecoration:"none",outline:"none",":hover":{backgroundColor:"#0056b3"}}},L=()=>{var e,t,a,n,s;const r=new A.K,{authState:d,oktaAuth:c}=(0,o.JN)(),m=(0,i.s0)(),u=(0,i.TH)(),p=void 0!==(null===(e=u.state)||void 0===e?void 0:e.userInfo)&&(null===(t=u.state)||void 0===t?void 0:t.userInfo),h=void 0!==(null===(a=u.state)||void 0===a?void 0:a.NotAuthorized)&&(null===(n=u.state)||void 0===n?void 0:n.NotAuthorized);console.log(null===(s=u.state)||void 0===s?void 0:s.NotAuthorized,"location.state?.NotAuthorized"),console.log(h,"NotAuthorized");const[x,g]=(0,l.useState)(!1),j=async()=>{try{d.isAuthenticated&&await c.signOut({postLogoutRedirectUri:window.location.origin})}catch(e){}};return(0,v.jsxs)("div",{style:D.container,children:[(0,v.jsx)("h1",{style:D.title,children:"Access Denied"}),h?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("p",{style:D.message,children:"Sorry, you don't have permission to access the application."}),(0,v.jsx)("p",{style:D.message,children:"To access the application Please request by click on the button below."}),(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{x||r.requestForAccess({userData:p}).then((e=>{g(!0),setTimeout((()=>{j()}),2e3)}))},children:"Request Access"})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("p",{style:D.message,children:"Sorry, you don't have permission to access the page."}),(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>m(M()+"/calist"),children:"Go to Home"})]})]})};var N=a(58406),_=a(64387),I=a(86630);function R(e){let{isdisabled:t=!1,selectedvalue:a,defaultValue:n,onChangeFunc:s,style:i={},size:r}=e;const{bussinessUnitLists:o}=(0,I.Z)();return(0,l.useEffect)((()=>{n&&s(n)}),[n]),(0,v.jsx)(N.Z,{disabled:t,className:"form-control",defaultValue:n,value:a,onChange:e=>s(e.target.value),style:i,size:r||"medium",displayEmpty:!0,renderValue:e=>{var t;let a=[];return a=null===o||void 0===o?void 0:o.find((t=>t.businessUnit===e)),null!==(t=a)&&void 0!==t&&t.businessUnit?a.buName:""},children:null===o||void 0===o?void 0:o.map(((e,t)=>{const a="dpKey"+t;return(0,v.jsx)(_.Z,{value:e.businessUnit,children:e.buName},a)}))})}var k=a(61889),F=a(69262);const B={container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#f8f9fa"},title:{fontSize:"2rem",color:"#333"},message:{fontSize:"1rem",color:"#666",textAlign:"center",marginTop:"10px"},button:{marginTop:"20px",padding:"10px 20px",fontSize:"1rem",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer",transition:"background-color 0.3s ease",textDecoration:"none",outline:"none",":hover":{backgroundColor:"#0056b3"}}},U=()=>{const e=(0,s.v9)((e=>e.globalBUandInstance)),[t,a]=(0,l.useState)(""),[n,i]=(0,l.useState)("");return(0,l.useEffect)((()=>{""!==e.bu&&a(e.bu),""!==e.instanse&&i(e.instanse)}),[]),(0,v.jsxs)("div",{style:B.container,children:[(0,v.jsx)("h1",{style:B.title,children:"Select RDO and Instance"}),(0,v.jsxs)(k.ZP,{container:!0,item:!0,md:6,sm:6,xs:12,className:"font-medium",style:{backgroundColor:"lightblue",padding:"20px"},children:[(0,v.jsxs)(k.ZP,{item:!0,md:12,sm:12,xs:12,className:"font-medium",children:[(0,v.jsx)("span",{children:"Design Organization:"}),(0,v.jsx)(R,{selectedvalue:t,style:{width:"50%"},defaultValue:t||"",onChangeFunc:e=>{a(e),console.log(e,"selectedOptionValue")}})]}),(0,v.jsxs)(k.ZP,{item:!0,md:12,sm:12,xs:12,className:"font-medium",children:[(0,v.jsx)("span",{children:"Select Instance:"}),(0,v.jsx)(N.Z,{labelId:"Instance",id:"Instance",name:"Instance",fullWidth:!0,style:{width:"50%"},value:n||"",onChange:e=>{const{name:t,value:a}=e.target;"Instance"===t&&i(a)},children:F.WC.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})]})]})]})};var W=a(87418);const V=e=>t=>(0,v.jsx)(l.Suspense,{fallback:(0,v.jsx)(W.Z,{}),children:(0,v.jsx)(e,{...t})}),$=V((0,l.lazy)((()=>a.e(845).then(a.bind(a,67845))))),G=V((0,l.lazy)((()=>Promise.all([a.e(368),a.e(912),a.e(325),a.e(429)]).then(a.bind(a,79725))))),z=V((0,l.lazy)((()=>Promise.all([a.e(912),a.e(325),a.e(974)]).then(a.bind(a,30250))))),H=V((0,l.lazy)((()=>Promise.all([a.e(368),a.e(984),a.e(774),a.e(912),a.e(710)]).then(a.bind(a,91358))))),Y=V((0,l.lazy)((()=>Promise.all([a.e(984),a.e(912),a.e(224)]).then(a.bind(a,54343))))),Q=V((0,l.lazy)((()=>a.e(809).then(a.bind(a,8809))))),q=V((0,l.lazy)((()=>a.e(260).then(a.bind(a,4260))))),X=V((0,l.lazy)((()=>a.e(924).then(a.bind(a,75924))))),K=[{path:"/calist",element:(0,v.jsx)($,{})},{path:"/caDetails/:ca_id",element:(0,v.jsx)(G,{})},{path:"/mcolist",element:(0,v.jsx)(z,{})},{path:"/mcodetail/:mco_id?",element:(0,v.jsx)(H,{})},{path:"/:mcoName/tracker",element:(0,v.jsx)(Y,{})},{path:"/specCreationList",element:(0,v.jsx)(Q,{})},{path:"/obsoletePartList",element:(0,v.jsx)(q,{})},{path:"/myreport",element:(0,v.jsx)(X,{})}];var J=a(73693);const ee=e=>{var t;let{children:a}=e;const{userDetails:l}=(0,I.Z)(),{authState:n}=(0,o.JN)();return null!==n&&void 0!==n&&n.isAuthenticated&&null!==l&&void 0!==l&&null!==(t=l.userinfo)&&void 0!==t&&t.includes("admin")?a:(0,v.jsx)(i.Fg,{to:"/accessDenied"})};var te=a(11087),ae=a(5574),le=a(97123),ne=a(39157),se=a(51691),ie=a(65661),re=a(31220),oe=a(27391),de=a(20068),ce=a(33488),me=a(69596),ue=a(22007),pe=a(79836),he=a(56890),xe=a(35855),ge=a(53994),ve=a(30829),je=a(49644),fe=a(53382),ye=a(10778);a(24376);const Ze=(0,Z.ZP)(pe.Z)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),Te=(0,Z.ZP)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),be=e=>{const{allTemplatesInfo:t,updateAllTemplate:a,bussinessUnitLists:n}=(0,I.Z)(),s=new ce.t,{importTemplate:i,setImportTemplate:r,setTemplateData:o,setIsLoading:d}=e,[c,m]=(0,l.useState)(!1),[u,p]=(0,l.useState)(!1),[h,x]=(0,l.useState)(!1),[g,j]=(0,l.useState)(!1),[f,y]=(0,l.useState)(!1),[Z,P]=(0,l.useState)(!1),[E,S]=(0,l.useState)(null),[w,O]=(0,l.useState)(null),[C,M]=(0,l.useState)({ERPType:[],instance:[],BU:[]}),[A,D]=(0,l.useState)(!1),[L,N]=(0,l.useState)(null),_=(e,t)=>{console.log(e,"==values ==",t),M((a=>({...a,[e]:"BU"===e?t:t.value}))),"ERPType"===e&&m(!1),"instance"===e&&p(!1),"BU"===e&&x(!1),console.info(C,"importSelectionValues")};return(0,l.useEffect)((()=>{}),[t]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(ae.Z,{open:i,children:[(0,v.jsx)(ie.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Import Template"}),(0,v.jsx)(ne.Z,{children:(0,v.jsx)(se.Z,{children:(0,v.jsx)(T.Z,{width:"100%",overflow:"auto",children:(0,v.jsxs)(Ze,{children:[(0,v.jsxs)(he.Z,{children:[(0,v.jsxs)(xe.Z,{children:[(0,v.jsx)(ge.Z,{align:"left",children:(0,v.jsx)(ve.Z,{style:{fontWeight:"bold",color:"rgba(52, 49, 76, 1)"},children:"Design Organization"})}),(0,v.jsxs)(ge.Z,{align:"left",children:[(0,v.jsx)(je.Z,{style:{width:"70%"},multiple:!1,options:(e=>{const t=new Set;return null===n||void 0===n||n.forEach((a=>{t.add(a[e])})),Array.from(t)})("buName"),value:C.BU,onChange:(e,t)=>_("BU",t),renderValue:()=>null,renderInput:e=>(0,v.jsx)(oe.Z,{...e,variant:"outlined",label:"Select RDO",placeholder:"Search..."}),PaperProps:{style:{maxHeight:"200px"}},disableCloseOnSelect:!1,disableClearable:!0,isOptionEqualToValue:(e,t)=>e===t,getOptionSelected:(e,t)=>C.BU.includes(t),ChipProps:{style:{fontSize:"8px"}}}),h&&(0,v.jsx)("p",{style:{textAlign:"left",color:"red"},children:"please select Design Organization"})]})]}),(0,v.jsxs)(xe.Z,{children:[(0,v.jsx)(ge.Z,{align:"left",children:(0,v.jsx)(ve.Z,{style:{fontWeight:"bold",color:"rgba(52, 49, 76, 1)"},children:"ERP Type"})}),(0,v.jsxs)(ge.Z,{align:"right",children:[(0,v.jsx)(je.Z,{style:{width:"70%"},multiple:!1,options:F.fY,value:C.ERPType,onChange:(e,t)=>_("ERPType",t),renderValue:()=>null,renderInput:e=>(0,v.jsx)(oe.Z,{...e,variant:"outlined",label:"Select ERP Type",placeholder:"Search..."}),PaperProps:{style:{maxHeight:"200px"}},disableCloseOnSelect:!1,disableClearable:!0,isOptionEqualToValue:(e,t)=>e===t,getOptionSelected:(e,t)=>C.ERPType.includes(t),ChipProps:{style:{fontSize:"8px"}}}),c&&(0,v.jsx)("p",{style:{textAlign:"left",color:"red"},children:"please select ERP Type"})]})]}),(0,v.jsxs)(xe.Z,{children:[(0,v.jsx)(ge.Z,{align:"left",children:(0,v.jsx)(ve.Z,{style:{fontWeight:"bold",color:"rgba(52, 49, 76, 1)"},children:"Instance"})}),(0,v.jsxs)(ge.Z,{align:"right",children:[(0,v.jsx)(je.Z,{style:{width:"70%"},multiple:!1,options:F.uL,value:C.instance,onChange:(e,t)=>_("instance",t),renderValue:()=>null,renderInput:e=>(0,v.jsx)(oe.Z,{...e,variant:"outlined",label:"Select Instance",placeholder:"Search..."}),PaperProps:{style:{maxHeight:"200px"}},disableCloseOnSelect:!1,disableClearable:!0,isOptionEqualToValue:(e,t)=>e===t,getOptionSelected:(e,t)=>C.instance.includes(t),ChipProps:{style:{fontSize:"8px"}}}),u&&(0,v.jsx)("p",{style:{textAlign:"left",color:"red"},children:"please select Instance"})]})]})]}),(0,v.jsxs)(fe.Z,{children:[(0,v.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,v.jsxs)(b.Z,{component:"label",variant:"contained",startIcon:(0,v.jsx)(me.Z,{}),children:["Upload file",(0,v.jsx)(Te,{type:"file",name:"file",accept:".xls, .xlsx",onChange:e=>{const t=e.target.files[0];if(t){const a=t.name.split(".").pop();"xlsx"===a||"xls"===a?(S(e.target.files[0]),O(e.target.files[0].name),j(!1)):(j(!0),O(null),S(null))}else j(!0),O(null),S(null)}})]}),g&&(0,v.jsx)("p",{style:{textAlign:"left",color:"red"},children:"Please Select xlsx file to Upload "})]}),w&&(0,v.jsx)("p",{children:w}),(0,v.jsx)("div",{style:{paddingTop:"10px"},children:(0,v.jsx)(b.Z,{component:"label",variant:"contained",startIcon:(0,v.jsx)(ue.Z,{}),onClick:()=>{s.downloadSampleFile("sample-template.xlsx")},children:"Download sample file"})})]})]})})})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{autoFocus:!0,onClick:()=>{M((e=>({ERPType:[],instance:[],BU:[]}))),S(null),r(!1),O(null),j(!1),m(!1),p(!1),x(!1)},children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:()=>{if((null===C.ERPType||C.ERPType.length<1)&&m(!0),(null===C.instance||C.instance.length<1)&&p(!0),(null===C.BU||C.BU.length<1)&&x(!0),(null===E||E.length<1)&&j(!0),C.ERPType.length>1&&C.instance.length>1&&C.BU.length>1&&null!==E){let e={file:E,data:C};d(!0),r(!1),s.importTemplate(e).then((async e=>{let t,l;y(e),e.errorCount>0?(t=(0,v.jsxs)("div",{style:{color:"red"},children:["New Template Added: ",e.newTemplateAdded," ",(0,v.jsx)("br",{}),"Template Updated: ",e.updateTemplates," ",(0,v.jsx)("br",{}),"Error in Template: ",e.errorCount," ",(0,v.jsx)("br",{})]}),l="error",D(!0),N({severity:l,desc:t}),d(!1)):(t=(0,v.jsxs)("div",{children:["Success ",(0,v.jsx)("br",{}),"New Template Added: ",e.newTemplateAdded," ",(0,v.jsx)("br",{}),"Template Updated: ",e.updateTemplates," ",(0,v.jsx)("br",{}),"Error in Template: ",e.errorCount," ",(0,v.jsx)("br",{})]}),l="success",d(!1)),D(!0),N({severity:l,desc:t}),M((e=>({ERPType:[],instance:[],BU:[]}))),S(null),O(null),await s.getAllTemplateList().then((e=>{o(e.template),a(e.template)})),d(!1)}))}},children:"Import"})]})]}),L?(0,v.jsx)(ye.Z,{openAlert:A,openDesc:L,setOpenAlert:D,sx:{"& .MuiAlertTitle-root":{backgroundColor:"red"}}}):(0,v.jsx)(v.Fragment,{})]})};var Pe=a(61419),Ee=a(10765),Se=a(85523),we=a(68096),Oe=a(17133);const Ce=e=>{const t=new ce.t,[a,n]=(0,l.useState)(!1),[s,i]=(0,l.useState)((null===e||void 0===e?void 0:e.templateData)||[]),[r,o]=(0,l.useState)("allData"),[d,c]=(0,l.useState)(!1),[m,u]=(0,l.useState)(!1),[p,h]=(0,l.useState)(!1),[x,j]=(0,l.useState)(null);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{n(!0)},children:"Export"}),(0,v.jsxs)(ae.Z,{open:a,children:[(0,v.jsx)(ie.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export Template"}),(0,v.jsx)(ne.Z,{children:(0,v.jsx)(se.Z,{children:(0,v.jsx)(T.Z,{width:"100%",overflow:"auto",children:(0,v.jsx)(g.sF,{children:(0,v.jsx)(k.ZP,{item:!0,md:12,sm:12,xs:12,children:(0,v.jsx)(k.ZP,{container:!0,alignItems:"center",children:(0,v.jsxs)(we.Z,{children:[(0,v.jsx)(Oe.Z,{id:"demo-controlled-radio-buttons-group",children:"Select Data to Export"}),(0,v.jsxs)(Ee.Z,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:r,onChange:t=>{o(t.target.value),"allData"===t.target.value?i(null===e||void 0===e?void 0:e.templateData):i(null===e||void 0===e?void 0:e.filterTemplateData)},children:[(0,v.jsx)(Se.Z,{value:"allData",control:(0,v.jsx)(Pe.Z,{}),label:"All Data"}),(0,v.jsx)(Se.Z,{value:"selectedData",control:(0,v.jsx)(Pe.Z,{}),label:"Selected Data"})]})]})})})})})})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{autoFocus:!0,onClick:()=>{n(!1)},children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:()=>{n(!1),console.log(null===e||void 0===e?void 0:e.filterTemplateData,"filterTemplateData");let a=("allData"!==r?null===e||void 0===e?void 0:e.filterTemplateData:null===e||void 0===e?void 0:e.templateData)||[],l=null===a||void 0===a?void 0:a.map((e=>({"Template Name":e.templateName,Description:e.desc,"ERP Type":e.ERPType,Instance:e.instance,"Design Organization":Array.isArray(null===e||void 0===e?void 0:e.BU)&&(null===e||void 0===e?void 0:e.BU.length)>0?null===e||void 0===e?void 0:e.BU.join(", "):null})));t.exportTemplate({data:l,sheet_name:"Template"}).then((e=>{u(e),c(!0),h(!0),j({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))},children:"Export"})]})]}),x?(0,v.jsx)(ye.Z,{openAlert:p,openDesc:x,setOpenAlert:h}):(0,v.jsx)(v.Fragment,{})]})};var Me=a(56294);a(18214);const Ae=e=>t=>{let{data:a=[],sortInfo:l={},initialData:n=[],...s}=t;const i=((e,t)=>{if(!Array.isArray(e))return[];if(!t||!t.id)return n;const a=t.id||t.name||t.columnName,l=1===t.dir?1:-1;return[...e].sort(((e,t)=>{const n=String(e[a]||"").toLowerCase(),s=String(t[a]||"").toLowerCase();return n<s?-l:n>s?l:0}))})(a,l);return(0,v.jsx)(e,{data:i,sortInfo:l,...s})};var De=a(34929);const Le=(0,Z.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Ne=()=>{let e=(0,i.TH)().state;const{updateAllTemplate:t}=(0,I.Z)(),a=new ce.t,[n,s]=(0,l.useState)(!1),[r,o]=(0,l.useState)(!1),[d,c]=(0,l.useState)([]),[m,u]=(0,l.useState)([]),[p,h]=(0,l.useState)(),[x,j]=(0,l.useState)(""),[f,y]=(0,l.useState)([]),[Z,P]=(0,l.useState)(!1),[E,S]=(0,l.useState)(null),[w,O]=(0,l.useState)({}),[C,M]=(0,l.useState)({}),[A,D]=(0,l.useState)([]),L=(0,l.useRef)(null),N=L&&L.current&&L.current.dataMap?L.current.dataMap:null,[_,R]=(0,l.useState)(!0),F=(0,De.wh)(f,"templateName"),B=(0,l.useCallback)((e=>{let{selected:t}=e;M(t)}),[]);(0,l.useEffect)((()=>{R(!0),a.getAllTemplateList().then((e=>{c(e.template),u(e.template),y(e.template),t(e.template)})).finally((()=>{R(!1)}))}),[]),(0,l.useEffect)((()=>{y(d)}),[d]),(0,l.useEffect)((()=>{var t,a,l;null!==(t=e)&&void 0!==t&&t.status&&(P(!0),S({severity:null===(a=e)||void 0===a?void 0:a.status,desc:null===(l=e)||void 0===l?void 0:l.message}));e={},window.onbeforeunload=()=>{window.history.replaceState({},document.title)}}),[e]);const U=(0,i.s0)(),W=(0,l.useRef)("initialValue"),V=e=>{W.current="edit";const t=e;setTimeout((()=>{U(`/editTemplate/${null===t||void 0===t?void 0:t.id}`,{state:{templateMode:W.current,selectedTempalteData:t}})}),200)},$=e=>{s(!0),h(e)};(0,l.useEffect)((()=>{const e=!0===C?N:C,t=e&&Object.keys(e).map((t=>e[t]));D(t)}),[C,N]),(0,l.useEffect)((()=>{if(d){const e=d.filter((e=>{var t,a,l;return""===x||(null===e||void 0===e||null===(t=e.templateName)||void 0===t?void 0:t.toLowerCase().includes(x.toLowerCase()))||e.desc.toLowerCase().includes(x.toLowerCase())||(null===(a=e.plants)||void 0===a?void 0:a.some((e=>e.plantName.toLowerCase().includes(x.toLowerCase()))))||(null===(l=e.BU)||void 0===l?void 0:l.some((e=>e.toLowerCase().includes(x.toLowerCase()))))||e.instance.toLowerCase().includes(x.toLowerCase())||e.ERPType.toLowerCase().includes(x.toLowerCase())}));y(e)}}),[x,d]);const G=e=>{O(e);const t=Ae(Ne)({data:d,sortInfo:e,onSortInfoChange:G,initialData:m});c(t.props.data)};return(0,v.jsxs)(Le,{children:[(0,v.jsx)(T.Z,{className:"breadcrumb",children:(0,v.jsx)(g.aG,{routeSegments:[{name:"Template"}]})}),(0,v.jsx)(g.sF,{children:(0,v.jsxs)(k.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:6,xs:12,className:"font-medium",children:(0,v.jsx)(oe.Z,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;j(t)},value:x,style:{width:"100%"}})}),(0,v.jsxs)(k.ZP,{item:!0,container:!0,md:9,sm:6,xs:12,alignItems:"center",children:[(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{},children:"Search"}),(0,v.jsx)("div",{style:{flex:1}}),(0,v.jsx)(b.Z,{variant:"contained",component:te.Link,onClick:()=>{W.current="create",setTimeout((()=>{U("/createTemplate")}),200)},style:{marginRight:"10px"},children:"Create"}),(0,v.jsx)(b.Z,{variant:"contained",disabled:1!==(null===A||void 0===A?void 0:A.length),onClick:()=>{V(A[0])},style:{margin:"0 10px 0 0px"},children:"Edit"}),(0,v.jsx)(b.Z,{variant:"contained",disabled:null===A||void 0===A||!A.length,onClick:()=>{$(A[0]),s(!0)},style:{margin:"0 10px 0 0px"},children:"Delete"}),(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{o(!0)},style:{marginRight:"10px"},children:"Import"}),(0,v.jsx)(Ce,{templateData:d,filterTemplateData:A})]}),(0,v.jsxs)(T.Z,{width:"100%",overflow:"auto",children:[(0,v.jsx)("br",{}),(0,v.jsx)(Me.ZP,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},defaultLimit:100,columns:[{name:"templateName",header:(0,v.jsx)(de.Z,{title:"Name",children:"Template Name"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.templateName})}},{name:"desc",header:(0,v.jsx)(de.Z,{title:"Description",children:"Description"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.desc})}},{name:"ERPType",header:(0,v.jsx)(de.Z,{title:"ERP Type",children:"ERP Type"}),defaultFlex:1,defaultWidth:50},{name:"instance",header:(0,v.jsx)(de.Z,{title:"Instance",children:"Instance"}),defaultFlex:1,defaultWidth:50},{name:"BU",header:(0,v.jsx)(de.Z,{title:"Design Organization",children:"Design Organization"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null!==t&&void 0!==t&&t.BU?t.BU.sort().map((e=>e)).join(", "):""})}}],dataSource:F,checkboxColumn:!0,selected:C,onSelectionChange:B,handle:e=>L.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===L||void 0===L||null===(e=L.current)||void 0===e?void 0:e.setScrollTop(0==(null===A||void 0===A?void 0:A.length)?0:null===L||void 0===L||null===(t=L.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:G})]})]})}),(0,v.jsxs)(ae.Z,{open:n,children:[(0,v.jsx)(ie.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete template"}),(0,v.jsx)(ne.Z,{children:1===A.length?(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(se.Z,{children:["Do you want to delete the template"," ",(0,v.jsx)("b",{children:null===p||void 0===p?void 0:p.templateName})," with instance"," ",(0,v.jsx)("b",{children:null===p||void 0===p?void 0:p.instance})]})}):(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(se.Z,{children:"Do you want to delete the seleted templates?"})})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{autoFocus:!0,onClick:()=>{h(null),s(!1)},children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:async()=>{s(!1);try{R(!0);const e=null===A||void 0===A?void 0:A.map((e=>null===e||void 0===e?void 0:e.id));await a.deleteTemplate(e).then((async e=>{P(!0),S({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg}),M({}),D([]),await a.getAllTemplateList().then((e=>{c(e.template),u(e.template),y(e.template),t(e.template)}))}))}catch(e){return e}finally{R(!1)}},children:"delete"})]})]}),(0,v.jsx)(be,{importTemplate:r,setImportTemplate:o,setTemplateData:c,setIsLoading:R}),E?(0,v.jsx)(ye.Z,{openAlert:Z,openDesc:E,setOpenAlert:P}):(0,v.jsx)(v.Fragment,{}),_?(0,v.jsx)("div",{style:{textAlign:"center"},children:(0,v.jsx)(re.Z,{show:_})}):(0,v.jsx)(v.Fragment,{})]})},_e=Ne,Ie=()=>(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(_e,{})});var Re=a(35527),ke=a(13400),Fe=a(41286),Be=a(27247),Ue=a(93543),We=a(94070),Ve=a(83650);class $e{constructor(){this.getAllPlantsList=()=>Ve.Z.get(`${d.Fv}/plant/getplants`,d.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getAllPlantsList",e),[]))),this.getPlantById=e=>Ve.Z.post(`${d.Fv}/plant/getPlantById`,e,d.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getPlantById",e),[]))),this.addnewPlant=e=>Ve.Z.post(`${d.Fv}/plant/addPlant`,e,d.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewPlant",e),[]))),this.updatePlant=e=>Ve.Z.put(`${d.Fv}/plant/updatePlant`,e,d.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewPlant",e),[]))),this.deletePlant=e=>Ve.Z.delete(`${d.Fv}/plant/deletePlant`,{data:{ids:e}},d.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting plant:",e),e}))}}const Ge=e=>{let{open:t,handleDialogClose:a,tempObject:l,handleAttributeChange:n,handleAddAttribute:s,newKey:i,newValue:r,handleAddRow:o,handleDeleteRow:d,keyerror:c,attributeForm:m,valuesInputList:u}=e;return(0,v.jsxs)(ae.Z,{open:t,children:[(0,v.jsx)(ie.Z,{children:null===m?"Add Attribute":"Edit Attribute"}),(0,v.jsx)(ne.Z,{children:(0,v.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsx)("span",{children:"Name:"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{name:"name",value:l.name||"",onChange:n,fullWidth:!0,margin:"normal"})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsx)("span",{children:"Mandatory: "})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(we.Z,{children:(0,v.jsxs)(Ee.Z,{row:!0,value:l.mandatory||"YES","aria-labelledby":"demo-row-radio-buttons-group-label",name:"mandatory",onChange:n,children:[(0,v.jsx)(Se.Z,{value:"Y",control:(0,v.jsx)(Pe.Z,{}),label:"Yes"}),(0,v.jsx)(Se.Z,{value:"N",control:(0,v.jsx)(Pe.Z,{}),label:"No"})]})})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsxs)("span",{children:["Material master:"," "]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(we.Z,{children:(0,v.jsxs)(Ee.Z,{row:!0,value:l.material_master||"Y","aria-labelledby":"demo-row-radio-buttons-group-label",name:"material_master",onChange:n,children:[(0,v.jsx)(Se.Z,{value:"Y",control:(0,v.jsx)(Pe.Z,{}),label:"Yes"}),(0,v.jsx)(Se.Z,{value:"N",control:(0,v.jsx)(Pe.Z,{}),label:"No"})]})})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsx)("span",{children:"Data type: "})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{labelId:"DataType-label",id:"DataType-select",name:"dataType",fullWidth:!0,value:l.dataType||"",onChange:n,children:[{value:"int",label:"int"},{value:"string",label:"string"},{value:"long",label:"long"},{value:"bool",label:"bool"}].map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.value},e.value)))})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsx)("span",{children:"Input Type: "})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{labelId:"InputType-label",id:"InputType-select",name:"inputType",fullWidth:!0,value:l.inputType||"",onChange:n,children:[{value:"text",label:"text"},{value:"select",label:"select"}].map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})}),"select"===l.inputType&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsx)("span",{children:"Values: "})}),(0,v.jsxs)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:[(0,v.jsxs)(k.ZP,{container:!0,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,xs:3,style:{marginLeft:"3px"},children:(0,v.jsx)(oe.Z,{name:"newKey",label:"value",value:i,variant:"outlined",fullWidth:!0,margin:"normal",onChange:n})}),"\xa0 \xa0",(0,v.jsx)(k.ZP,{item:!0,xs:3,children:(0,v.jsx)(oe.Z,{name:"newValue",label:"display value",value:r,variant:"outlined",fullWidth:!0,margin:"normal",onChange:n})}),"\xa0 \xa0",(0,v.jsx)(k.ZP,{item:!0,xs:3,children:(0,v.jsx)(b.Z,{style:{fontSize:"30px",marginTop:"6px"},onClick:o,children:(0,v.jsx)("b",{children:"+"})})})]}),(0,v.jsx)("p",{style:{color:"red"},children:c}),(0,v.jsx)("div",{style:{height:"100px",overflowY:"auto",border:"1px solid #ccc",borderRadius:"4px",alignContent:"center"},children:u.map(((e,t)=>(0,v.jsx)(Re.Z,{style:{paddingLeft:"50px",marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,v.jsxs)(k.ZP,{container:!0,alignItems:"center",style:{marginLeft:"2px"},children:[(0,v.jsx)(k.ZP,{item:!0,xs:6,children:(0,v.jsxs)("p",{children:[(0,v.jsx)("b",{children:e.key}),":",(0,v.jsx)("b",{children:e.value})]})}),(0,v.jsx)(k.ZP,{item:!0,xs:2,children:(0,v.jsx)(ke.Z,{onClick:()=>d(t),children:(0,v.jsx)(Be.Z,{})})})]})},t)))})]})]}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsx)("span",{children:"Default values: "})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{name:"defaultValues",value:l.defaultValues||"",onChange:n,fullWidth:!0,margin:"normal"})})]})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{onClick:a,children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:s,children:null===m?"Add":"Update"})]})]})};var ze=a(35009),He=a(6429),Ye=a.n(He);const Qe=(0,Z.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),qe=l.forwardRef((function(e,t){return(0,v.jsx)(We.Z,{elevation:6,ref:t,variant:"filled",...e})})),Xe=(0,Z.ZP)({spanRed:{color:"#FF3D57"}}),Ke={name:null,mandatory:null,material_master:null,dataType:null,inputType:null,values:null,defaultValues:null};function Je(){const e=new ce.t,{bussinessUnitLists:t}=(0,I.Z)(),a=new $e,[n,s]=(0,l.useState)(),[r,o]=(0,l.useState)({exportToERP:"Y",existInOracle:"N",notOwningDivision:"Y"}),d=Xe();let c=(0,i.s0)();const[m,u]=(0,l.useState)(!1),[p,h]=(0,l.useState)(),[x,j]=(0,l.useState)(),[f,y]=(0,l.useState)(!1),[Z,P]=(0,l.useState)([]),[E,S]=(0,l.useState)(null),[w,O]=(0,l.useState)({}),[C,M]=(0,l.useState)([]),[A,D]=(0,l.useState)(""),[L,R]=(0,l.useState)(""),[B,U]=(0,l.useState)(""),[W,V]=(0,l.useState)([]),[$,G]=(0,l.useState)([]),[z,H]=(0,l.useState)(!1),[Y,Q]=(0,l.useState)(null);(0,l.useEffect)((()=>{a.getAllPlantsList().then((e=>{s(e)}))}),[]);const q=e=>{const{name:t,value:a}=e.target;let l={};if("ERPtype"===t)l={...r,plantId:null,plants:null,url:null,username:null,port:null,authkey:null,material_master:null,SalesOrg:null,ECN_required:null,bomusage:null,[t]:a};else if("plant"===t){const{id:e,plantName:t,material_master:n,SalesOrg:s,ECN_required:i,bomusage:o,ConnectivityDetails:d}=a,{url:c,username:m,password:u,port:p,authkey:h}=d;l={...r,plantId:e,plantName:t,SalesOrg:s,url:c,material_master:n,username:m,password:u,port:p,authkey:h,ECN_required:i,bomusage:o}}else l={...r,[t]:a};o(l)},X=(null===n||void 0===n||n.filter((e=>e.ERPType===r.ERPType&&e.instance===r.instance)),(e,t)=>{H(!0),Q({severity:t,desc:e})}),K=(e,t)=>{"clickaway"!==t&&u(!1)};(0,De.wh)(t,"businessUnit");return(0,v.jsxs)(Qe,{children:[(0,v.jsx)(T.Z,{className:"breadcrumb",children:(0,v.jsx)(g.aG,{routeSegments:[{name:"Create Template"}]})}),(0,v.jsx)(g.sF,{children:(0,v.jsxs)(k.ZP,{item:!0,md:9,sm:6,xs:6,children:[(0,v.jsxs)("form",{children:[(0,v.jsx)("h4",{children:"Create Template"}),(0,v.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,v.jsxs)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,v.jsx)("span",{children:"Template Name"})," ",(0,v.jsx)("span",{className:d.spanRed,children:"*"})]}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{name:"templateName",value:r.templateName,onChange:q,onBlur:e=>{const{name:t,value:a}=e.target,l=a.trim().replace(/\s+/g," ");o((e=>({...e,[t]:l})))},fullWidth:!0,margin:"normal"})}),(0,v.jsxs)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,v.jsx)("span",{children:"Description"})," ",(0,v.jsx)("span",{className:d.spanRed,children:"*"})]}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{name:"desc",value:r.desc,onChange:q,fullWidth:!0,margin:"normal"})}),(0,v.jsxs)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,v.jsx)("span",{children:"ERP Type "})," ",(0,v.jsx)("span",{className:d.spanRed,children:"*"})]}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{labelId:"ERPType-label",id:"ERPType-select",name:"ERPType",fullWidth:!0,value:r.ERPType,onChange:q,children:F.fY.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})}),("SAP"===r.ERPType||"ORACLE"===r.ERPType)&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,v.jsx)("span",{children:"Instance"})," ",(0,v.jsx)("span",{className:d.spanRed,children:"*"})]}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{id:"instance",name:"instance",fullWidth:!0,displayEmpty:!0,value:r.instance,onChange:q,children:F.uL.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})})]}),("ORACLE"===r.ERPType||"SAP"===r.ERPType)&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["Design Organization ",(0,v.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{style:{width:"100%"},multiple:!0,name:"BU",value:W.sort(ze.xZ),onChange:e=>((e,t)=>{const a=e.target.value;if("BU"===t)V(a);else if("plants"===t){const e=n.filter((e=>a.includes(e.plantName))).map((e=>({plantName:e.plantName,id:e.id})));G(e)}})(e,"BU"),renderValue:e=>e.sort(ze.xZ).join(", "),MenuProps:{sx:{"&& .Mui-selected":{backgroundColor:"rgb(25 118 210 / 67%)"}}},children:t.map((e=>(0,v.jsx)(_.Z,{value:e.businessUnit,children:e.businessUnit},e.businessUnit)))})})]}),"SAP"===r.ERPType&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"Attributes"})}),(0,v.jsxs)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:[(0,v.jsx)("span",{children:(0,v.jsx)(b.Z,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{S(null),y(!0),O({name:"",mandatory:"",material_master:"",dataType:"",inputType:"",defaultValues:""}),M([])},children:"Add Attribute"})}),(0,v.jsx)("br",{}),"\xa0",(0,v.jsx)(k.ZP,{md:4,children:(0,v.jsx)("span",{children:(0,v.jsx)("div",{style:{height:"154px",overflowY:"auto",border:"1px solid #ccc",borderRadius:"4px",width:"500px"},children:Z.map(((e,t)=>(0,v.jsx)(Re.Z,{style:{paddingLeft:"50px",marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center",height:"46px"},children:(0,v.jsx)(k.ZP,{container:!0,alignItems:"center",spacing:3,children:(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsxs)("p",{children:[(0,v.jsx)("b",{children:"Name:"})," ",e.name,(0,v.jsx)(ke.Z,{onClick:()=>(e=>{if(e>=0&&e<Z.length){var t;S(e),y(!0),O({...Z[e]});const a=null===(t=Z[e])||void 0===t?void 0:t.values[0],l=Object.entries(a||{}).map((e=>{let[t,a]=e;return{key:t,value:a}}));M(l)}})(t),children:(0,v.jsx)(Fe.Z,{})}),(0,v.jsx)(ke.Z,{onClick:()=>{return e=t,void P((t=>{const a=[...t];return a.splice(e,1),a}));var e},children:(0,v.jsx)(Be.Z,{})})]})})})},t)))})})})]})]})]}),(0,v.jsx)("br",{}),(0,v.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:(0,v.jsx)(b.Z,{variant:"contained",color:"primary",margin:"2px",onClick:async()=>{var t,a,l;const n=Math.floor(1e5+9e5*(0,ze.D1)());if(""===(null===(t=r.templateName)||void 0===t?void 0:t.trim())||!r.templateName||""===(null===(a=r.desc)||void 0===a?void 0:a.trim())||!r.desc||""===(null===(l=r.ERPType)||void 0===l?void 0:l.trim())||!r.ERPType||"SAP"===r.ERPType&&!r.instance)return void X("Please fill the required details","error");const s={...r,id:n.toString(),attributes:Z,BU:W,plants:$};e.addnewTemplate(s).then((e=>{var t;if(e&&null!==(t=Object.keys(e))&&void 0!==t&&t.length&&"failed"===(null===e||void 0===e?void 0:e.status)){var a;const t=null===e||void 0===e||null===(a=e.message)||void 0===a?void 0:a.map((e=>(0,v.jsx)("li",{children:e},Ye().generate())));X(t,"error")}else setTimeout((()=>{c("/template",{state:{message:"Template added successfully",status:"success"}})}),200)}))},children:"Submit"})})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:(0,v.jsx)(b.Z,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{c(-1)}),200)},children:"Cancel"})})})]})]}),(0,v.jsx)(Ue.Z,{open:m,autoHideDuration:3e3,onClose:K,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,v.jsx)(qe,{onClose:K,severity:x,sx:{width:"100%"},children:p})}),Y?(0,v.jsx)(ye.Z,{openAlert:z,openDesc:Y,setOpenAlert:H}):(0,v.jsx)(v.Fragment,{}),(0,v.jsx)(Ge,{open:f,handleDialogClose:()=>{y(!1)},attributeForm:E,tempObject:w,handleAttributeChange:e=>{const{name:t,value:a}=e.target;"newKey"===t?D(a):"newValue"===t?R(a):O((e=>({...e,[t]:a})))},handleAddAttribute:()=>{const e={...w,values:C.reduce(((e,t)=>(e[t.key]=t.value,e)),{})};if(""===e.material_master&&(e.material_master="Y"),""===e.mandatory&&(e.mandatory="Y"),Object.keys(e.values).length&&(e.values=[e.values]),null!==E){const t=[...Z];t[E]=e,P(t)}else P((t=>[...t,e]));y(!1),O(Ke),M([]),S(null)},newKey:A,newValue:L,handleAddRow:()=>{const e=C.some((e=>e.key===A)),t=C.some((e=>e.value===L));e||t?U("The key or value already exists"):(M((e=>[...e,{key:A,value:L}])),D(""),R(""),U(""))},handleDeleteRow:e=>{M((t=>{const a=[...t];return a.splice(e,1),a}))},keyerror:B,valuesInputList:C})]})})]})}const et=(0,Z.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),tt=l.forwardRef((function(e,t){return(0,v.jsx)(We.Z,{elevation:6,ref:t,variant:"filled",...e})})),at=(0,Z.ZP)({spanRed:{color:"#FF3D57"}}),lt={name:null,mandatory:null,material_master:null,dataType:null,inputType:null,values:null,defaultValues:null};function nt(){const e=new ce.t,{refreshData:t,bussinessUnitLists:a}=(0,I.Z)(),n=new $e,[s,r]=(0,l.useState)(),o=at(),[d,c]=(0,l.useState)(!1),[m,u]=(0,l.useState)(),[p,h]=(0,l.useState)(),[x,j]=(0,l.useState)(!1),[f,y]=(0,l.useState)(null),[Z,P]=(0,l.useState)({}),[E,S]=(0,l.useState)([]),[w,O]=(0,l.useState)(""),[C,M]=(0,l.useState)(""),[A,D]=(0,l.useState)(""),[L,R]=(0,l.useState)(!1),[B,U]=(0,l.useState)(null),[W,V]=(0,l.useState)(!0);let $=(0,i.s0)();(0,i.TH)();const G=(0,i.UO)(),[z,H]=(0,l.useState)(),[Y,Q]=(0,l.useState)({}),[q,X]=(0,l.useState)([]),[K,J]=(0,l.useState)([]),[ee,te]=(0,l.useState)([]);(0,l.useEffect)((()=>{n.getAllPlantsList().then((e=>{r(e)}))}),[]);const ae=e=>{const{name:t,value:a}=e.target;let l={};if("ERPtype"===t)l={...Y,plantId:null,plants:null,url:null,username:null,port:null,authkey:null,material_master:null,SalesOrg:null,ECN_required:null,bomusage:null,BU:null,[t]:a};else if("plant"===t){const{id:e,plantName:t,material_master:n,ECN_required:s,bomusage:i,SalesOrg:r,ConnectivityDetails:o}=a,{url:d,username:c,password:m,port:u,authkey:p}=o;l={...Y,plantId:e,plantName:t,ECN_required:s,bomusage:i,SalesOrg:r,url:d,material_master:n,username:c,password:m,port:u,authkey:p}}else l={...Y,[t]:a};Q(l)},le=(null===s||void 0===s||s.filter((e=>e.ERPType===Y.ERPType&&e.instance===Y.instance)),(e,t)=>{R(!0),U({severity:t,desc:e})}),ne=(e,t)=>{"clickaway"!==t&&c(!1)};return(0,l.useEffect)((()=>{null!==G&&void 0!==G&&G.tempId?(V(!0),e.getTemplateById({id:null===G||void 0===G?void 0:G.tempId}).then((e=>{var t;if(V(!1),e&&null!==Object&&void 0!==Object&&null!==(t=Object.keys(e))&&void 0!==t&&t.length){const t=e;H(t),J(t.BU),X(t.attributes),te(t.plants),Q({id:t.id,templates:t.templates,templateName:t.templateName,desc:t.desc,ERPType:t.ERPType,instance:t.instance,plantId:t.plantId,plantName:t.plantName,port:t.port,url:t.url,username:t.username,attributes:t.attributes,ECN_required:t.ECN_required,bomusage:t.bomusage,BU:t.BU})}else $("/template",{state:{message:"Template not found!",status:"error"}})}))):setTimeout((()=>{$("/template",{state:{message:"Template not found!",status:"error"}})}),200)}),[]),(0,De.wh)(a,"businessUnit"),(0,v.jsxs)(et,{children:[(0,v.jsx)(T.Z,{className:"breadcrumb",children:(0,v.jsx)(g.aG,{routeSegments:[{name:"Edit Template"}]})}),(0,v.jsx)(g.sF,{children:(0,v.jsxs)(k.ZP,{item:!0,md:9,sm:6,xs:6,children:[(0,v.jsxs)("form",{children:[(0,v.jsx)("h4",{children:"Edit Template"}),(0,v.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,v.jsxs)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,v.jsx)("span",{children:"Template Name"}),(0,v.jsx)("span",{className:o.spanRed,children:"*"})]}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{name:"templateName",value:Y.templateName,onChange:ae,fullWidth:!0,margin:"normal",disabled:!0})}),(0,v.jsxs)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,v.jsx)("span",{children:"Description"}),(0,v.jsx)("span",{className:o.spanRed,children:"*"})]}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{name:"desc",value:Y.desc,onChange:ae,fullWidth:!0,margin:"normal"})}),("SAP"===Y.ERPType||"ORACLE"===Y.ERPType)&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,v.jsx)("span",{children:"ERP Type "}),(0,v.jsx)("span",{className:o.spanRed,children:"*"})]}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{labelId:"ERPType-label",id:"ERPType-select",name:"ERPType",fullWidth:!0,value:null===Y||void 0===Y?void 0:Y.ERPType,onChange:ae,children:null===F.fY||void 0===F.fY?void 0:F.fY.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})}),(0,v.jsxs)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,v.jsx)("span",{children:"Instance"}),(0,v.jsx)("span",{className:o.spanRed,children:"*"})]}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{label:"instance",id:"instance",name:"instance",fullWidth:!0,displayEmpty:!0,value:Y.instance,onChange:ae,children:null===F.uL||void 0===F.uL?void 0:F.uL.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})})]}),("ORACLE"===Y.ERPType||"SAP"===Y.ERPType)&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["Design Organization ",(0,v.jsx)("span",{className:o.spanRed,children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{style:{width:"100%"},multiple:!0,name:"BU",value:K.sort(ze.xZ),onChange:e=>((e,t)=>{const a=e.target.value;if("BU"===t)J(a);else if("plants"===t){const e=null===s||void 0===s?void 0:s.filter((e=>a.includes(e.plantName))),t=null===e||void 0===e?void 0:e.map((e=>({plantName:e.plantName,id:e.id})));te(t)}})(e,"BU"),renderValue:e=>e.sort(ze.xZ).join(", "),MenuProps:{sx:{"&& .Mui-selected":{backgroundColor:"rgb(25 118 210 / 67%)"}}},children:null===a||void 0===a?void 0:a.map((e=>(0,v.jsx)(_.Z,{value:e.businessUnit,children:e.businessUnit},e.businessUnit)))})})]}),"SAP"===Y.ERPType&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"Attributes"})}),(0,v.jsxs)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:[(0,v.jsx)("span",{children:(0,v.jsx)(b.Z,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{y(null),j(!0),P({name:"",mandatory:"",material_master:"",dataType:"",inputType:"",defaultValues:""}),S([])},children:"Add Attribute"})}),(0,v.jsx)("br",{}),"\xa0",(0,v.jsx)(k.ZP,{md:4,children:(0,v.jsx)("span",{children:(0,v.jsx)("div",{style:{height:"154px",overflowY:"auto",border:"1px solid #ccc",borderRadius:"4px",width:"500px"},children:null===q||void 0===q?void 0:q.map(((e,t)=>(0,v.jsx)(Re.Z,{style:{paddingLeft:"50px",marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center",height:"46px"},children:(0,v.jsx)(k.ZP,{container:!0,alignItems:"center",spacing:3,children:(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsxs)("p",{children:[(0,v.jsx)("b",{children:"Name:"})," ",e.name,(0,v.jsx)(ke.Z,{onClick:()=>(e=>{if(e>=0&&e<q.length){var t,a;y(e),j(!0);const l={...q[e]},n=null===(t=q[e])||void 0===t?void 0:t.values[0],s=null===(a=Object.entries(n||{}))||void 0===a?void 0:a.map((e=>{let[t,a]=e;return{key:t,value:a}}));S(s),P(l)}})(t),children:(0,v.jsx)(Fe.Z,{})}),(0,v.jsx)(ke.Z,{onClick:()=>(e=>{if(e>=0&&e<q.length){const t=[...q];t.splice(e,1),X(t)}})(t),children:(0,v.jsx)(Be.Z,{})})]})})})},t)))})})})]})]}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:(0,v.jsx)(b.Z,{variant:"contained",color:"primary",margin:"2px",onClick:async()=>{var t,a,l;""!==(null===(t=Y.templateName)||void 0===t?void 0:t.trim())&&Y.templateName&&""!==(null===(a=Y.desc)||void 0===a?void 0:a.trim())&&Y.desc&&""!==(null===(l=Y.ERPType)||void 0===l?void 0:l.trim())&&Y.ERPType&&("SAP"!==Y.ERPType||Y.instance)?Q((t=>{const a={...t,id:Y.id,templates:Y.templates,attributes:q,BU:K,plants:ee};return e.updateTemplate(a).then((e=>{var t;if(e&&null!==(t=Object.keys(e))&&void 0!==t&&t.length&&"failed"===(null===e||void 0===e?void 0:e.status)){var a;const t=null===e||void 0===e||null===(a=e.message)||void 0===a?void 0:a.map((e=>(0,v.jsx)("li",{children:e},Ye().generate())));le(t,"error")}else setTimeout((()=>{$("/template",{state:{message:e.msg,status:e.status}})}),200)})),a})):le("Please fill the required details","error")},children:"Update"})})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:(0,v.jsx)(b.Z,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{$(-1)}),200)},children:"Cancel"})})})]})]}),(0,v.jsx)(Ue.Z,{open:d,autoHideDuration:3e3,onClose:ne,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,v.jsx)(tt,{onClose:ne,severity:p,sx:{width:"100%"},children:m})}),B?(0,v.jsx)(ye.Z,{openAlert:L,openDesc:B,setOpenAlert:R}):(0,v.jsx)(v.Fragment,{}),t||W?(0,v.jsx)("div",{style:{textAlign:"center"},children:(0,v.jsx)(re.Z,{show:!0})}):(0,v.jsx)(v.Fragment,{}),(0,v.jsx)(Ge,{open:x,handleDialogClose:()=>{j(!1)},attributeForm:f,tempObject:Z,handleAttributeChange:e=>{const{name:t,value:a}=e.target;"newKey"===t?O(a):"newValue"===t?M(a):P((e=>({...e,[t]:a})))},handleAddAttribute:()=>{const e={...Z,values:E.reduce(((e,t)=>(e[t.key]=t.value,e)),{})};if(""===e.material_master&&(e.material_master=z),""===e.mandatory&&(e.mandatory="Y"),Object.keys(e.values).length&&(e.values=[e.values]),null!==f){const t=[...q];t[f]=e,X(t)}else if(q)X((t=>[...t,e]));else{X([e])}j(!1),P(lt),S([]),y(null)},newKey:w,newValue:C,handleAddRow:()=>{const e=E.some((e=>e.key===w)),t=E.some((e=>e.value===C));e||t?D("The key or value already exists"):(S((e=>[...e,{key:w,value:C}])),O(""),M(""),D(""))},handleDeleteRow:e=>{S((t=>{const a=[...t];return a.splice(e,1),a}))},keyerror:A,valuesInputList:E})]})})]})}const st=[{path:"/template",element:(0,v.jsx)(ee,{children:(0,v.jsx)(Ie,{})})},{path:"/createTemplate",exact:!0,element:(0,v.jsx)(ee,{children:(0,v.jsx)(Je,{})})},{path:"/editTemplate/:tempId",exact:!0,element:(0,v.jsx)(ee,{children:(0,v.jsx)(nt,{})})}],it={sa:["SA"],admin:["SA","ADMIN"],editor:["SA","ADMIN","EDITOR"],guest:["SA","ADMIN","EDITOR","GUEST"]};var rt=a(13239);const ot=e=>{const t=new ce.t,[a,n]=(0,l.useState)(!1),[s,i]=(0,l.useState)((null===e||void 0===e?void 0:e.plantData)||[]),[r,o]=(0,l.useState)("allData"),[d,c]=(0,l.useState)(!1),[m,u]=(0,l.useState)(!1),[p,h]=(0,l.useState)(!1),[x,j]=(0,l.useState)(null);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{n(!0)},children:"Export"}),(0,v.jsxs)(ae.Z,{open:a,children:[(0,v.jsx)(ie.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export Template"}),(0,v.jsx)(ne.Z,{children:(0,v.jsx)(se.Z,{children:(0,v.jsx)(T.Z,{width:"100%",overflow:"auto",children:(0,v.jsx)(g.sF,{children:(0,v.jsx)(k.ZP,{item:!0,md:12,sm:12,xs:12,children:(0,v.jsx)(k.ZP,{container:!0,alignItems:"center",children:(0,v.jsxs)(we.Z,{children:[(0,v.jsx)(Oe.Z,{id:"demo-controlled-radio-buttons-group",children:"Select Data to Export"}),(0,v.jsxs)(Ee.Z,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:r,onChange:t=>{o(t.target.value),"allData"===t.target.value?i(null===e||void 0===e?void 0:e.plantData):i(null===e||void 0===e?void 0:e.filterTemplateData)},children:[(0,v.jsx)(Se.Z,{value:"allData",control:(0,v.jsx)(Pe.Z,{}),label:"All Data"}),(0,v.jsx)(Se.Z,{value:"selectedData",control:(0,v.jsx)(Pe.Z,{}),label:"Selected Data"})]})]})})})})})})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{autoFocus:!0,onClick:()=>{n(!1)},children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:()=>{n(!1);let a=("allData"!==r?null===e||void 0===e?void 0:e.filterTemplateData:null===e||void 0===e?void 0:e.plantData)||[],l=null===a||void 0===a?void 0:a.map((e=>({"Plant Name":e.plantName,"ERP Type":e.ERPType,Instance:e.instance,"Export To ERP":e.exportToERP})));t.exportTemplate({data:l,sheet_name:"Plants"}).then((e=>{u(e),c(!0),h(!0),j({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))},children:"Export"})]})]}),x?(0,v.jsx)(ye.Z,{openAlert:p,openDesc:x,setOpenAlert:h}):(0,v.jsx)(v.Fragment,{})]})},dt=(0,Z.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),ct=()=>{const e=new $e,[t,a]=(0,l.useState)(!1),[n,s]=(0,l.useState)(""),[r,o]=(0,l.useState)([]),[d,c]=(0,l.useState)([]),[m,u]=(0,l.useState)(),[p,h]=(0,l.useState)(!1),[x,j]=(0,l.useState)(null),[f,y]=(0,l.useState)({}),[Z,P]=(0,l.useState)({}),[E,S]=(0,l.useState)([]),w=(0,l.useRef)(null),O=w&&w.current&&w.current.dataMap?w.current.dataMap:null,C=(0,l.useCallback)((e=>{let{selected:t}=e;P(t)}),[]),[M,A]=(0,l.useState)(!0);(0,l.useEffect)((()=>{A(!0),e.getAllPlantsList().then((e=>{o(e),c(e),L(e)})).finally((()=>{A(!1)}))}),[]);const[D,L]=(0,l.useState)([]);let N=(0,De.wh)([...D],"plantName");(0,l.useEffect)((()=>{L(r)}),[r]);const _=(0,i.s0)(),I=(0,l.useRef)("initialValue"),R=e=>{a(!0),u(e)},F=e=>{I.current="edit";const t=e;setTimeout((()=>{_(`/editPlant/${null===t||void 0===t?void 0:t.id}`,{state:{plantMode:I.current,selectedPlantData:t}})}),200)},B=(e,t)=>{h(!0),j({severity:t,desc:e})};(0,l.useEffect)((()=>{const e=!0===Z?O:Z,t=e&&Object.keys(e).map((t=>e[t]));S(t)}),[Z,O]),(0,l.useEffect)((()=>{const e=r.filter((e=>""===n||e.plantName.toLowerCase().includes(n.toLowerCase())||e.instance.toLowerCase().includes(n.toLowerCase())||e.ERPType.toLowerCase().includes(n.toLowerCase())));L(e)}),[n,r]);const U=e=>{y(e);const t=Ae(ct)({data:r,sortInfo:e,sortedPlanteData:N,onSortInfoChange:U,initialData:d});o(t.props.data),L(t.props.data)};return(0,v.jsxs)(dt,{children:[(0,v.jsx)(T.Z,{className:"breadcrumb",children:(0,v.jsx)(g.aG,{routeSegments:[{name:"Plant"}]})}),(0,v.jsx)(g.sF,{children:(0,v.jsxs)(k.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:6,xs:12,className:"font-medium",children:(0,v.jsx)(oe.Z,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;s(t)},value:n,style:{width:"100%"}})}),(0,v.jsxs)(k.ZP,{item:!0,container:!0,md:9,sm:6,xs:12,alignItems:"center",children:[(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{},children:"Search"}),(0,v.jsx)("div",{style:{flex:1}}),(0,v.jsx)(b.Z,{variant:"contained",component:te.Link,onClick:()=>{I.current="create",setTimeout((()=>{_("/createPlant",{state:{plantMode:I.current}})}),200)},children:"Create"}),(0,v.jsx)(b.Z,{variant:"contained",disabled:1!==(null===E||void 0===E?void 0:E.length),onClick:()=>{F(E[0])},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,v.jsx)(b.Z,{variant:"contained",disabled:null===E||void 0===E||!E.length,onClick:()=>{R(E[0]),a(!0)},style:{margin:"0 10px"},children:"Delete"}),(0,v.jsx)(ot,{plantData:f&&0===Object.keys(f).length?N:r,filterTemplateData:E})]}),(0,v.jsxs)(T.Z,{width:"100%",overflow:"auto",children:[(0,v.jsx)("br",{}),M?(0,v.jsx)(T.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:550},children:(0,v.jsx)(rt.Z,{})}):(0,v.jsx)(Me.ZP,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},defaultLimit:100,columns:[{name:"plantName",header:(0,v.jsx)(de.Z,{title:"Name",children:"Plant Name"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.plantName})}},{name:"ERPType",header:(0,v.jsx)(de.Z,{title:"ERP Type",children:"ERP Type"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.ERPType})}},{name:"instance",header:(0,v.jsx)(de.Z,{title:"instance",children:"Instance"}),defaultFlex:1,defaultWidth:50},{name:"exportToERP",header:(0,v.jsx)(de.Z,{title:"Export To ERP",children:"Export To ERP"}),defaultFlex:1,defaultWidth:50}],dataSource:null===f?D:N,checkboxColumn:!0,selected:Z,onSelectionChange:C,handle:e=>w.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===w||void 0===w||null===(e=w.current)||void 0===e?void 0:e.setScrollTop(0==(null===E||void 0===E?void 0:E.length)?0:null===w||void 0===w||null===(t=w.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:U})]})]})}),x?(0,v.jsx)(ye.Z,{openAlert:p,openDesc:x,setOpenAlert:h}):(0,v.jsx)(v.Fragment,{}),(0,v.jsxs)(ae.Z,{open:t,children:[(0,v.jsx)(ie.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Plant"}),(0,v.jsx)(ne.Z,{children:1===E.length?(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(se.Z,{children:["Do you want to delete the plant ",(0,v.jsx)("b",{children:null===m||void 0===m?void 0:m.plantName})," ","with instance ",(0,v.jsx)("b",{children:null===m||void 0===m?void 0:m.instance})," having Design Organizations"," "]})}):(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(se.Z,{children:"Do you want to delete the seleted plants?"})})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{autoFocus:!0,onClick:()=>{a(!1)},children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:async()=>{a(!1);try{const t=null===E||void 0===E?void 0:E.map((e=>null===e||void 0===e?void 0:e.id));await e.deletePlant(t),P({}),S([])}catch(t){return t}e.getAllPlantsList().then((e=>{o(e)})),B("Plant deleted successfully","success")},children:"delete"})]})]})]})},mt=ct;var ut=a(92506);function pt(e){let{open:t,connDetails:a,handleCDChange:l,handleAddCD:n,connectivityError:s,handleDialogClose:i,plantForm:r}=e;return(0,v.jsxs)(ae.Z,{open:t,children:[(0,v.jsx)(ie.Z,{children:"Add Connectivity details"}),(0,v.jsxs)(ne.Z,{children:[(0,v.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"URL :"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{label:"URL",name:"url",value:a.url,onChange:l,fullWidth:!0,margin:"normal"})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"Username :"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{label:"Username",name:"username",value:a.username,onChange:l,fullWidth:!0,margin:"normal"})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"Password :"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{label:"Password",name:"password",value:(null===a||void 0===a?void 0:a.password)||"",onChange:l,fullWidth:!0,margin:"normal"})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"AuthKey :"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{label:"Authkey",name:"authkey",value:a.authkey,onChange:l,fullWidth:!0,margin:"normal"})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"Port :"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{label:"Port",name:"port",value:a.port,onChange:l,fullWidth:!0,margin:"normal"})}),"SAP"===r.ERPType&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"sapsysnum :"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{label:"sapsysnum",name:"sapsysnum",value:a.sapsysnum,onChange:l,fullWidth:!0,margin:"normal"})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"sapclientid :"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{label:"sapclientid",name:"sapclientid",value:a.sapclientid,onChange:l,fullWidth:!0,margin:"normal"})})]})]}),(0,v.jsx)("p",{style:{color:"red"},children:s})]}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{onClick:i,children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:n,children:"Add"})]})]})}const ht=(0,Z.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),xt=(0,Z.ZP)({spanRed:{color:"#FF3D57"}});function gt(){var e;const t=new $e,{bussinessUnitLists:a}=(0,I.Z)(),[n,s]=(0,l.useState)(),[r,o]=(0,l.useState)(!1),d=xt(),[c,m]=(0,l.useState)({BU:[],exportToERP:"Y",ERPType:"",instance:"",orgId:"",plantName:"",SalesOrg:"",aliasPlant:"",material_master:"",ECN_required:"",bomusage:""}),[u,p]=(0,l.useState)({}),[h,x]=(0,l.useState)(),[j,f]=(0,l.useState)([]),[y,Z]=(0,l.useState)(!1),[P,E]=(0,l.useState)(null);let S=(0,i.s0)();const w=[{value:"Y",label:"Yes"},{value:"N",label:"No"}];(0,l.useEffect)((()=>{t.getAllPlantsList().then((e=>{s(e.plant)}))}),[]);const O=e=>{const{name:t,value:a}=e.target,l={...c,[t]:a};m(l)},C=()=>{o(!1),x(""),p("")},M=(e,t)=>{Z(!0),E({severity:t,desc:e})};return(0,v.jsxs)(ht,{children:[(0,v.jsx)(T.Z,{className:"breadcrumb",children:(0,v.jsx)(g.aG,{routeSegments:[{name:"Create Plant"}]})}),(0,v.jsx)(ut.J9,{initialValues:{id:"",plants:"",ERPType:"",instance:"",Connectivitydetails:{}},onSubmit:()=>{},children:(0,v.jsx)(ut.l0,{children:(0,v.jsx)(g.sF,{children:(0,v.jsxs)(k.ZP,{item:!0,md:9,sm:6,xs:6,children:[(0,v.jsx)("h4",{children:"Create Plant"}),(0,v.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["Plant Name ",(0,v.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{name:"plantName",value:c.plantName,onChange:O,fullWidth:!0,margin:"normal"})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["ERP Type ",(0,v.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{id:"ERPType",name:"ERPType",fullWidth:!0,displayEmpty:!0,value:c.ERPType,onChange:O,children:F.fY.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})}),("SAP"===c.ERPType||"ORACLE"===c.ERPType||"JDE"===c.ERPType)&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["Organization Id",(0,v.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{label:"Organization Id",name:"orgId",value:c.orgId,onChange:O,fullWidth:!0,margin:"normal"})})]}),("SAP"===c.ERPType||"ORACLE"===c.ERPType||"JDE"===c.ERPType)&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["Instance ",(0,v.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{id:"instance",name:"instance",fullWidth:!0,displayEmpty:!0,value:c.instance,onChange:O,children:F.uL.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})})]}),(null===(e=["ORACLE","SAP","JDE"])||void 0===e?void 0:e.includes(c.ERPType))&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"Export to ERP"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{id:"exportToERP",name:"exportToERP",fullWidth:!0,displayEmpty:!0,value:c.exportToERP,onChange:O,children:F.o5.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})})]}),"SAP"===c.ERPType&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["Default Sales Org",(0,v.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{label:"Sales Org",name:"SalesOrg",value:c.SalesOrg,onChange:O,fullWidth:!0,margin:"normal"})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["Material Master ",(0,v.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{id:"material_master",name:"material_master",fullWidth:!0,displayEmpty:!0,value:c.material_master,onChange:O,children:w.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})}),"Y"===c.material_master&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["Plant Alias Name",(0,v.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{name:"aliasPlant",value:c.aliasPlant,onChange:O,fullWidth:!0,margin:"normal"})})]}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["ECN Required ",(0,v.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{id:"ECN_required",name:"ECN_required",fullWidth:!0,displayEmpty:!0,value:c.ECN_required,onChange:O,children:w.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["BOM Usage ",(0,v.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{id:"bomusage",name:"bomusage",fullWidth:!0,displayEmpty:!0,value:c.bomusage,onChange:O,children:F.TE.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})}),console.log(c.ERPType,"plantForm.ERPType"),"SAP"===c.ERPType&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"Connectivity Details "})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsxs)("span",{children:[0===Object.keys(u).length&&(0,v.jsx)(b.Z,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{o(!0)},children:"Add Connectivity Details"}),Object.keys(u).length>0&&(0,v.jsx)(k.ZP,{item:!0,md:12,sm:8,xs:12,children:(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{style:{display:"flex"},children:[(0,v.jsxs)("p",{children:[(0,v.jsx)("b",{children:"URL :"})," ",u.url]})," ","\xa0",(0,v.jsxs)("p",{children:[(0,v.jsx)("b",{children:"Username :"})," ",u.username]})," ","\xa0",(0,v.jsxs)("p",{children:[(0,v.jsx)("b",{children:"Pass :"})," ",u.password]})," ","\xa0",(0,v.jsxs)("p",{children:[(0,v.jsx)("b",{children:"AuthKey :"})," ",u.authkey]})," ","\xa0",(0,v.jsxs)("p",{children:[(0,v.jsx)("b",{children:"Port :"})," ",u.port]})," ","\xa0","SAP"===c.ERPType&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("p",{children:[(0,v.jsx)("b",{children:"sapsysnum :"})," ",u.sapsysnum]})," ","\xa0",(0,v.jsxs)("p",{children:[(0,v.jsx)("b",{children:"sapclientid :"})," ",u.sapclientid]})," "]}),(0,v.jsxs)("p",{children:[" ",(0,v.jsx)(Fe.Z,{onClick:()=>{o(!0)}})]})]})})})]})})]})]}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:(0,v.jsx)(b.Z,{type:"submit",variant:"contained",color:"primary",margin:"2px",onClick:()=>{var e,a,l,n,s,i,r;const o={id:c.plantName+"_"+c.ERPType+"_"+c.instance,plants:c.plantName+"_"+c.ERPType,plantName:c.plantName,ERPType:c.ERPType,orgId:c.orgId,SalesOrg:c.SalesOrg,aliasPlant:c.aliasPlant,material_master:c.material_master,ECN_required:c.ECN_required,bomusage:c.bomusage,exportToERP:c.exportToERP,ConnectivityDetails:u};null!==c&&void 0!==c&&c.instance&&(o.instance=null===c||void 0===c?void 0:c.instance,o.id=c.plantName+"_"+c.ERPType+"_"+c.instance,o.plants=c.plantName+"_"+c.ERPType+"_"+c.instance),""!==(null===(e=c.plantName)||void 0===e?void 0:e.trim())&&c.plantName&&""!==(null===(a=c.ERPType)||void 0===a?void 0:a.trim())&&c.ERPType&&""!==(null===(l=c.instance)||void 0===l?void 0:l.trim())&&c.instance&&""!==(null===(n=c.exportToERP)||void 0===n?void 0:n.trim())&&c.exportToERP&&("SAP"!==c.ERPType||""!==(null===(s=c.plantName)||void 0===s?void 0:s.trim())&&c.plantName)&&("SAP"!==c.ERPType||""!==(null===(i=c.material_master)||void 0===i?void 0:i.trim())&&c.material_master)&&("SAP"!==c.ERPType||""!==(null===(r=c.bomusage)||void 0===r?void 0:r.trim())&&c.bomusage)&&("SAP"!==c.ERPType||c.instance)?t.addnewPlant(o).then((e=>{var t,a,l;if(e&&null!==e&&void 0!==e&&e.data&&null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.length)if(null!==e&&void 0!==e&&null!==(a=e.data[0])&&void 0!==a&&a.id)M("Plant added successfully!","success"),setTimeout((()=>{S("/plants")}),2e3);else if(null!==e&&void 0!==e&&null!==(l=e.data[0])&&void 0!==l&&l.msg){var n;M(null===e||void 0===e||null===(n=e.data[0])||void 0===n?void 0:n.msg,"error")}})):M("Please fill required details ","error")},children:"Submit"})})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:(0,v.jsx)(b.Z,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{S(-1)}),200)},children:"Cancel"})})})]})]})})})}),P?(0,v.jsx)(ye.Z,{openAlert:y,openDesc:P,setOpenAlert:Z}):(0,v.jsx)(v.Fragment,{}),(0,v.jsx)(pt,{open:r,onClose:C,connDetails:u,handleDialogClose:C,handleCDChange:e=>{p({...u,[e.target.name]:e.target.value})},handleAddCD:()=>{o(!1)},connectivityError:h,plantForm:c,classes:d})]})}const vt=(0,Z.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),jt=(0,Z.ZP)({spanRed:{color:"#FF3D57"}});function ft(){var e;const{refreshData:t}=(0,I.Z)(),a=new $e,[n,s]=(0,l.useState)(),[r,o]=(0,l.useState)(!1),d=jt(),[c,m]=(0,l.useState)(!0),[u,p]=(0,l.useState)(),h=((0,i.TH)(),(0,i.s0)()),x=(0,i.UO)(),[j,f]=(0,l.useState)(!1),[y,Z]=(0,l.useState)(null),[P,E]=(0,l.useState)({}),[S,w]=(0,l.useState)({}),[O,C]=(0,l.useState)([]),[M,A]=(0,l.useState)({}),D=[{value:"Y",label:"Yes"},{value:"N",label:"No"}];(0,l.useEffect)((()=>{a.getAllPlantsList().then((e=>{s(e.plant)}))}),[]);const L=e=>{const{name:t,value:a}=e.target,l={...P,[t]:a};E(l)},R=()=>{o(!1),p("")},B=(e,t)=>{f(!0),Z({severity:t,desc:e})};return(0,l.useEffect)((()=>{null!==x&&void 0!==x&&x.plantId?(m(!0),a.getPlantById({id:null===x||void 0===x?void 0:x.plantId}).then((e=>{var t;if(m(!1),null!==e&&void 0!==e&&e.data&&null!==Object&&void 0!==Object&&null!==(t=Object.keys(null===e||void 0===e?void 0:e.data))&&void 0!==t&&t.length){var a,l,n,s,i,r,o,d,c,u,p,x;const t=null===e||void 0===e?void 0:e.data;A(t),C(null===t||void 0===t?void 0:t.BU),E({id:null===t||void 0===t?void 0:t.id,plants:null===t||void 0===t?void 0:t.plants,plantName:null===t||void 0===t?void 0:t.plantName,SalesOrg:null===t||void 0===t?void 0:t.SalesOrg,aliasPlant:null===t||void 0===t?void 0:t.aliasPlant,ERPType:null===t||void 0===t?void 0:t.ERPType,instance:null===t||void 0===t?void 0:t.instance,material_master:null===t||void 0===t?void 0:t.material_master,ECN_required:null===t||void 0===t?void 0:t.ECN_required,bomusage:null===t||void 0===t?void 0:t.bomusage,exportToERP:null===t||void 0===t?void 0:t.exportToERP,Connectivitydetails:{url:null===t||void 0===t||null===(a=t.ConnectivityDetails)||void 0===a?void 0:a.url,username:null===t||void 0===t||null===(l=t.ConnectivityDetails)||void 0===l?void 0:l.username,password:null===t||void 0===t||null===(n=t.ConnectivityDetails)||void 0===n?void 0:n.password,authkey:null===t||void 0===t||null===(s=t.ConnectivityDetails)||void 0===s?void 0:s.authkey,port:null===t||void 0===t||null===(i=t.ConnectivityDetails)||void 0===i?void 0:i.port}}),w({url:null===t||void 0===t||null===(r=t.ConnectivityDetails)||void 0===r?void 0:r.url,username:null===t||void 0===t||null===(o=t.ConnectivityDetails)||void 0===o?void 0:o.username,password:null===t||void 0===t||null===(d=t.ConnectivityDetails)||void 0===d?void 0:d.password,authkey:null===t||void 0===t||null===(c=t.ConnectivityDetails)||void 0===c?void 0:c.authkey,port:null===t||void 0===t||null===(u=t.ConnectivityDetails)||void 0===u?void 0:u.port,sapsysnum:null===t||void 0===t||null===(p=t.ConnectivityDetails)||void 0===p?void 0:p.sapsysnum,sapclientid:null===t||void 0===t||null===(x=t.ConnectivityDetails)||void 0===x?void 0:x.sapclientid})}else h("/plants",{state:{message:"Plant not found!",status:"error"}})}))):setTimeout((()=>{h("/plants",{state:{message:"Plant not found!",status:"error"}})}),200)}),[]),(0,v.jsxs)(vt,{children:[(0,v.jsx)(T.Z,{className:"breadcrumb",children:(0,v.jsx)(g.aG,{routeSegments:[{name:"Edit Plant"}]})}),(0,v.jsx)(ut.J9,{initialValues:{id:"",plants:"",ERPType:"",instance:"",Connectivitydetails:{}},onSubmit:()=>{},children:(0,v.jsx)(ut.l0,{children:(0,v.jsx)(g.sF,{children:(0,v.jsxs)(k.ZP,{item:!0,md:9,sm:6,xs:6,children:[(0,v.jsx)("h4",{children:"Edit Plant"}),(0,v.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["Plant Name ",(0,v.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{disabled:!0,name:"plantName",value:P.plantName,onChange:L,fullWidth:!0,margin:"normal"})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["ERP Type ",(0,v.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{id:"ERPType",name:"ERPType",label:"ERPType",fullWidth:!0,disabled:!0,displayEmpty:!0,value:[null===P||void 0===P?void 0:P.ERPType],onChange:L,children:F.fY.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})}),("SAP"===P.ERPType||"ORACLE"===P.ERPType)&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["Instance ",(0,v.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{label:"instance",id:"instance",name:"instance",disabled:!0,fullWidth:!0,displayEmpty:!0,value:P.instance,onChange:L,children:F.uL.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})})]}),(null===(e=["ORACLE","SAP"])||void 0===e?void 0:e.includes(P.ERPType))&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"Export To ERP"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{id:"exportToERP",name:"exportToERP",fullWidth:!0,displayEmpty:!0,value:P.exportToERP,onChange:L,children:F.o5.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})})]}),"SAP"===P.ERPType&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"Default Sales Org"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{label:"SalesOrg",name:"SalesOrg",defaultValue:P.SalesOrg,onChange:L,fullWidth:!0,margin:"normal"})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"Material Master"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{id:"material_master",name:"material_master",label:"material_master",fullWidth:!0,displayEmpty:!0,value:P.material_master,onChange:L,children:D.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})}),"Y"===P.material_master&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"Plantname Alias"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{label:"aliasPlant",name:"aliasPlant",value:P.aliasPlant,onChange:L,fullWidth:!0,margin:"normal"})})]}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"ECN Required"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{id:"ECN_required",name:"ECN_required",label:"ECN_required",fullWidth:!0,displayEmpty:!0,value:P.ECN_required,onChange:L,children:D.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"BOM Usage"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{id:"bomusage",name:"bomusage",fullWidth:!0,displayEmpty:!0,value:P.bomusage,onChange:L,children:F.TE.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})}),function(e){for(let t in e)if(e.hasOwnProperty(t)&&""!==e[t]&&void 0!==e[t])return!0;return!1}(S)&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"Connectivity Details "})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsxs)("span",{children:[0===Object.keys(S).length||null===(null===M||void 0===M?void 0:M.ConnectivityDetails)&&(0,v.jsx)(b.Z,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{o(!0)},children:"Add Connectivity Details"}),(Object.keys(S).length>0||null!==(null===M||void 0===M?void 0:M.ConnectivityDetails))&&(0,v.jsx)(k.ZP,{item:!0,md:12,sm:8,xs:12,children:(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{style:{display:"flex"},children:[(0,v.jsxs)("p",{children:[(0,v.jsx)("b",{children:"URL :"})," ",S.url]})," ","\xa0",(0,v.jsxs)("p",{children:[(0,v.jsx)("b",{children:"Username :"})," ",S.username]})," ","\xa0",(0,v.jsxs)("p",{children:[(0,v.jsx)("b",{children:"Pass :"})," ",S.password]})," ","\xa0",(0,v.jsxs)("p",{children:[(0,v.jsx)("b",{children:"authkey :"})," ",S.authkey]})," ","\xa0",(0,v.jsxs)("p",{children:[(0,v.jsx)("b",{children:"Port :"})," ",S.port]})," ","\xa0","SAP"===P.ERPType&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("p",{children:[(0,v.jsx)("b",{children:"sapsysnum :"})," ",S.sapsysnum]})," ","\xa0",(0,v.jsxs)("p",{children:[(0,v.jsx)("b",{children:"sapclientid :"})," ",S.sapclientid]})," "]}),(0,v.jsxs)("p",{children:[" ",(0,v.jsx)(Fe.Z,{onClick:()=>{o(!0)}})]})]})})})]})})]})]}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:(0,v.jsx)(b.Z,{type:"submit",variant:"contained",color:"primary",margin:"2px",onClick:async()=>{var e,t,l,n,s,i,r;m(!0);const o={id:P.id,plants:P.plants,plantName:P.plantName,ERPType:P.ERPType,SalesOrg:P.SalesOrg,aliasPlant:P.aliasPlant,material_master:P.material_master,ECN_required:P.ECN_required,bomusage:P.bomusage,ConnectivityDetails:S,exportToERP:P.exportToERP};null!==P&&void 0!==P&&P.instance&&(o.instance=null===P||void 0===P?void 0:P.instance),""!==(null===(e=P.plantName)||void 0===e?void 0:e.trim())&&P.plantName&&""!==(null===(t=P.ERPType)||void 0===t?void 0:t.trim())&&P.ERPType&&""!==(null===(l=P.instance)||void 0===l?void 0:l.trim())&&P.instance&&""!==(null===(n=P.exportToERP)||void 0===n?void 0:n.trim())&&P.exportToERP&&("SAP"!==P.ERPType||""!==(null===(s=P.plantName)||void 0===s?void 0:s.trim())&&P.plantName)&&("SAP"!==P.ERPType||""!==(null===(i=P.material_master)||void 0===i?void 0:i.trim())&&P.material_master)&&("SAP"!==P.ERPType||""!==(null===(r=P.bomusage)||void 0===r?void 0:r.trim())&&P.bomusage)&&("SAP"!==P.ERPType||P.instance)?(m(!0),await a.updatePlant(o).then((e=>{var t;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id?(B("Plant updated successfully","success"),setTimeout((()=>{m(!1),h("/plants")}),2e3)):e.msg&&m(!1)}))):(B("Please fill required details ","error"),m(!1))},children:"Update"})})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:(0,v.jsx)(b.Z,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{h(-1)}),200)},children:"Cancel"})})})]})]})})})}),y?(0,v.jsx)(ye.Z,{openAlert:j,openDesc:y,setOpenAlert:f}):(0,v.jsx)(v.Fragment,{}),t||c?(0,v.jsx)("div",{style:{textAlign:"center"},children:(0,v.jsx)(re.Z,{show:!0})}):(0,v.jsx)(v.Fragment,{}),(0,v.jsx)(pt,{open:r,onClose:R,connDetails:S,handleDialogClose:R,handleCDChange:e=>{w({...S,[e.target.name]:e.target.value})},handleAddCD:()=>{o(!1)},connectivityError:u,plantForm:P,classes:d})]})}const yt=[{path:"/plants",element:(0,v.jsx)(ee,{children:(0,v.jsx)(mt,{})})},{path:"/createPlant",exact:!0,element:(0,v.jsx)(ee,{children:(0,v.jsx)(gt,{})})},{path:"/editPlant/:plantId",exact:!0,element:(0,v.jsx)(ee,{children:(0,v.jsx)(ft,{})})}];class Zt{constructor(){this.getAllSourceList=()=>Ve.Z.get(`${d.Fv}/sourceList/getSource`,d.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getSourceDetails",e),[]))),this.deleteSource=e=>Ve.Z.delete(`${d.Fv}/sourceList/deleteSource`,{data:{ids:e}},d.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting source:",e),e})),this.addnewSource=e=>Ve.Z.post(`${d.Fv}/sourceList/addSource`,e,d.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewSource",e),[]))),this.updateSource=e=>Ve.Z.put(`${d.Fv}/sourceList/updateSource`,e,d.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewPlant",e),[]))),this.getSourceById=e=>Ve.Z.post(`${d.Fv}/sourceList/getSourceById`,e,d.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getPlantById",e),[])))}}const Tt=(0,Z.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),bt=(0,Z.ZP)({spanRed:{color:"#FF3D57"}});function Pt(){const[e,t]=(0,l.useState)({}),[a,n]=(0,l.useState)(!1),[s,r]=(0,l.useState)(null),o=bt();let d=(0,i.s0)();const c=new Zt,m=a=>{const{name:l,value:n}=a.target,s={...e,[l]:n};t(s)},u=(e,t)=>{n(!0),r({severity:t,desc:e})};return(0,v.jsxs)(Tt,{children:[(0,v.jsx)(T.Z,{className:"breadcrumb",children:(0,v.jsx)(g.aG,{routeSegments:[{name:"Create Source"}]})}),(0,v.jsxs)("form",{children:[(0,v.jsx)(g.sF,{children:(0,v.jsxs)(k.ZP,{item:!0,md:9,sm:6,xs:6,children:[(0,v.jsx)("h4",{children:"Create Source"}),(0,v.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["Source ",(0,v.jsx)("span",{className:o.spanRed,children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{name:"source",value:e.source,onChange:m,fullWidth:!0,margin:"normal"})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["Instance ",(0,v.jsx)("span",{className:o.spanRed,children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{name:"instance",value:e.instance,onChange:m,fullWidth:!0,margin:"normal"})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["Environment ",(0,v.jsx)("span",{className:o.spanRed,children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{name:"environment",value:e.environment,onChange:m,fullWidth:!0,margin:"normal"})}),(0,v.jsxs)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,v.jsx)("span",{children:"ERP Type "})," ",(0,v.jsx)("span",{className:o.spanRed,children:"*"})]}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{labelId:"ERPType-label",id:"ERPType-select",name:"ERPType",fullWidth:!0,value:e.ERPType,onChange:m,children:F.fY.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})})]}),(0,v.jsx)("br",{}),(0,v.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:(0,v.jsx)(b.Z,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{var t,a,l,n;if(""===(null===(t=e.source)||void 0===t?void 0:t.trim())||!e.source||""===(null===(a=e.environment)||void 0===a?void 0:a.trim())||!e.environment||""===(null===(l=e.instance)||void 0===l?void 0:l.trim())||!e.instance||""===(null===(n=e.ERPType)||void 0===n?void 0:n.trim())||!e.ERPType)return void u("Please fill the require details","error");const s={source:e.source,environment:e.environment,instance:e.instance,ERPType:e.ERPType};c.addnewSource(s).then((e=>{var t,a;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id?(u("Source added successfully!","success"),setTimeout((()=>{d("/sourceList")}),2e3)):null!==e&&void 0!==e&&null!==(a=e.data[0])&&void 0!==a&&a.msg&&u(e.data[0].msg,"error")}))},children:"Submit"})})}),(0,v.jsx)(k.ZP,{item:!0,md:2,sm:4,xs:6,className:"font-medium",children:(0,v.jsx)("span",{children:(0,v.jsx)(b.Z,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{d(-1)}),200)},children:"Cancel"})})})]})]})}),s?(0,v.jsx)(ye.Z,{openAlert:a,openDesc:s,setOpenAlert:n}):(0,v.jsx)(v.Fragment,{})]})]})}const Et=(0,Z.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),St=(0,Z.ZP)({spanRed:{color:"#FF3D57"}});function wt(){const{refreshData:e}=(0,I.Z)(),[t,a]=(0,l.useState)(!0),[n,s]=(0,l.useState)(!1),[r,o]=(0,l.useState)(null),d=((0,i.TH)(),St());let c=(0,i.s0)();const m=(0,i.UO)(),u=new Zt,[p,h]=(0,l.useState)({}),x=e=>{const{name:t,value:a}=e.target,l={...p,[t]:a};h(l)},j=(e,t)=>{s(!0),o({severity:t,desc:e})};return(0,l.useEffect)((()=>{null!==m&&void 0!==m&&m.sourceId?(a(!0),u.getSourceById({id:null===m||void 0===m?void 0:m.sourceId}).then((e=>{var t;if(a(!1),null!==e&&void 0!==e&&e.data&&null!==Object&&void 0!==Object&&null!==(t=Object.keys(null===e||void 0===e?void 0:e.data))&&void 0!==t&&t.length){const t=null===e||void 0===e?void 0:e.data;h({source:t.source,environment:t.environment,instance:t.instance,ERPType:t.ERPType})}else c("/sourceList",{state:{message:"Source not found!",status:"error"}})}))):setTimeout((()=>{c("/sourceList",{state:{message:"Source not found!",status:"error"}})}),200)}),[]),(0,v.jsxs)(Et,{children:[(0,v.jsx)(T.Z,{className:"breadcrumb",children:(0,v.jsx)(g.aG,{routeSegments:[{name:"Edit Source"}]})}),(0,v.jsxs)("form",{children:[(0,v.jsx)(g.sF,{children:(0,v.jsxs)(k.ZP,{item:!0,md:9,sm:6,xs:6,children:[(0,v.jsx)("h4",{children:"Edit Source"}),(0,v.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["Source ",(0,v.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{name:"source",disabled:!0,value:p.source,onChange:x,fullWidth:!0,margin:"normal"})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["Instance ",(0,v.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{name:"instance",disabled:!0,value:p.instance,onChange:x,fullWidth:!0,margin:"normal"})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["Environment ",(0,v.jsx)("span",{className:d.spanRed,children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{name:"environment",value:p.environment,onChange:x,fullWidth:!0,margin:"normal"})}),(0,v.jsxs)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,v.jsx)("span",{children:"ERP Type "})," ",(0,v.jsx)("span",{className:d.spanRed,children:"*"})]}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{disabled:!0,name:"ERPType",fullWidth:!0,value:[p.ERPType],onChange:x,children:F.fY.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})})]}),(0,v.jsx)("br",{}),(0,v.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:(0,v.jsx)(b.Z,{variant:"contained",color:"primary",margin:"2px",onClick:async()=>{var e,t,l,n;if(a(!0),""===(null===(e=p.source)||void 0===e?void 0:e.trim())||!p.source||""===(null===(t=p.environment)||void 0===t?void 0:t.trim())||!p.environment||""===(null===(l=p.instance)||void 0===l?void 0:l.trim())||!p.instance||""===(null===(n=p.ERPType)||void 0===n?void 0:n.trim())||!p.ERPType)return j("Please fill the require details","error"),void a(!1);const s={source:p.source,environment:p.environment,instance:p.instance,ERPType:p.ERPType};u.updateSource(s).then((e=>{j("Source updated successfully","success"),setTimeout((()=>{a(!1),c("/sourceList")}),2e3)}))},children:"Update"})})}),(0,v.jsx)(k.ZP,{item:!0,md:2,sm:4,xs:6,className:"font-medium",children:(0,v.jsx)("span",{children:(0,v.jsx)(b.Z,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{c(-1)}),200)},children:"Cancel"})})})]})]})}),r?(0,v.jsx)(ye.Z,{openAlert:n,openDesc:r,setOpenAlert:s}):(0,v.jsx)(v.Fragment,{}),e||t?(0,v.jsx)("div",{style:{textAlign:"center"},children:(0,v.jsx)(re.Z,{show:!0})}):(0,v.jsx)(v.Fragment,{})]})]})}const Ot=e=>{const t=new ce.t,[a,n]=(0,l.useState)(!1),[s,i]=(0,l.useState)((null===e||void 0===e?void 0:e.sourceData)||[]),[r,o]=(0,l.useState)("allData"),[d,c]=(0,l.useState)(!1),[m,u]=(0,l.useState)(!1),[p,h]=(0,l.useState)(!1),[x,j]=(0,l.useState)(null);console.log("props",e);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{n(!0)},children:"Export"}),(0,v.jsxs)(ae.Z,{open:a,children:[(0,v.jsx)(ie.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export Template"}),(0,v.jsx)(ne.Z,{children:(0,v.jsx)(se.Z,{children:(0,v.jsx)(T.Z,{width:"100%",overflow:"auto",children:(0,v.jsx)(g.sF,{children:(0,v.jsx)(k.ZP,{item:!0,md:12,sm:12,xs:12,children:(0,v.jsx)(k.ZP,{container:!0,alignItems:"center",children:(0,v.jsxs)(we.Z,{children:[(0,v.jsx)(Oe.Z,{id:"demo-controlled-radio-buttons-group",children:"Select Data to Export"}),(0,v.jsxs)(Ee.Z,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:r,onChange:t=>{o(t.target.value),"allData"===t.target.value?i(null===e||void 0===e?void 0:e.sourceData):i(null===e||void 0===e?void 0:e.filterTemplateData)},children:[(0,v.jsx)(Se.Z,{value:"allData",control:(0,v.jsx)(Pe.Z,{}),label:"All Data"}),(0,v.jsx)(Se.Z,{value:"selectedData",control:(0,v.jsx)(Pe.Z,{}),label:"Selected Data"})]})]})})})})})})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{autoFocus:!0,onClick:()=>{n(!1)},children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:()=>{n(!1);let a=("allData"!==r?null===e||void 0===e?void 0:e.filterTemplateData:null===e||void 0===e?void 0:e.sourceData)||[],l=null===a||void 0===a?void 0:a.map((e=>({Source:e.source,Instance:e.instance,Environment:e.environment,"ERP Type":e.ERPType})));t.exportTemplate({data:l,sheet_name:"Source"}).then((e=>{u(e),c(!0),h(!0),j({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))},children:"Export"})]})]}),x?(0,v.jsx)(ye.Z,{openAlert:p,openDesc:x,setOpenAlert:h}):(0,v.jsx)(v.Fragment,{})]})},Ct=(0,Z.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Mt=()=>{const[e,t]=(0,l.useState)(),[a,n]=(0,l.useState)([]),[s,r]=(0,l.useState)([]),[o,d]=(0,l.useState)(""),[c,m]=(0,l.useState)(!1),u=new Zt,[p,h]=(0,l.useState)(!1),[x,j]=(0,l.useState)(null),[f,y]=(0,l.useState)({}),[Z,P]=(0,l.useState)([]),[E,S]=(0,l.useState)({}),[w,O]=(0,l.useState)([]),C=(0,l.useRef)(null),M=C&&C.current&&C.current.dataMap?C.current.dataMap:null,A=(0,l.useCallback)((e=>{let{selected:t}=e;S(t)}),[]),[D,L]=(0,l.useState)(!0);(0,l.useEffect)((()=>{L(!0),u.getAllSourceList().then((e=>{n(e),r(e),_(e)})).finally((()=>{L(!1)}))}),[]);const[N,_]=(0,l.useState)([]);(0,l.useEffect)((()=>{_(a)}),[a]);let I=(0,De.wh)([...N],"source");const R=(0,i.s0)(),F=(0,l.useRef)("initialValue"),B=e=>{F.current="edit";const t=e;setTimeout((()=>{R(`/editSourceList/${null===t||void 0===t?void 0:t.id}`,{state:{plantMode:F.current,selectedSourceData:t}})}),200)},U=e=>{m(!0),t(e)};(0,l.useEffect)((()=>{const e=!0===E?M:E,t=e&&Object.keys(e).map((t=>e[t]));O(t)}),[E,M]),(0,l.useEffect)((()=>{const e=a.filter((e=>""===o||e.source.toLowerCase().includes(o.toLowerCase())||e.environment.toLowerCase().includes(o.toLowerCase())||e.instance.toLowerCase().includes(o.toLowerCase())||e.ERPType.toLowerCase().includes(o.toLowerCase())));_(e)}),[o,a]);const W=e=>{y(e);const t=Ae(Mt)({data:a,sortInfo:e,sortedSourceData:I,onSortInfoChange:W,initialData:s});n(t.props.data),_(t.props.data)};return(0,v.jsxs)(Ct,{children:[(0,v.jsx)(T.Z,{className:"breadcrumb",children:(0,v.jsx)(g.aG,{routeSegments:[{name:"Source"}]})}),(0,v.jsx)(g.sF,{children:(0,v.jsxs)(k.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:6,xs:12,className:"font-medium",children:(0,v.jsx)(oe.Z,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;d(t)},value:o,style:{width:"100%"}})}),(0,v.jsxs)(k.ZP,{item:!0,container:!0,md:9,sm:6,xs:12,alignItems:"center",children:[(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{},children:"Search"}),(0,v.jsx)("div",{style:{flex:1}}),(0,v.jsx)(b.Z,{variant:"contained",component:te.Link,onClick:()=>{F.current="create",setTimeout((()=>{R("/createSourceList",{state:{plantMode:F.current}})}),200)},children:"Create"}),(0,v.jsx)(b.Z,{variant:"contained",disabled:1!==(null===w||void 0===w?void 0:w.length),onClick:()=>{B(w[0])},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,v.jsx)(b.Z,{variant:"contained",disabled:null===w||void 0===w||!w.length,onClick:()=>{U(w[0]),m(!0)},style:{margin:"0 10px 0 10px"},children:"Delete"}),(0,v.jsx)(Ot,{sourceData:a,filterTemplateData:w})]}),(0,v.jsxs)(T.Z,{width:"100%",overflow:"auto",children:[(0,v.jsx)("br",{}),D?(0,v.jsx)(T.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:550},children:(0,v.jsx)(rt.Z,{})}):(0,v.jsx)(Me.ZP,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},defaultLimit:100,columns:[{name:"source",header:(0,v.jsx)(de.Z,{title:"Name",children:"Source"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.source})}},{name:"instance",header:(0,v.jsx)(de.Z,{title:"Instance",children:"Instance"}),defaultFlex:1,defaultWidth:50},{name:"environment",header:(0,v.jsx)(de.Z,{title:"Environment",children:"Environment"}),defaultFlex:1,defaultWidth:50},{name:"ERPType",header:(0,v.jsx)(de.Z,{title:"ERP Type",children:"ERP Type"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.ERPType})}}],dataSource:null==f?N:I,checkboxColumn:!0,selected:E,onSelectionChange:A,handle:e=>C.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===C||void 0===C||null===(e=C.current)||void 0===e?void 0:e.setScrollTop(0==(null===w||void 0===w?void 0:w.length)?0:null===C||void 0===C||null===(t=C.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:W})]})]})}),x?(0,v.jsx)(ye.Z,{openAlert:p,openDesc:x,setOpenAlert:h}):(0,v.jsx)(v.Fragment,{}),(0,v.jsxs)(ae.Z,{open:c,children:[(0,v.jsx)(ie.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Source"}),(0,v.jsx)(ne.Z,{children:1===w.length?(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(se.Z,{children:["Do you want to delete the source ",(0,v.jsx)("b",{children:null===e||void 0===e?void 0:e.source})," ","having instance ",(0,v.jsx)("b",{children:null===e||void 0===e?void 0:e.instance})," and ERPType"," ",(0,v.jsx)("b",{children:null===e||void 0===e?void 0:e.ERPType})]})}):(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(se.Z,{children:"Do you want to delete the seleted sources?"})})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{autoFocus:!0,onClick:()=>{m(!1)},children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:async()=>{m(!1);try{const e=null===w||void 0===w?void 0:w.map((e=>null===e||void 0===e?void 0:e.id));await u.deleteSource(e).then((e=>{S({}),O([]),h(!0),j({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))}catch(e){return e}u.getAllSourceList().then((e=>{n(e)}))},children:"delete"})]})]})]})},At=Mt,Dt=[{path:"/sourceList",element:(0,v.jsx)(ee,{children:(0,v.jsx)(At,{})})},{path:"/createSourceList",element:(0,v.jsx)(ee,{children:(0,v.jsx)(Pt,{})})},{path:"/editSourceList/:sourceId",element:(0,v.jsx)(ee,{children:(0,v.jsx)(wt,{})})}];class Lt{constructor(){this.getAllMappings=()=>Ve.Z.get(`${d.Fv}/mappings/getMappings`,d.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getSourceDetails",e),[]))),this.deleteMapping=e=>Ve.Z.delete(`${d.Fv}/mappings/deleteMapping/${e}`,d.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting source:",e),e})),this.addnewMapping=e=>Ve.Z.post(`${d.Fv}/mappings/addMapping`,e,d.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewSource",e),[]))),this.updateMapping=e=>Ve.Z.put(`${d.Fv}/mappings/updateMapping`,e,d.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewPlant",e),[])))}}const Nt=l.forwardRef((function(e,t){return(0,v.jsx)(We.Z,{elevation:6,ref:t,variant:"filled",...e})})),_t=(0,Z.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),It=(0,Z.ZP)({spanRed:{color:"#FF3D57"}});function Rt(){const[e,t]=(0,l.useState)({}),[a,n]=(0,l.useState)({}),[s,r]=(0,l.useState)(!1),[o,d]=(0,l.useState)(),[c,m]=(0,l.useState)(),[u,p]=(0,l.useState)([]),[h,x]=(0,l.useState)(""),[j,f]=(0,l.useState)(""),[y,Z]=(0,l.useState)(""),[P,E]=(0,l.useState)({}),S=It();let w=(0,i.s0)();new Zt;const O=new Lt,C=e=>{const{name:t,value:a}=e.target;"newKey"===t?f(a):"newValue"===t?Z(a):E((e=>({...e,[t]:a})))},M=e=>{const{name:t,value:l}=e.target,s={...a,[t]:l};n(s)},A=(e,t)=>{d(e),m(t),r(!0)},D=(e,t)=>{"clickaway"!==t&&r(!1)};return(0,v.jsxs)(_t,{children:[(0,v.jsx)(T.Z,{className:"breadcrumb",children:(0,v.jsx)(g.aG,{routeSegments:[{name:"Create Mapping"}]})}),(0,v.jsxs)("form",{children:[(0,v.jsx)(g.sF,{children:(0,v.jsxs)(k.ZP,{item:!0,md:9,sm:6,xs:6,children:[(0,v.jsx)("h4",{children:"Create Mapping"}),(0,v.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["Name ",(0,v.jsx)("span",{className:S.spanRed,children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{label:"Name",name:"Name",value:a.Name,onChange:M,fullWidth:!0,margin:"normal"})}),(0,v.jsxs)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,v.jsx)("span",{children:"ERP Type "})," ",(0,v.jsx)("span",{className:S.spanRed,children:"*"})]}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{labelId:"ERPType-label",id:"ERPType-select",name:"ERPType",fullWidth:!0,value:a.ERPType,onChange:M,children:F.fY.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["Mapping values ",(0,v.jsx)("span",{className:S.spanRed,children:"*"})]})}),(0,v.jsxs)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:[(0,v.jsxs)(k.ZP,{container:!0,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,xs:3,style:{marginLeft:"3px"},children:(0,v.jsx)(oe.Z,{name:"newKey",label:"key",value:j,variant:"outlined",fullWidth:!0,margin:"normal",onChange:C})}),"\xa0 \xa0",(0,v.jsx)(k.ZP,{item:!0,xs:3,children:(0,v.jsx)(oe.Z,{name:"newValue",label:"value",value:y,variant:"outlined",fullWidth:!0,margin:"normal",onChange:C})}),"\xa0 \xa0",(0,v.jsx)(k.ZP,{item:!0,xs:3,children:(0,v.jsx)(b.Z,{style:{fontSize:"30px",marginTop:"6px"},onClick:()=>{const e=u.some((e=>e.key===j)),t=u.some((e=>e.value===y));e||t?x("The key or value already exists"):(p((e=>[...e,{key:j,value:y}])),f(""),Z(""),x(""))},children:(0,v.jsx)("b",{children:"+"})})})]}),(0,v.jsx)("p",{style:{color:"red"},children:h}),(0,v.jsx)("div",{style:{height:"100px",overflowY:"auto",border:"1px solid #ccc",borderRadius:"4px",alignContent:"center",width:"51%"},children:u.map(((e,t)=>(0,v.jsx)(Re.Z,{style:{paddingLeft:"50px",marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,v.jsxs)(k.ZP,{container:!0,alignItems:"center",style:{marginLeft:"2px"},children:[(0,v.jsx)(k.ZP,{item:!0,xs:6,children:(0,v.jsxs)("p",{children:[(0,v.jsx)("b",{children:e.key}),":",(0,v.jsx)("b",{children:e.value})]})}),(0,v.jsx)(k.ZP,{item:!0,xs:2,children:(0,v.jsx)(ke.Z,{onClick:()=>(e=>{p((t=>{const a=[...t];return a.splice(e,1),a}))})(t),children:(0,v.jsx)(Be.Z,{})})})]})},t)))})]})]}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:(0,v.jsx)(b.Z,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{var e,t;if(""===(null===(e=a.Name)||void 0===e?void 0:e.trim())||!a.Name||""===(null===(t=a.ERPType)||void 0===t?void 0:t.trim())||!a.ERPType||0===u.length)return void A("Please fill the require details","error");const l={Name:a.Name,ERPType:a.ERPType,List:u.reduce(((e,t)=>(e[t.key]=t.value,e)),{})};O.addnewMapping(l).then((e=>{var t,a,l;if(e&&null!==e&&void 0!==e&&e.data&&null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.length){if(null!==e&&void 0!==e&&null!==(a=e.data[0])&&void 0!==a&&a.id)A("Mapping added successfully!","success"),setTimeout((()=>{w("/mappings")}),200);else if(null!==e&&void 0!==e&&null!==(l=e.data[0])&&void 0!==l&&l.msg){var n;A(null===e||void 0===e||null===(n=e.data[0])||void 0===n?void 0:n.msg,"error")}}else console.log("No data in resp.")}))},children:"Submit"})})})]})}),(0,v.jsx)(Ue.Z,{open:s,autoHideDuration:3e3,onClose:D,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,v.jsx)(Nt,{onClose:D,severity:c,sx:{width:"100%"},children:o})})]})]})}const kt=l.forwardRef((function(e,t){return(0,v.jsx)(We.Z,{elevation:6,ref:t,variant:"filled",...e})})),Ft=(0,Z.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Bt=(0,Z.ZP)({spanRed:{color:"#FF3D57"}});function Ut(){var e;const[t,a]=(0,l.useState)(!1),[n,s]=(0,l.useState)(),[r,o]=(0,l.useState)(),[d,c]=(0,l.useState)(""),[m,u]=(0,l.useState)(""),[p,h]=(0,l.useState)(""),[x,j]=(0,l.useState)({}),f=Bt();let y=(0,i.s0)();const Z=(0,i.TH)(),P=new Lt,E=null===(e=Z.state)||void 0===e?void 0:e.selectedMappingData,[S,w]=(0,l.useState)({Name:E.Name,ERPType:E.ERPType}),O=Object.entries(E.List).map((e=>{let[t,a]=e;return{key:t,value:a}})),[C,M]=(0,l.useState)(O),A=e=>{const{name:t,value:a}=e.target;"newKey"===t?u(a):"newValue"===t?h(a):j((e=>({...e,[t]:a})))},D=e=>{const{name:t,value:a}=e.target,l={...S,[t]:a};w(l)},L=(e,t)=>{s(e),o(t),a(!0)},I=(e,t)=>{"clickaway"!==t&&a(!1)};return(0,v.jsxs)(Ft,{children:[(0,v.jsx)(T.Z,{className:"breadcrumb",children:(0,v.jsx)(g.aG,{routeSegments:[{name:"Edit Mapping"}]})}),(0,v.jsxs)("form",{children:[(0,v.jsx)(g.sF,{children:(0,v.jsxs)(k.ZP,{item:!0,md:9,sm:6,xs:6,children:[(0,v.jsx)("h4",{children:"Edit Mapping"}),(0,v.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["Name ",(0,v.jsx)("span",{className:f.spanRed,children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{label:"Name",name:"Name",disabled:!0,value:S.Name,onChange:D,fullWidth:!0,margin:"normal"})}),(0,v.jsxs)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,v.jsx)("span",{children:"ERP Type "})," ",(0,v.jsx)("span",{className:f.spanRed,children:"*"})]}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{labelId:"ERPType-label",id:"ERPType-select",name:"ERPType",fullWidth:!0,value:S.ERPType,onChange:D,children:F.fY.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["Mapping values ",(0,v.jsx)("span",{className:f.spanRed,children:"*"})]})}),(0,v.jsxs)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:[(0,v.jsxs)(k.ZP,{container:!0,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,xs:3,style:{marginLeft:"3px"},children:(0,v.jsx)(oe.Z,{name:"newKey",label:"key",value:m,variant:"outlined",fullWidth:!0,margin:"normal",onChange:A})}),"\xa0 \xa0",(0,v.jsx)(k.ZP,{item:!0,xs:3,children:(0,v.jsx)(oe.Z,{name:"newValue",label:"value",value:p,variant:"outlined",fullWidth:!0,margin:"normal",onChange:A})}),"\xa0 \xa0",(0,v.jsx)(k.ZP,{item:!0,xs:3,children:(0,v.jsx)(b.Z,{style:{fontSize:"30px",marginTop:"6px"},onClick:()=>{const e=C.some((e=>e.key===m)),t=C.some((e=>e.value===p));e||t?c("The key or value already exists"):(M((e=>[...e,{key:m,value:p}])),u(""),h(""),c(""))},children:(0,v.jsx)("b",{children:"+"})})})]}),(0,v.jsx)("p",{style:{color:"red"},children:d}),(0,v.jsx)("div",{style:{height:"100px",overflowY:"auto",border:"1px solid #ccc",borderRadius:"4px",alignContent:"center",width:"51%"},children:C.map(((e,t)=>(0,v.jsx)(Re.Z,{style:{paddingLeft:"50px",marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,v.jsxs)(k.ZP,{container:!0,alignItems:"center",style:{marginLeft:"2px"},children:[(0,v.jsx)(k.ZP,{item:!0,xs:6,children:(0,v.jsxs)("p",{children:[(0,v.jsx)("b",{children:e.key}),":",(0,v.jsx)("b",{children:e.value})]})}),(0,v.jsx)(k.ZP,{item:!0,xs:2,children:(0,v.jsx)(ke.Z,{onClick:()=>(e=>{M((t=>{const a=[...t];return a.splice(e,1),a}))})(t),children:(0,v.jsx)(Be.Z,{})})})]})},t)))})]})]}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:(0,v.jsx)(b.Z,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{var e,t;if(""===(null===(e=S.Name)||void 0===e?void 0:e.trim())||!S.Name||""===(null===(t=S.ERPType)||void 0===t?void 0:t.trim())||!S.ERPType||0===C.length)return void L("Please fill the require details","error");const a={Name:S.Name,ERPType:S.ERPType,List:C.reduce(((e,t)=>(e[t.key]=t.value,e)),{})};P.updateMapping(a).then((e=>{setTimeout((()=>{y("/mappings")}),200)})),L("Mapping updated successfully","success")},children:"Update"})})})]})}),(0,v.jsx)(Ue.Z,{open:t,autoHideDuration:3e3,onClose:I,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,v.jsx)(kt,{onClose:I,severity:r,sx:{width:"100%"},children:n})})]})]})}var Wt=a(63033);const Vt=l.forwardRef((function(e,t){return(0,v.jsx)(We.Z,{elevation:6,ref:t,variant:"filled",...e})})),$t=(0,Z.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Gt=(0,Z.ZP)(pe.Z)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),zt=()=>{const[e,t]=(0,l.useState)(0),[a,n]=(0,l.useState)(10),[s,r]=(0,l.useState)(),[o,d]=(0,l.useState)(),[c,m]=(0,l.useState)(""),[u,p]=(0,l.useState)([]),[h,x]=(0,l.useState)(!1),[j,f]=(0,l.useState)(!1),y=new Lt;(0,l.useEffect)((()=>{y.getAllMappings().then((e=>{d(e)}))}),[]);const[Z,P]=(0,l.useState)([]);(0,l.useEffect)((()=>{P(o)}),[o]);const E=(0,i.s0)(),S=(0,l.useRef)("initialValue"),w=()=>{x(!0)},O=(e,t)=>{"clickaway"!==t&&x(!1)},[C,M]=(0,l.useState)({Name:[],ERPType:[]}),A=(e,t)=>{M((a=>({...a,[e]:t})))};(0,l.useEffect)((()=>{let e=o;C.Name.length>0&&(e=e.filter((e=>C.Name.includes(e.Name)))),C.ERPType.length>0&&(e=e.filter((e=>C.ERPType.includes(e.ERPType)))),p(e)}),[C]);const D=e=>{const t=new Set;return null===o||void 0===o||o.forEach((a=>t.add(a[e]))),Array.from(t)};return(0,v.jsxs)($t,{children:[(0,v.jsx)(T.Z,{className:"breadcrumb",children:(0,v.jsx)(g.aG,{routeSegments:[{name:"Mappings"}]})}),(0,v.jsx)(g.sF,{children:(0,v.jsxs)(k.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:6,xs:12,className:"font-medium",children:(0,v.jsx)(oe.Z,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;if(m(t),""===t)P(o);else{const e=null===o||void 0===o?void 0:o.filter((e=>{var a,l;return(null===e||void 0===e||null===(a=e.Name)||void 0===a?void 0:a.toLowerCase().includes(t.toLowerCase()))||(null===(l=e.ERPType)||void 0===l?void 0:l.toLowerCase().includes(t.toLowerCase()))}));P(e)}},value:c,style:{width:"100%"}})}),(0,v.jsxs)(k.ZP,{item:!0,container:!0,md:9,sm:6,xs:12,alignItems:"center",children:[(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{if(""===c)P(o);else{const e=o.filter((e=>null===e||void 0===e?void 0:e.Name.toLowerCase().includes(c.toLowerCase())));P(e)}},children:"Search"}),(0,v.jsx)("div",{style:{flex:1}}),(0,v.jsx)(b.Z,{variant:"contained",component:te.Link,onClick:()=>{S.current="create",setTimeout((()=>{E("/createMappings",{state:{plantMode:S.current}})}),200)},children:"Create"})]}),(0,v.jsxs)(T.Z,{width:"100%",overflow:"auto",children:[(0,v.jsxs)(Gt,{children:[(0,v.jsx)(he.Z,{children:(0,v.jsxs)(xe.Z,{children:[(0,v.jsxs)(ge.Z,{align:"left",children:[(0,v.jsx)(ve.Z,{style:{fontWeight:"bold",color:"rgba(52, 49, 76, 1)"},children:"Mapping Name"}),(0,v.jsx)("br",{}),(0,v.jsx)(je.Z,{style:{width:"70%"},multiple:!0,options:D("Name"),value:C.Name,onChange:(e,t)=>A("Name",t),renderValue:()=>null,renderInput:e=>(0,v.jsx)(oe.Z,{...e,variant:"outlined",label:"Filter Name",placeholder:"Search..."}),PaperProps:{style:{maxHeight:"200px"}},disableCloseOnSelect:!0,isOptionEqualToValue:(e,t)=>e===t,getOptionLabel:e=>e,getOptionSelected:(e,t)=>C.Name.includes(t),ChipProps:{style:{fontSize:"8px"}}})]}),(0,v.jsxs)(ge.Z,{align:"left",children:[(0,v.jsx)(ve.Z,{style:{fontWeight:"bold",color:"rgba(52, 49, 76, 1)"},children:"ERP Type"}),(0,v.jsx)("br",{}),(0,v.jsx)(je.Z,{style:{width:"70%"},multiple:!0,options:D("ERPType"),value:C.ERPType,onChange:(e,t)=>A("ERPType",t),renderValue:()=>null,renderInput:e=>(0,v.jsx)(oe.Z,{...e,variant:"outlined",label:"Filter ERP Type",placeholder:"Search..."}),PaperProps:{style:{maxHeight:"200px"}},disableCloseOnSelect:!0,isOptionEqualToValue:(e,t)=>e===t,getOptionLabel:e=>e,getOptionSelected:(e,t)=>C.ERPType.includes(t),ChipProps:{style:{fontSize:"8px"}}})]}),(0,v.jsx)(ge.Z,{align:"left",children:(0,v.jsx)(ve.Z,{style:{paddingBottom:"85px",fontWeight:"bold",color:"rgba(52, 49, 76, 1)"},children:"Actions"})})]})}),(0,v.jsx)(fe.Z,{children:(null===Z||void 0===Z?void 0:Z.length)>0?Z.filter((e=>(""===c||e.Name.toLowerCase().includes(c.toLowerCase())||(null===e||void 0===e?void 0:e.ERPType.toLowerCase().includes(c.toLowerCase())))&&(0===C.Name.length||C.Name.includes(e.Name))&&(0===C.ERPType.length||C.ERPType.includes(e.ERPType)))).slice(e*a,e*a+a).map(((e,t)=>(0,v.jsxs)(xe.Z,{children:[(0,v.jsx)(ge.Z,{align:"left",style:{textTransform:"none"},children:e.Name}),(0,v.jsx)(ge.Z,{align:"left",style:{textTransform:"none"},children:e.ERPType}),(0,v.jsxs)(ge.Z,{align:"left",style:{textTransform:"none"},children:[(0,v.jsx)(Fe.Z,{id:e.id,onClick:()=>(e=>{S.current="edit";const t=e;setTimeout((()=>{E("/editMappings",{state:{plantMode:S.current,selectedMappingData:t}})}),200)})(e)})," ",(0,v.jsx)(Be.Z,{onClick:()=>{return t=e,f(!0),void r(t);var t}})]})]},t))):(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(ge.Z,{align:"left",colSpan:5,style:{textAlign:"center"},children:"No result found!"})})})]}),null!==o&&void 0!==o&&o.length?(0,v.jsx)(Wt.Z,{sx:{px:2},page:e,component:"div",rowsPerPage:a,count:null===o||void 0===o?void 0:o.length,onPageChange:(e,a)=>{t(a)},rowsPerPageOptions:[10,25,50],onRowsPerPageChange:e=>{n(+e.target.value),t(0)},nextIconButtonProps:{"aria-label":"Next Page"},backIconButtonProps:{"aria-label":"Previous Page"}}):(0,v.jsx)(v.Fragment,{})]})]})}),(0,v.jsx)(Ue.Z,{open:h,autoHideDuration:3e3,onClose:O,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,v.jsx)(Vt,{onClose:O,severity:"success",sx:{width:"100%"},children:"Mapping deleted successfully!"})}),(0,v.jsxs)(ae.Z,{open:j,children:[(0,v.jsx)(ie.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete template"}),(0,v.jsx)(ne.Z,{children:(0,v.jsxs)(se.Z,{children:["Do you want to delete the source ",(0,v.jsx)("b",{children:null===s||void 0===s?void 0:s.Name})," ","having ERP type ",(0,v.jsx)("b",{children:null===s||void 0===s?void 0:s.ERPType})]})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{autoFocus:!0,onClick:()=>{f(!1)},children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:async()=>{f(!1);try{await y.deleteMapping(s.id)}catch(e){console.error("Failed to delete plant:",e)}y.getAllMappings().then((e=>{d(e)})),w()},children:"delete"})]})]})]})},Ht=[{path:"/mappings",element:(0,v.jsx)(ee,{children:(0,v.jsx)(zt,{})}),auth:it.admin},{path:"/createMappings",element:(0,v.jsx)(ee,{children:(0,v.jsx)(Rt,{})}),auth:it.admin},{path:"/editMappings",element:(0,v.jsx)(ee,{children:(0,v.jsx)(Ut,{})}),auth:it.admin}];var Yt=a(84838);const Qt=e=>{const t=new ce.t,[a,n]=(0,l.useState)(!1),[s,i]=(0,l.useState)((null===e||void 0===e?void 0:e.buData)||[]),[r,o]=(0,l.useState)("allData"),[d,c]=(0,l.useState)(!1),[m,u]=(0,l.useState)(!1),[p,h]=(0,l.useState)(!1),[x,j]=(0,l.useState)(null);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{n(!0)},children:"Export"}),(0,v.jsxs)(ae.Z,{open:a,children:[(0,v.jsx)(ie.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export Template"}),(0,v.jsx)(ne.Z,{children:(0,v.jsx)(se.Z,{children:(0,v.jsx)(T.Z,{width:"100%",overflow:"auto",children:(0,v.jsx)(g.sF,{children:(0,v.jsx)(k.ZP,{item:!0,md:12,sm:12,xs:12,children:(0,v.jsx)(k.ZP,{container:!0,alignItems:"center",children:(0,v.jsxs)(we.Z,{children:[(0,v.jsx)(Oe.Z,{id:"demo-controlled-radio-buttons-group",children:"Select Data to Export"}),(0,v.jsxs)(Ee.Z,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:r,onChange:t=>{o(t.target.value),"allData"===t.target.value?i(null===e||void 0===e?void 0:e.buData):i(null===e||void 0===e?void 0:e.filterTemplateData)},children:[(0,v.jsx)(Se.Z,{value:"allData",control:(0,v.jsx)(Pe.Z,{}),label:"All Data"}),(0,v.jsx)(Se.Z,{value:"selectedData",control:(0,v.jsx)(Pe.Z,{}),label:"Selected Data"})]})]})})})})})})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{autoFocus:!0,onClick:()=>{n(!1)},children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:()=>{var a;n(!1);let l=("allData"!==r?null===e||void 0===e?void 0:e.filterTemplateData:null===e||void 0===e?void 0:e.buData)||[];e.sortInfo&&0!==Object.keys(e.sortInfo).length||(l=l.sort(((e,t)=>{var a,l;const n=(null===(a=e.businessUnit)||void 0===a?void 0:a.toLowerCase())||"",s=(null===(l=t.businessUnit)||void 0===l?void 0:l.toLowerCase())||"";return n<s?-1:n>s?1:0})));let s=null===(a=l)||void 0===a?void 0:a.map((e=>{var t,a;return{"Design Organization":e.businessUnit,"Export To ERP Disabled":e.exportToERPdisabled,"Export To ERP Bypassed":e.exportToERPbyPassed,"Enable BOS Transfer":e.enableBOSTransfer,"Context DFF":e.contextDEF,"EMR Division ARG":e.EMRDivisionORGValue,"Product Hierarchy":e.productHierarchy,"Plant Name":(null===e||void 0===e||null===(t=e.plants)||void 0===t?void 0:t.length)>0?null===e||void 0===e||null===(a=e.plants)||void 0===a?void 0:a.map((e=>null===e||void 0===e?void 0:e.plantName)).join("\n"):null,"Do Not Send To ERP":e.doNotSendToERP.join("\n"),"Oracle Existing":e.oracleExisting.join("\n"),"Make Without BOM List":e.makeWithoutBOMList.join("\n"),"Not Owning Division List":e.notOwningDivisionList.join("\n")}}));t.exportTemplate({data:s,sheet_name:"Design Organization"}).then((e=>{u(e),c(!0),h(!0),j({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))},children:"Export"})]})]}),x?(0,v.jsx)(ye.Z,{openAlert:p,openDesc:x,setOpenAlert:h}):(0,v.jsx)(v.Fragment,{})]})},qt=(0,Z.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Xt=()=>{const{bussinessUnitLists:e,updateBussinessUnitLists:t}=(0,I.Z)();let a=(0,i.TH)().state;const[n,s]=(0,l.useState)(),[r,o]=(0,l.useState)([]),[d,c]=(0,l.useState)(""),[m,u]=(0,l.useState)(!1),p=new Yt.a,[h,x]=(0,l.useState)(!1),[j,f]=(0,l.useState)(null),[y,Z]=(0,l.useState)({}),[P,E]=(0,l.useState)({}),[S,w]=(0,l.useState)([]),O=(0,l.useRef)(null),C=O&&O.current&&O.current.dataMap?O.current.dataMap:null,[M,A]=(0,l.useState)(!0),[D,L]=(0,l.useState)([]),N=(0,l.useCallback)((e=>{let{selected:t}=e;E(t)}),[]);(0,l.useEffect)((()=>{A(!0),e?setTimeout((()=>{o(e),L(e),A(!1)}),500):p.getAllBuList().then((e=>{o(e.data),t(e.data),L(e.data),R(e.data)})).finally((()=>{A(!1)}))}),[e]);const[_,R]=(0,l.useState)([]);(0,l.useEffect)((()=>{R(r)}),[r]);const F=(0,De.wh)([..._],"buName"),B=(0,i.s0)(),U=(0,l.useRef)("initialValue"),W=e=>{U.current="edit";const t=e;setTimeout((()=>{B(`/editBU/${null===t||void 0===t?void 0:t.id}`,{state:{plantMode:U.current,selectedBUData:t}})}),200)},V=e=>{u(!0),s(e)};(0,l.useEffect)((()=>{const e=!0===P?C:P,t=e&&Object.keys(e).map((t=>e[t]));w(t)}),[P,C]),(0,l.useEffect)((()=>{if(r){const e=r.filter((e=>""===d||e.buName.toLowerCase().includes(d.toLowerCase())));R(e)}}),[d,r]),(0,l.useEffect)((()=>{var e,l,n;null!==(e=a)&&void 0!==e&&e.status&&(x(!0),f({severity:null===(l=a)||void 0===l?void 0:l.status,desc:null===(n=a)||void 0===n?void 0:n.message}),p.getAllBuList().then((e=>{o(e.data),t(e.data),L(e.data)})));a={},window.onbeforeunload=()=>{window.history.replaceState({},document.title)}}),[a]);const $=e=>{Z(e);const t=Ae(Xt)({data:r,sortInfo:e,sortedFilteredBuData:F,onSortInfoChange:$,initialData:D});o(t.props.data),R(t.props.data)};return(0,v.jsxs)(qt,{children:[(0,v.jsx)(T.Z,{className:"breadcrumb",children:(0,v.jsx)(g.aG,{routeSegments:[{name:"Design Organization"}]})}),(0,v.jsx)(g.sF,{children:(0,v.jsxs)(k.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:6,xs:12,className:"font-medium",children:(0,v.jsx)(oe.Z,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;c(t)},value:d,style:{width:"100%"}})}),(0,v.jsxs)(k.ZP,{item:!0,container:!0,md:9,sm:6,xs:12,alignItems:"center",children:[(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{},children:"Search"}),(0,v.jsx)("div",{style:{flex:1}}),(0,v.jsx)(b.Z,{variant:"contained",component:te.Link,onClick:()=>{U.current="create",setTimeout((()=>{B("/createBU",{state:{plantMode:U.current}})}),200)},children:"Create"}),(0,v.jsx)(b.Z,{variant:"contained",disabled:1!==(null===S||void 0===S?void 0:S.length),onClick:()=>{W(S[0])},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,v.jsx)(b.Z,{variant:"contained",disabled:null===S||void 0===S||!S.length,onClick:()=>{V(S[0]),u(!0)},style:{margin:"0 10px 0 10px"},children:"Delete"}),(0,v.jsx)(Qt,{sortInfo:y,buData:r,filterTemplateData:S})]}),(0,v.jsxs)(T.Z,{width:"100%",overflow:"auto",children:[(0,v.jsx)("br",{}),M?(0,v.jsx)(T.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:550},children:(0,v.jsx)(rt.Z,{})}):(0,v.jsx)(Me.ZP,{idProperty:"id",showZebraRows:!1,defaultLimit:100,rowStyle:e=>{let{data:t}=e;const a=Object.keys(P).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===P?"#dee1f2":"initial",height:"auto !important",whiteSpace:"normal"}},columns:[{name:"buName",header:(0,v.jsx)(de.Z,{title:"Design Organization",children:"Design Organization"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.buName})}},{name:"exportToERPdisabled",header:(0,v.jsx)(de.Z,{title:"Export To ERP Disabled",children:"Export To ERP Disabled"}),defaultFlex:1,defaultWidth:50},{name:"exportToERPbyPassed",header:(0,v.jsx)(de.Z,{title:"Export To ERP Bypassed",children:"Export To ERP Bypassed"}),defaultFlex:1,defaultWidth:50},{name:"enableBOSTransfer",header:(0,v.jsx)(de.Z,{title:"Enable BOS Transfer",children:"Enable BOS Transfer"}),defaultFlex:1,defaultWidth:50},{name:"contextDFF",header:(0,v.jsx)(de.Z,{title:"Context DFF",children:"Context DFF"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.contextDEF})}},{name:"EMRDivisionORGValue",header:(0,v.jsx)(de.Z,{title:"EMR Division ORG Value",children:"EMR Division ARG"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.EMRDivisionORGValue})}},{name:"productHierarchy",header:(0,v.jsx)(de.Z,{title:"Product Hierarchy",children:"Product Hierarchy"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.productHierarchy})}},{name:"plants",header:(0,v.jsx)(de.Z,{title:"Plant Name",children:"Plant Name"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.plants.sort(((e,t)=>e.plantName.localeCompare(t.plantName))).map(((e,t)=>(0,v.jsx)("div",{children:null===e||void 0===e?void 0:e.plantName},t)))})}},{name:"DoNotSendToERP",header:(0,v.jsx)(de.Z,{title:"DoNotSendToERP",children:"Do Not Send To ERP"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.doNotSendToERP.sort(((e,t)=>e.localeCompare(t))).map(((e,t)=>(0,v.jsx)("div",{children:e},t)))})}},{name:"OracleExisting",header:(0,v.jsx)(de.Z,{title:"OracleExisting",children:"Oracle Existing"}),defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.oracleExisting.sort(((e,t)=>e.localeCompare(t))).map(((e,t)=>(0,v.jsx)("div",{children:e},t)))})}},{name:"MakeWithoutBOMList",header:(0,v.jsx)(de.Z,{title:"Make Without BOMList",children:"Make Without BOM List"}),defaultFlex:0,defaultWidth:170,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.makeWithoutBOMList.sort(((e,t)=>e.localeCompare(t))).map(((e,t)=>(0,v.jsx)("div",{children:e},t)))})}},{name:"NotOwningDivisionList",header:(0,v.jsx)(de.Z,{title:"Not Owning DivisionList",children:"Not Owning Division List"}),defaultFlex:1,defaultWidth:100,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.notOwningDivisionList.sort(((e,t)=>e.localeCompare(t))).map(((e,t)=>(0,v.jsx)("div",{children:e},t)))})}}],dataSource:F,checkboxColumn:!0,selected:P,onSelectionChange:N,handle:e=>O.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===O||void 0===O||null===(e=O.current)||void 0===e?void 0:e.setScrollTop(0==(null===S||void 0===S?void 0:S.length)?0:null===O||void 0===O||null===(t=O.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:$})]})]})}),j?(0,v.jsx)(ye.Z,{openAlert:h,openDesc:j,setOpenAlert:x}):(0,v.jsx)(v.Fragment,{}),(0,v.jsxs)(ae.Z,{open:m,children:[(0,v.jsx)(ie.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Design Organization"}),(0,v.jsx)(ne.Z,{children:1===S.length?(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(se.Z,{children:["Do you want to delete the RDO ",(0,v.jsx)("b",{children:null===n||void 0===n?void 0:n.buName})," having plants"," ",(0,v.jsxs)("b",{children:[" ",null===n||void 0===n?void 0:n.plants.map((e=>e.plantName)).join(",")," "]})]})}):(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(se.Z,{children:"Do you want to delete the seleted Design Organization?"})})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{autoFocus:!0,onClick:()=>{u(!1)},children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:async()=>{u(!1);try{const e=null===S||void 0===S?void 0:S.map((e=>null===e||void 0===e?void 0:e.id));await p.deleteBU(e).then((e=>{console.log(e,"delete response"),x(!0),f({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg}),E({}),w([])}))}catch(e){console.error("Failed to delete BU:",e)}p.getAllBuList().then((e=>{o(e.data),t(e.data),L(e.data)}))},children:"delete"})]})]})]})},Kt=Xt,Jt=(0,Z.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}}));function ea(){const{refreshData:e,templatesInfo:t}=(0,I.Z)(),[a,n]=(0,l.useState)({exportToERPdisabled:"N",exportToERPbyPassed:"N",enableBOSTransfer:"Y"}),[s,r]=(0,l.useState)([]),[o,d]=(0,l.useState)([]),[c,m]=(0,l.useState)([]),[u,p]=(0,l.useState)([]),[h,x]=(0,l.useState)([]),[j,f]=(0,l.useState)([]),[y,Z]=(0,l.useState)(!1),[P,E]=(0,l.useState)(null),[S,w]=(0,l.useState)(!0);let O=(0,i.s0)();const C=new Yt.a,M=new $e;(0,l.useEffect)((()=>{w(!0),M.getAllPlantsList().then((e=>{r(e),w(!1)}))}),[]);const A=e=>{const{name:t,value:l}=e.target,s={...a,[t]:l};n(s)},D=(e,a)=>{console.log(`New Value: ${e} - `,a);const l=(null===a||void 0===a?void 0:a.filter((e=>t.some((t=>t.templateName===e.templateName)))))||[];"DoNotSendToERP"===e?m(l):"OracleExisting"===e?p(l):"MakeWithoutBOMList"===e?x(l):"NotOwningDivisionList"===e&&f(l)},L=(e,t)=>{Z(!0),E({severity:t,desc:e})};return(0,De.wh)(s,"plantName"),(0,De.wh)(t,"templateName"),(0,v.jsxs)(Jt,{children:[(0,v.jsx)(T.Z,{className:"breadcrumb",children:(0,v.jsx)(g.aG,{routeSegments:[{name:"Create Design Organization"}]})}),(0,v.jsxs)("form",{children:[(0,v.jsx)(g.sF,{children:(0,v.jsxs)(k.ZP,{item:!0,md:9,sm:6,xs:6,children:[(0,v.jsx)("h4",{children:"Create Design Organization"}),(0,v.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["Design Organization ",(0,v.jsx)("span",{style:{color:"#FF3D57"},children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{name:"buName",value:a.buName,onChange:A,fullWidth:!0,margin:"normal"})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"Export to ERP Disabled "})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{labelId:"exportToERPdisabled",id:"exportToERPdisabled",name:"exportToERPdisabled",fullWidth:!0,value:a.exportToERPdisabled,onChange:A,children:F.o5.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"Export To ERP Bypassed"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{labelId:"exportToERPbyPassed",id:"exportToERPbyPassed",name:"exportToERPbyPassed",fullWidth:!0,value:a.exportToERPbyPassed,onChange:A,children:F.o5.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"Enable BOS Transfer "})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{labelId:"enableBOSTransfer",id:"enableBOSTransfer",name:"enableBOSTransfer",fullWidth:!0,value:"Y",onChange:A,children:F.s7.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"Context DFF"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{name:"contextDEF",value:a.contextDEF,onChange:A,fullWidth:!0,margin:"normal"})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"EMR Division ARG"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{name:"EMRDivisionORGValue",value:a.EMRDivisionORGValue,onChange:A,fullWidth:!0,margin:"normal"})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"Product Hierarchy"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{name:"productHierarchy",value:a.productHierarchy,onChange:A,fullWidth:!0,margin:"normal"})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["Plant Name ",(0,v.jsx)("span",{style:{color:"#FF3D57"},children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(je.Z,{multiple:!0,value:o,getOptionLabel:e=>e.plantName,autoHighlight:!0,onChange:(e,t)=>{(e=>{const t=(null===e||void 0===e?void 0:e.filter((e=>s.some((t=>t.plantName===e.plantName)))))||[];d(t)})(t)},options:s,renderInput:e=>(0,v.jsx)(oe.Z,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,v.jsx)(T.Z,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.plantName})})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"Do Not Send To ERP"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(je.Z,{multiple:!0,value:c,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{D("DoNotSendToERP",t)},options:t,renderInput:e=>(0,v.jsx)(oe.Z,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,v.jsx)(T.Z,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"Oracle Existing"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(je.Z,{multiple:!0,value:u,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{D("OracleExisting",t)},options:t,renderInput:e=>(0,v.jsx)(oe.Z,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,v.jsx)(T.Z,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"Make Without BOM List"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(je.Z,{multiple:!0,value:h,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{D("MakeWithoutBOMList",t)},options:t,renderInput:e=>(0,v.jsx)(oe.Z,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,v.jsx)(T.Z,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"Not Owning Division List"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(je.Z,{multiple:!0,value:j,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{D("NotOwningDivisionList",t)},options:t,renderInput:e=>(0,v.jsx)(oe.Z,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,v.jsx)(T.Z,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,v.jsxs)(k.ZP,{item:!0,md:12,sm:12,xs:12,className:"font-medium",style:{textAlign:"right"},children:[(0,v.jsx)(b.Z,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{O(-1)}),200)},style:{marginRight:"20px"},children:"Cancel"}),(0,v.jsx)(b.Z,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{var e;if(""===(null===(e=a.buName)||void 0===e?void 0:e.trim())||!a.buName||0===o.length)return void L("Please fill the require details","error");const t={id:a.buName,buName:a.buName,exportToERPdisabled:a.exportToERPdisabled,contextDEF:a.contextDEF,EMRDivisionORGValue:a.EMRDivisionORGValue,productHierarchy:a.productHierarchy,exportToERPbyPassed:a.exportToERPbyPassed,enableBOSTransfer:a.enableBOSTransfer,plants:(null===o||void 0===o?void 0:o.map((e=>({id:null===e||void 0===e?void 0:e.id,plantName:null===e||void 0===e?void 0:e.plantName}))))||[],doNotSendToERP:(null===c||void 0===c?void 0:c.map((e=>e.templateName)))||[],oracleExisting:(null===u||void 0===u?void 0:u.map((e=>e.templateName)))||[],makeWithoutBOMList:(null===h||void 0===h?void 0:h.map((e=>e.templateName)))||[],notOwningDivisionList:(null===j||void 0===j?void 0:j.map((e=>e.templateName)))||[]};w(!0),C.addnewBU(t).then((e=>{w(!1),"success"===e.status?setTimeout((()=>{O("/buList",{state:{message:e.msg,status:e.status}})}),200):"error"===e.status&&L(e.msg,"error")}))},children:"Submit"})]})]})]})}),P?(0,v.jsx)(ye.Z,{openAlert:y,openDesc:P,setOpenAlert:Z}):(0,v.jsx)(v.Fragment,{}),e||S?(0,v.jsx)("div",{style:{textAlign:"center"},children:(0,v.jsx)(re.Z,{show:e})}):(0,v.jsx)(v.Fragment,{})]})]})}var ta=a(25878),aa=a(9903);const la=(0,Z.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),na=(0,Z.ZP)({spanRed:{color:"#FF3D57"}});function sa(){const{refreshData:e,templatesInfo:t,updateMappingTemplatesInfo:a}=(0,I.Z)(),[n,s]=(0,l.useState)([]),[r,o]=((0,i.TH)(),(0,l.useState)({})),[d,c]=(0,l.useState)(!1),[m,u]=(0,l.useState)(null),[p,h]=(0,l.useState)({}),[x,j]=(0,l.useState)(!0),f=na();let y=(0,i.s0)();const Z=(0,i.UO)(),P=new Yt.a,E=new aa.q,S=new $e;(0,l.useEffect)((()=>{j(!0),S.getAllPlantsList().then((e=>{s(e),j(!1)}))}),[]);const w=e=>{const{name:t,value:a}=e.target,l={...p,[t]:a};console.log(l,"===================updatedForm"),h(l)},[O,C]=(0,l.useState)([]),[M,A]=(0,l.useState)([]),[D,L]=(0,l.useState)([]),[R,B]=(0,l.useState)([]),[U,W]=(0,l.useState)([]),V=(e,a)=>{console.log("New Value:",a);const l=(null===a||void 0===a?void 0:a.filter((e=>t.some((t=>t.templateName===e.templateName)))))||[];"DoNotSendToERP"===e?A(l):"OracleExisting"===e?L(l):"MakeWithoutBOMList"===e?B(l):"NotOwningDivisionList"===e&&W(l)},$=(e,t)=>{c(!0),u({severity:t,desc:e})},G=e=>(null===t||void 0===t?void 0:t.filter((t=>e.some((e=>e===t.templateName)))))||[];return(0,l.useEffect)((()=>{if(null!==r&&void 0!==r&&r.plants){const e=(null===n||void 0===n?void 0:n.filter((e=>null===r||void 0===r?void 0:r.plants.some((t=>(null===t||void 0===t?void 0:t.plantName)===(null===e||void 0===e?void 0:e.plantName))))))||[];C(e)}if(null!==r&&void 0!==r&&r.doNotSendToERP){const e=G(null===r||void 0===r?void 0:r.doNotSendToERP);A(e)}if(null!==r&&void 0!==r&&r.oracleExisting){const e=G(null===r||void 0===r?void 0:r.oracleExisting);L(e)}if(null!==r&&void 0!==r&&r.makeWithoutBOMList){const e=G(r.makeWithoutBOMList);B(e)}if(null!==r&&void 0!==r&&r.notOwningDivisionList){const e=G(r.notOwningDivisionList);W(e)}}),[r,n,t]),(0,l.useEffect)((()=>{null!==Z&&void 0!==Z&&Z.buId?(j(!0),P.getBusinessUnitbyid([{id:null===Z||void 0===Z?void 0:Z.buId}]).then((e=>{var t,a,l,n;if(j(!1),null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.length&&null!==e&&void 0!==e&&null!==(a=e.data)&&void 0!==a&&a[0]&&null!==Object&&void 0!==Object&&null!==(l=Object.keys(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n[0]))&&void 0!==l&&l.length){o(null===e||void 0===e?void 0:e.data[0]);const t=null===e||void 0===e?void 0:e.data[0];h({id:t.id,buName:t.buName,exportToERPdisabled:t.exportToERPdisabled,exportToERPbyPassed:t.exportToERPbyPassed,enableBOSTransfer:t.enableBOSTransfer,contextDEF:t.contextDEF,EMRDivisionORGValue:t.EMRDivisionORGValue,productHierarchy:t.productHierarchy})}else y("/buList",{state:{message:"Design Organization not found!",status:"error"}})}))):setTimeout((()=>{y("/buList",{state:{message:"Design Organization not found!",status:"error"}})}),200)}),[]),(0,De.wh)(n,"plantName"),(0,v.jsxs)(la,{children:[(0,v.jsx)(T.Z,{className:"breadcrumb",children:(0,v.jsx)(g.aG,{routeSegments:[{name:"Edit Design Organization"}]})}),(0,v.jsxs)("form",{children:[(0,v.jsx)(g.sF,{children:(0,v.jsxs)(k.ZP,{item:!0,md:9,sm:6,xs:6,children:[(0,v.jsx)("h4",{children:"Edit Design Organization"}),(0,v.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["Design Organization ",(0,v.jsx)("span",{className:f.spanRed,children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{name:"buName",disabled:!0,value:p.buName,onChange:w,fullWidth:!0,margin:"normal"})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"Export to ERP Disabled "})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{id:"exportToERPdisabled",name:"exportToERPdisabled",fullWidth:!0,value:null!==p&&void 0!==p&&p.exportToERPdisabled?null===p||void 0===p?void 0:p.exportToERPdisabled:"N",onChange:w,children:F.o5.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"Export To ERP ByPassed"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{id:"exportToERPbyPassed",name:"exportToERPbyPassed",fullWidth:!0,value:null!==p&&void 0!==p&&p.exportToERPbyPassed?null===p||void 0===p?void 0:p.exportToERPbyPassed:"N",onChange:w,children:F.o5.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"Enable BOS Transfer "})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{labelId:"enableBOSTransfer",id:"enableBOSTransfer",name:"enableBOSTransfer",fullWidth:!0,value:null!==p&&void 0!==p&&p.enableBOSTransfer?null===p||void 0===p?void 0:p.enableBOSTransfer:"Y",onChange:w,children:F.s7.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"Context DFF"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{name:"contextDEF",value:p.contextDEF,onChange:w,fullWidth:!0,margin:"normal"})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"EMR Division ARG"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{name:"EMRDivisionORGValue",value:p.EMRDivisionORGValue,onChange:w,fullWidth:!0,margin:"normal"})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"Product Hierarchy"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{name:"productHierarchy",value:p.productHierarchy,onChange:w,fullWidth:!0,margin:"normal"})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["Plant Name ",(0,v.jsx)("span",{className:f.spanRed,children:"*"})]})}),(0,v.jsxs)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:[(0,v.jsx)(je.Z,{multiple:!0,value:O,getOptionLabel:e=>e.plantName,autoHighlight:!0,onChange:(e,t)=>{(e=>{const t=(null===e||void 0===e?void 0:e.filter((e=>n.some((t=>t.plantName===e.plantName)))))||[];C(t)})(t)},options:n,renderInput:e=>(0,v.jsx)(oe.Z,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,v.jsx)(T.Z,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.plantName})}),(0,v.jsxs)("div",{style:{marginTop:"5px"},children:[(0,v.jsx)(ta.Z,{style:{marginTop:"5px"},color:"secondary",fontSize:"small"}),(0,v.jsx)("span",{style:{marginBottom:"20px"},children:" Changing Plants will affect the Template Mappings."})]})]}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"Do Not Send To ERP"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(je.Z,{multiple:!0,value:M,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{V("DoNotSendToERP",t)},options:t,renderInput:e=>(0,v.jsx)(oe.Z,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,v.jsx)(T.Z,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"Oracle Existing"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(je.Z,{multiple:!0,value:D,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{V("OracleExisting",t)},options:t,renderInput:e=>(0,v.jsx)(oe.Z,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,v.jsx)(T.Z,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"Make Without BOM List"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(je.Z,{multiple:!0,value:R,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{V("MakeWithoutBOMList",t)},options:t,renderInput:e=>(0,v.jsx)(oe.Z,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,v.jsx)(T.Z,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsx)("span",{children:"Not Owning Division List"})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(je.Z,{multiple:!0,value:U,getOptionLabel:e=>e.templateName,autoHighlight:!0,onChange:(e,t)=>{V("NotOwningDivisionList",t)},options:t,renderInput:e=>(0,v.jsx)(oe.Z,{...e,className:"sampleeeee"}),renderOption:(e,t)=>(0,v.jsx)(T.Z,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:t.templateName})})}),(0,v.jsxs)(k.ZP,{item:!0,md:12,sm:12,xs:12,className:"font-medium",style:{textAlign:"right"},children:[(0,v.jsx)(b.Z,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{y(-1)}),200)},style:{marginRight:"20px"},children:"Cancel"}),(0,v.jsx)(b.Z,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{var e;if(""===(null===(e=p.buName)||void 0===e?void 0:e.trim())||!p.buName||0===O.length)return void $("Please fill the require details","error");const t={id:p.id,buName:p.buName,exportToERPdisabled:p.exportToERPdisabled,contextDEF:p.contextDEF,EMRDivisionORGValue:p.EMRDivisionORGValue,productHierarchy:p.productHierarchy,exportToERPbyPassed:p.exportToERPbyPassed,enableBOSTransfer:p.enableBOSTransfer,plants:(null===O||void 0===O?void 0:O.map((e=>({id:null===e||void 0===e?void 0:e.id,plantName:null===e||void 0===e?void 0:e.plantName}))))||[],doNotSendToERP:(null===M||void 0===M?void 0:M.map((e=>e.templateName)))||[],oracleExisting:(null===D||void 0===D?void 0:D.map((e=>e.templateName)))||[],makeWithoutBOMList:(null===R||void 0===R?void 0:R.map((e=>e.templateName)))||[],notOwningDivisionList:(null===U||void 0===U?void 0:U.map((e=>e.templateName)))||[]};j(!0),P.updateBU(t).then((e=>{j(!1),"success"===e.status?(j(!1),E.getAlltemplateMappings().then((e=>{var t;a(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),j(!0)})),setTimeout((()=>{y("/buList",{state:{message:e.msg,status:e.status}})}),200)):"error"===e.status&&$(e.msg,e.status)}))},children:"Update"})]})]})]})}),m?(0,v.jsx)(ye.Z,{openAlert:d,openDesc:m,setOpenAlert:c}):(0,v.jsx)(v.Fragment,{}),e||x?(0,v.jsx)("div",{style:{textAlign:"center"},children:(0,v.jsx)(re.Z,{show:!0})}):(0,v.jsx)(v.Fragment,{})]})]})}const ia=[{path:"/buList",element:(0,v.jsx)(ee,{children:(0,v.jsx)(Kt,{})})},{path:"/createBU",element:(0,v.jsx)(ee,{children:(0,v.jsx)(ea,{})})},{path:"/editBU/:buId",element:(0,v.jsx)(ee,{children:(0,v.jsx)(sa,{})})}];var ra=a(6394);const oa=(0,Z.ZP)(pe.Z)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),da=(0,Z.ZP)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),ca=e=>{let{userImportDialog:t,setUserImportDialog:a,setUserData:n}=e;const s=new ra.h,i=new A.K,[r,o]=(0,l.useState)(!1),[d,c]=(0,l.useState)(!1),[m,u]=(0,l.useState)(!1),[p,h]=(0,l.useState)(null),[x,g]=(0,l.useState)(null),j=localStorage.getItem("instance"),[f,y]=(0,l.useState)(!1),[Z,P]=(0,l.useState)(null),E=()=>{a(!1),h(null),g(null)};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(ae.Z,{open:t,onClose:E,PaperProps:{style:{backgroundColor:"#fff",boxShadow:"none"}},children:[(0,v.jsx)(ie.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Bulk Upload Required Users"}),(0,v.jsx)(ne.Z,{children:(0,v.jsx)(se.Z,{children:(0,v.jsx)(T.Z,{width:"100%",overflow:"auto",children:(0,v.jsx)(oa,{children:(0,v.jsxs)(fe.Z,{children:[(0,v.jsxs)(xe.Z,{children:[(0,v.jsx)(ge.Z,{align:"left",children:"Upload File (Excel File)"}),(0,v.jsxs)(ge.Z,{align:"left",children:[(0,v.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,v.jsxs)(b.Z,{component:"label",variant:"contained",startIcon:(0,v.jsx)(me.Z,{}),children:["Upload file",(0,v.jsx)(da,{type:"file",name:"file",accept:".xls, .xlsx",onChange:e=>{console.log("file selected");const t=e.target.files[0];if(t){const a=t.name.split(".").pop();"xlsx"===a||"xls"===a?(h(e.target.files[0]),g(e.target.files[0].name),o(!1)):(o(!0),g(null),h(null))}else o(!0),g(null),h(null)}})]}),r&&(0,v.jsx)("p",{children:"Please Select xlsx file to Upload "})]}),x&&(0,v.jsx)("p",{children:x})]})]}),(0,v.jsx)(xe.Z,{children:(0,v.jsxs)(ge.Z,{colSpan:2,children:[(0,v.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,v.jsx)("a",{onClick:()=>{s.downloadSampleFile("sample-bulkUserUpload.xlsx")},download:"Example-XLSX-document",rel:"noreferrer",style:{color:"blue",cursor:"pointer"},children:"Click Here"})," ","to download the sample Excel template for bulk user upload."]}),(0,v.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,v.jsx)("b",{children:"Note:"})," Upload file must contain six columns with header labels in following order."]}),(0,v.jsxs)("div",{style:{paddingTop:"10px"},children:["1. User Name",(0,v.jsx)("br",{}),"3. Name",(0,v.jsx)("br",{}),"4. Email",(0,v.jsx)("br",{}),"5. Is Authorized",(0,v.jsx)("br",{}),"6. User Group",(0,v.jsx)("br",{})]})]})})]})})})})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{onClick:async()=>{if(!p||p.length<1)o(!0);else try{const e={file:p,data:{Instance:j}};console.log(e,"postData");const t=await i.importUser(e);console.log(t,"response 11111");const a=t.status||"error";if(c(t),u(!0),h(null),g(null),E(),y(!0),P({severity:a,desc:"success"===a?null===t||void 0===t?void 0:t.msg:t.errors.join(", ")}),"success"===a){console.log(t,"response 22222 file uploaded successfully and user added");const e=await i.getAllUsersList();n(e.data)}else console.log(a,"response status")}catch(e){console.error("Error importing file:",e),y(!0),P({severity:"error",desc:"An error occurred while importing the file."})}},children:"Upload"}),(0,v.jsx)(b.Z,{onClick:E,children:"Cancel"})]})]}),Z?(0,v.jsx)(ye.Z,{openAlert:f,openDesc:Z,setOpenAlert:y}):(0,v.jsx)(v.Fragment,{})]})},ma=e=>{let{userExportDialog:t,setUserExportDialog:a,userData:n,selectedRows:s}=e;new ce.t;const[i,r]=(0,l.useState)(n||[]),[o,d]=(0,l.useState)("allData"),c=new A.K,[m,u]=(0,l.useState)(!1),[p,h]=(0,l.useState)(!1),[x,j]=(0,l.useState)(!1),[f,y]=(0,l.useState)(null),Z=()=>{a(!1)};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(ae.Z,{open:t,children:[(0,v.jsx)(ie.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export Users"}),(0,v.jsx)(ne.Z,{children:(0,v.jsx)(se.Z,{children:(0,v.jsx)(T.Z,{width:"100%",overflow:"auto",children:(0,v.jsx)(g.sF,{children:(0,v.jsx)(k.ZP,{item:!0,md:12,sm:12,xs:12,children:(0,v.jsx)(k.ZP,{container:!0,alignItems:"center",children:(0,v.jsxs)(we.Z,{children:[(0,v.jsx)(Oe.Z,{id:"demo-controlled-radio-buttons-group",children:"Select Data to Export"}),(0,v.jsxs)(Ee.Z,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:o,onChange:e=>{const t=e.target.value;d(t),r("allData"===t?n:s)},children:[(0,v.jsx)(Se.Z,{value:"allData",control:(0,v.jsx)(Pe.Z,{}),label:"All Data"}),(0,v.jsx)(Se.Z,{value:"selectedData",disabled:0===s.length,control:(0,v.jsx)(Pe.Z,{}),label:"Selected Data"})]})]})})})})})})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{onClick:Z,children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:()=>{console.log(n,"userData in bulk export inside export template.");let e=("allData"!==o?s:n)||[],t=null===e||void 0===e?void 0:e.map((e=>({Name:e.name,"User Name":e.userName,Email:e.email,"Is Authorized":e.is_authorized,"User Group":e.userinfo.join(", ")})));console.log(e,"data"),c.exportUser({data:t,sheet_name:"Users"}).then((e=>{h(e),u(!0),j(!0),y({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})})),Z()},children:"Export"})]})]}),f?(0,v.jsx)(ye.Z,{openAlert:x,openDesc:f,setOpenAlert:j}):(0,v.jsx)(v.Fragment,{})]})},ua=(0,Z.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),pa=()=>{let e=(0,i.TH)().state;const[t,a]=(0,l.useState)([]),[n,s]=(0,l.useState)(""),[r,o]=(0,l.useState)(!1),[d,c]=(0,l.useState)(!1),m=new A.K,[u,p]=(0,l.useState)(!1),[h,x]=(0,l.useState)(null),[j,f]=(0,l.useState)(!1),[y,Z]=(0,l.useState)(!1),[P,E]=(0,l.useState)([]),[S,w]=(0,l.useState)({}),[O,C]=(0,l.useState)({}),[M,D]=(0,l.useState)([]),L=(0,l.useRef)(null),N=L&&L.current&&L.current.dataMap?L.current.dataMap:null,_=(0,l.useCallback)((e=>{let{selected:t}=e;C(t)}),[]),I=[{name:"name",header:"Name",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.name})}},{name:"userName",header:"User Name",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.userName})}},{name:"email",header:"Email",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.email})}},{name:"is_authorized",header:"Is Authorized",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:"Y"===(null===t||void 0===t?void 0:t.is_authorized)?"Yes":"No"})}},{name:"userinfo",header:"User Group",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null!==t&&void 0!==t&&t.userinfo?t.userinfo.map((e=>e)).join(", "):""})}}];(0,l.useEffect)((()=>{console.log(t,"userData inside useEffect"),0===t.length?(o(!0),m.getAllUsersList().then((e=>{a(e.data),E(e.data),o(!1)}))):a(t)}),[]);const[R,F]=(0,l.useState)([]),B=Array.isArray(R)?R:[];let U=(0,De.wh)([...B],"name");(0,l.useEffect)((()=>{F(t),E(U)}),[t]);const W=(0,i.s0)(),V=e=>{const t=e;setTimeout((()=>{W("/addEditUser",{state:{isEdit:!0,selectedUserData:t}})}),200)},$=e=>{c(!0)};(0,l.useEffect)((()=>{const e=!0===O?N:O,t=e&&Object.keys(e).map((t=>e[t]));D(t)}),[O,N]),(0,l.useEffect)((()=>{if(t){const e=t.filter((e=>""===n||e.name.toLowerCase().includes(n.toLowerCase())||e.email.toLowerCase().includes(n.toLowerCase())||e.userName.toLowerCase().includes(n.toLowerCase())));F(e)}}),[n,t]),(0,l.useEffect)((()=>{var t,l,n;null!==(t=e)&&void 0!==t&&t.status&&(p(!0),x({severity:null===(l=e)||void 0===l?void 0:l.status,desc:null===(n=e)||void 0===n?void 0:n.message}),m.getAllUsersList().then((e=>{a(e.data),E(e.data)})));e={},window.onbeforeunload=()=>{window.history.replaceState({},document.title)}}),[e]);const G=e=>{w(e);const l=Ae(pa)({data:t,sortedUsersData:U,sortInfo:e,onSortInfoChange:G,initialData:P});a(l.props.data),F(l.props.data)};return(0,v.jsxs)(ua,{children:[(0,v.jsx)(T.Z,{className:"breadcrumb",children:(0,v.jsx)(g.aG,{routeSegments:[{name:"Users"}]})}),(0,v.jsx)(g.sF,{children:(0,v.jsxs)(k.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:6,xs:12,className:"font-medium",children:(0,v.jsx)(oe.Z,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;s(t)},value:n,style:{width:"100%"}})}),(0,v.jsxs)(k.ZP,{item:!0,container:!0,md:9,sm:6,xs:12,alignItems:"center",children:[(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{},children:"Search"}),(0,v.jsx)("div",{style:{flex:1}}),(0,v.jsx)(b.Z,{variant:"contained",component:te.Link,onClick:()=>{setTimeout((()=>{W("/addEditUser",{state:{isEdit:!1}})}),200)},children:"Create"}),(0,v.jsx)(b.Z,{variant:"contained",disabled:1!==(null===M||void 0===M?void 0:M.length),onClick:()=>{V(M[0])},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,v.jsx)(b.Z,{variant:"contained",disabled:null===M||void 0===M||!M.length,onClick:()=>{$(M[0]),c(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{f(!0)},style:{margin:"0 0px 0 10px"},children:"Import"}),(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{Z(!0)},style:{margin:"0 0px 0 10px"},children:"Export"})]}),(0,v.jsxs)(T.Z,{width:"100%",overflow:"auto",children:[(0,v.jsx)("br",{}),r?(0,v.jsx)(T.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,v.jsx)(rt.Z,{})}):R&&(0,v.jsx)(Me.ZP,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},defaultLimit:100,columns:I,dataSource:null===S?R:U,checkboxColumn:!0,selected:O,onSelectionChange:_,handle:e=>L.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===L||void 0===L||null===(e=L.current)||void 0===e?void 0:e.setScrollTop(0==(null===M||void 0===M?void 0:M.length)?0:null===L||void 0===L||null===(t=L.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:G})]})]})}),h?(0,v.jsx)(ye.Z,{openAlert:u,openDesc:h,setOpenAlert:p}):(0,v.jsx)(v.Fragment,{}),(0,v.jsxs)(ae.Z,{open:d,children:[(0,v.jsx)(ie.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Design Organization"}),(0,v.jsx)(ne.Z,{children:(0,v.jsx)(se.Z,{children:"Do you want to delete the seleted User(s)?"})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{autoFocus:!0,onClick:()=>{c(!1)},children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:async()=>{c(!1);try{o(!0),console.log(M,"selectedRows");const e=null===M||void 0===M?void 0:M.map((e=>null===e||void 0===e?void 0:e.id));await m.deleteUser(e).then((e=>{console.log(e,"delete response"),o(!1),p(!0),x({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg}),C({}),D([])}))}catch(e){console.error("Failed to delete User:",e)}m.getAllUsersList().then((e=>{a(e.data)}))},children:"delete"})]})]}),(0,v.jsx)(ma,{userExportDialog:y,handleCloseExportDialog:()=>{Z(!1)},setUserImportDialog:f,setUserExportDialog:Z,selectedRows:M,userData:S&&0===Object.keys(S).length?U:t}),(0,v.jsx)(ca,{userImportDialog:j,setUserImportDialog:f,setUserData:a})]})},ha=pa,xa=(0,Z.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),ga={spanRed:{color:"#FF3D57"}};function va(){var e,t,a;const[n,s]=(0,l.useState)(!1),[r,o]=(0,l.useState)(null),d=(0,i.TH)(),c=null===(e=d.state)||void 0===e?void 0:e.isEdit,m=void 0!==(null===(t=d.state)||void 0===t?void 0:t.selectedUserData)?null===(a=d.state)||void 0===a?void 0:a.selectedUserData:{},[u,p]=(0,l.useState)({id:void 0!==m.userId?m.userId:Date.now().toString(),userName:m.userName,name:m.name,email:m.email,is_authorized:void 0!==m.is_authorized?m.is_authorized:"Y",userinfo:void 0!==m.userinfo?m.userinfo:[]}),h=ga;let x=(0,i.s0)();const j=new A.K,f=e=>{const{name:t,value:a}=e.target,l={...u,[t]:a};p(l)},[y,Z]=(0,l.useState)(m.userinfo||[]),P=(e,t)=>{s(!0),o({severity:t,desc:e})};return(0,v.jsxs)(xa,{children:[(0,v.jsx)(T.Z,{className:"breadcrumb",children:(0,v.jsx)(g.aG,{routeSegments:[{name:c?"Edit User":"Create User"}]})}),(0,v.jsx)("form",{children:(0,v.jsx)(g.sF,{children:(0,v.jsxs)(k.ZP,{item:!0,md:9,sm:6,xs:6,children:[(0,v.jsx)("h4",{children:c?"Edit User":"Create User"}),(0,v.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["Name ",(0,v.jsx)("span",{className:h.spanRed,children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{name:"name",value:u.name,onChange:f,fullWidth:!0,margin:"normal"})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["User Name ",(0,v.jsx)("span",{className:h.spanRed,children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{name:"userName",value:u.userName,onChange:f,fullWidth:!0,margin:"normal"})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["Email ",(0,v.jsx)("span",{className:h.spanRed,children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(oe.Z,{name:"email",disabled:c,value:u.email,onChange:f,fullWidth:!0,margin:"normal"})}),(0,v.jsxs)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:[(0,v.jsx)("span",{children:"Is Authorized"})," ",(0,v.jsx)("span",{className:h.spanRed,children:"*"})]}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{id:"is_authorized",name:"is_authorized",fullWidth:!0,value:u.is_authorized?u.is_authorized:"",onChange:f,children:F.QF.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,className:"font-medium",children:(0,v.jsxs)("span",{children:["User Group ",(0,v.jsx)("span",{className:h.spanRed,children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{style:{width:"100%"},multiple:!0,value:y.map((e=>e)),onChange:e=>{const t=e.target.value,a=F.pt.filter((e=>t.includes(e)));Z(a)},renderValue:e=>e.join(", "),MenuProps:{sx:{"&& .Mui-selected":{backgroundColor:"rgb(25 118 210 / 67%)"}}},children:null===F.pt||void 0===F.pt?void 0:F.pt.map((e=>(0,v.jsx)(_.Z,{value:e,children:e},e)))})})]}),(0,v.jsx)("br",{}),(0,v.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:6,className:"font-medium",children:(0,v.jsx)("span",{children:(0,v.jsx)(b.Z,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{var e,t,a,l;if(""===(null===(e=u.userName)||void 0===e?void 0:e.trim())||!u.userName||""===(null===(t=u.name)||void 0===t?void 0:t.trim())||!u.name||""===(null===(a=u.email)||void 0===a?void 0:a.trim())||!u.email||0===y.length||""===(null===(l=u.is_authorized)||void 0===l?void 0:l.trim())||!u.is_authorized)return void P("Please fill the require details","error");const n={id:u.id,userName:u.userName,name:u.name,email:u.email,is_authorized:u.is_authorized,userinfo:y};c?j.updateUser({userData:n}).then((e=>{"success"===e.status?setTimeout((()=>{x("/userList",{state:{message:e.msg,status:e.status}})}),200):"error"===e.status&&P(e.msg,e.status)})):j.addnewUser({userData:n}).then((e=>{"success"===e.status?setTimeout((()=>{x("/userList",{state:{message:e.msg,status:e.status}})}),200):"error"===e.status&&P(e.msg,e.status)}))},children:c?"Update":"Create"})})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:6,className:"font-medium",children:(0,v.jsx)("span",{children:(0,v.jsx)(b.Z,{variant:"contained",color:"primary",margin:"2px",onClick:()=>{setTimeout((()=>{x(-1)}),200)},children:"Cancel"})})})]})]})})}),r?(0,v.jsx)(ye.Z,{openAlert:n,openDesc:r,setOpenAlert:s}):(0,v.jsx)(v.Fragment,{})]})}const ja=[{path:"/userList",element:(0,v.jsx)(ee,{children:(0,v.jsx)(ha,{})})},{path:"/addEditUser",element:(0,v.jsx)(ee,{children:(0,v.jsx)(va,{})})}],fa={adminConstant:{common:{deleteNote:"Data will not be romeved from the master data. It will be added to your draft changes only."},buplantList:{tooltip:{RDO:"Design Organization",Plant:"PLANT",BomStatus:"BOM STATUS",PoORG:"PO ORG",RduOuSetORG:"RDU OU SET ORG"}},expensemapList:{tooltip:{EXPENSE_TEMPLATE:"Template",RDO:"Design Organization",PlantName:"Plant Name"}},mvoallowedchangesList:{tooltip:{RDO:"Design Organization",mvoTemplatesFrom:"MVO Template - From",mvoTemplatesTo:"MVO Template - To"}},mvoTemplateList:{tooltip:{RDO:"Design Organization",TemplateOptionMVO:"Template MVO",HasMBom:"Has MBom",OnMBom:"ON MBom",Optional:"Optional",PoExist:"PO Exist",EBomAllowed:"EBOM Allowed",AllowableOrgTemplate:"Org Allowed Templates - Status"}},orgAllowedList:{tooltip:{RDO:"Design Organization",AllowableOrgTemplate:"Template Name",HasMBom:"Has MBOM",EBOM:"EBOM Allowed",Optional:"Optional",PoCheck:"PO Org Check",OnMbom:"ON MBOM",status:"status"}},parttypetemplateList:{tooltip:{RDO:"Design Organization",TemplateOptionsMVO:"Enovia Part Type",allowableOrgTemplatesExclusive:"Org Allowed Templates - Exclusive use"}},setComptempList:{tooltip:{RDO:"Design Organization",TemplateForOrgExist:"Template for Org(s) Existing",TemplateForOrgModify:"Template for Org Modifying"}}}},ya=e=>{var t;let{open:a,handleorgAllowedDialogClose:n,selectedPlants:s,orgAllowedForm:i,handleorgAllowedFormChange:r,handleAddOrgAllowedValues:o,isEdit:d,selectedBU:c}=e;const{templatesInfo:m,bussinessUnitLists:u}=(0,I.Z)(),[p,h]=(0,l.useState)([]),[x,g]=(0,l.useState)([]);return(0,l.useEffect)((()=>{if(c){let e=m.filter((e=>{var t;return null===e||void 0===e||null===(t=e.BU)||void 0===t?void 0:t.includes(c)}));console.log(e,"tempData tempData tempData"),h(e)}g([c])}),[c,m]),(0,v.jsxs)(ae.Z,{open:a,children:[(0,v.jsxs)(ie.Z,{children:[" ",d?"Edit Org Allowed Templates ":"Add OrgAllowed Templates"]}),(0,v.jsx)(ne.Z,{children:(0,v.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsxs)("span",{children:["Design Organization ",(0,v.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{id:"DataType-select",name:"BUID",fullWidth:!0,value:c,onChange:r,disabled:!0,children:null===x||void 0===x?void 0:x.map((e=>(0,v.jsx)(_.Z,{value:e,children:e},e)))})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsxs)("span",{children:["Template Name ",(0,v.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{name:"ALLOWABLE_ORG_TEMPLATES",fullWidth:!0,value:i.ALLOWABLE_ORG_TEMPLATES,onChange:r,disabled:d,children:null===p||void 0===p?void 0:p.map((e=>(0,v.jsx)(_.Z,{value:e.templateName,children:e.templateName},e.templateName)))})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsxs)("span",{children:["Has MBOM ",(0,v.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{id:"Has_MBOM",name:"Has_MBOM",fullWidth:!0,displayEmpty:!0,value:void 0!==i.Has_MBOM?i.Has_MBOM:"Y",onChange:r,children:F.UT.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsxs)("span",{children:["On MBOM ",(0,v.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{id:"On_MBOM",name:"On_MBOM",fullWidth:!0,displayEmpty:!0,value:void 0!==i.On_MBOM?i.On_MBOM:"Y",onChange:r,children:F.UT.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsxs)("span",{children:["EBOM Allowed ",(0,v.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{id:"EBOM_Allowed",name:"EBOM_Allowed",fullWidth:!0,displayEmpty:!0,value:void 0!==i.EBOM_Allowed?i.EBOM_Allowed:"Y",onChange:r,children:F.UT.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsxs)("span",{children:["Optional ",(0,v.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{id:"Optional",name:"Optional",fullWidth:!0,displayEmpty:!0,value:void 0!==i.Optional?i.Optional:"Y",onChange:r,children:F.UT.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsxs)("span",{children:["PO Org Check: ",(0,v.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{id:"PO_Org_Exist_Check",name:"PO_Org_Exist_Check",fullWidth:!0,displayEmpty:!0,value:void 0!==i.PO_Org_Exist_Check?i.PO_Org_Exist_Check:"Y",onChange:r,children:F.UT.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.label},e.value)))})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsxs)("span",{children:["Plants ",(0,v.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{style:{width:"100%"},multiple:!0,name:"plants",value:s,onChange:r,renderValue:e=>null===e||void 0===e?void 0:e.join(", "),MenuProps:{sx:{"&& .Mui-selected":{backgroundColor:"rgb(25 118 210 / 67%)"}}},children:null===(t=(()=>{var e;return(null===u||void 0===u||null===(e=u.find((e=>e.buName===c)))||void 0===e?void 0:e.plants)||[]})())||void 0===t?void 0:t.map((e=>(0,v.jsx)(_.Z,{value:e.plantName,children:e.plantName},e.plantName)))})})]})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{onClick:n,children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:o,children:d?"Update":"Add"})]})]})};class Za{constructor(){this.getAlldraftChanges=()=>Ve.Z.get(`${d.Fv}/draftChanges/getDraftChanges`,d.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getTeamplateMappings",e),[]))),this.deleteTemplateMapping=e=>Ve.Z.delete(`${d.Fv}/draftChanges/deletedraftChanges/${e}`,d.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting deletedraftChanges:",e),e})),this.addnewTemplateMapping=e=>Ve.Z.post(`${d.Fv}/draftChanges/adddraftChanges`,e,d.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("adddraftChanges",e),[]))),this.updateTemplateMapping=e=>Ve.Z.put(`${d.Fv}/draftChanges/updatedraftChanges`,e,d.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("updatedraftChanges",e),[]))),this.applyDraftChanges=e=>Ve.Z.post(`${d.Fv}/draftChanges/acceptChanges`,e,d.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("applyDraftChanges",e),[]))),this.discardDraftChanges=e=>Ve.Z.delete(`${d.Fv}/draftChanges/deletedraftChanges/${e}`,d.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting discardDraftChanges:",e),e})),this.getAllmappingHistory=()=>Ve.Z.get(`${d.Fv}/mappingHistory/getMappingHistory`,d.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getTeamplateMappings",e),[])))}}class Ta{constructor(){this.getAlltempcompMappings=()=>Ve.Z.get(`${d.Fv}/newtemplateMappings/getTemplateMappings`,d.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getTeamplateMappings",e),[]))),this.deleteTempCompMapping=e=>Ve.Z.delete(`${d.Fv}/newtemplateMappings/deleteTemplateMappings/${e}`,d.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting deleteTemplateMappings:",e),e})),this.addnewTempCompMapping=e=>Ve.Z.post(`${d.Fv}/newtemplateMappings/addTemplateMappings`,e,d.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addTemplateMappings",e),[]))),this.updateTempCompMapping=e=>Ve.Z.put(`${d.Fv}/newtemplateMappings/updateTemplateMappings`,e,d.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("updateTemplateMappings",e),[]))),this.softDeleteTempCompMapping=e=>Ve.Z.post(`${d.Fv}/newtemplateMappings/softDeleteTemplateMappings`,e,d.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("softDeleteTemplateMappings",e),[])))}}const ba=(0,Z.ZP)(pe.Z)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),Pa=(0,Z.ZP)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),Ea=e=>{const{allTemplatesInfo:t,updateRefreshData:a,bussinessUnitLists:n}=(0,I.Z)(),s=new aa.q,{importTemplate:i,setImportTemplate:r,fetchData:o}=e,[d,c]=(0,l.useState)(!1),[m,u]=(0,l.useState)(!1),[p,h]=(0,l.useState)(!1),[x,g]=(0,l.useState)(!1),[j,f]=(0,l.useState)(null),[y,Z]=(0,l.useState)(null),[P,E]=(0,l.useState)(null),[S,w]=(0,l.useState)(!1),[O,C]=(0,l.useState)(!1),[M,A]=(0,l.useState)(!1),[D,L]=(0,l.useState)({ERPType:[],instance:[],BU:[]}),[N,_]=(0,l.useState)(!1),[R,k]=(0,l.useState)(null);(0,l.useEffect)((()=>{let t=null;switch(null===e||void 0===e?void 0:e.MappingType){case"orgallowedvalues":t="sample-orgAllowedTemplate.xlsx";break;case"mvoTemplateCompatibility":t="sample-mvotemplatecompatibility.xlsx";break;case"parttypetotemplate":t="sample-partTypeToTemplate.xlsx";break;case"mvoallowedchanges":t="sample-mvoallowedchanges.xlsx";break;case"setcompatibletemplates":t="sample-setcompatibletemplates.xlsx";break;case"buplantmapping":t="sample-RDOPlantMapping.xlsx";break;case"expensemapping":t="sample-expensemapping.xlsx"}E(t)}),[e.MappingType]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(ae.Z,{open:i,style:{zIndex:999},children:[(0,v.jsx)(ie.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:e.title}),(0,v.jsx)(ne.Z,{children:(0,v.jsx)(se.Z,{children:(0,v.jsx)(T.Z,{width:"100%",overflow:"auto",children:(0,v.jsx)(ba,{children:(0,v.jsxs)(fe.Z,{children:[(0,v.jsxs)(xe.Z,{children:[(0,v.jsx)(ge.Z,{align:"left",children:(0,v.jsx)(ve.Z,{style:{fontWeight:"bold",color:"rgba(52, 49, 76, 1)"},children:"Design Organization"})}),(0,v.jsxs)(ge.Z,{align:"left",children:[(0,v.jsx)(je.Z,{style:{width:"70%"},multiple:!1,options:(e=>{const t=new Set;return null===n||void 0===n||n.forEach((a=>{t.add(a[e])})),Array.from(t)})("buName"),value:D.BU,onChange:(e,t)=>{return a="BU",l=t,L((e=>({...e,[a]:l}))),"ERPType"===a&&w(!1),"instance"===a&&C(!1),"BU"===a&&A(!1),void console.info(D,"importSelectionValues");var a,l},renderValue:()=>null,renderInput:e=>(0,v.jsx)(oe.Z,{...e,variant:"outlined",label:"Select RDO",placeholder:"Search..."}),PaperProps:{style:{maxHeight:"200px"}},disableCloseOnSelect:!1,disableClearable:!0,isOptionEqualToValue:(e,t)=>e===t,getOptionSelected:(e,t)=>D.BU.includes(t),ChipProps:{style:{fontSize:"8px"}}}),M&&(0,v.jsx)("p",{style:{color:"red"},children:"please select Design Organization"})]})]}),(0,v.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,v.jsxs)(b.Z,{component:"label",variant:"contained",startIcon:(0,v.jsx)(me.Z,{}),children:["Upload file",(0,v.jsx)(Pa,{type:"file",name:"file",accept:".xls, .xlsx",onChange:e=>{const t=e.target.files[0];if(t){const a=t.name.split(".").pop();"xlsx"===a||"xls"===a?(f(e.target.files[0]),Z(e.target.files[0].name),u(!1)):(u(!0),Z(null),f(null))}else u(!0),Z(null),f(null)}})]}),m&&(0,v.jsx)("p",{children:"Please Select xlsx file to Upload "})]}),y&&(0,v.jsx)("p",{children:y}),(0,v.jsx)("div",{style:{paddingTop:"10px"},children:(0,v.jsx)(b.Z,{component:"label",variant:"contained",startIcon:(0,v.jsx)(ue.Z,{}),onClick:()=>{s.downloadSampleFile(P)},children:"Download sample file"})})]})})})})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{autoFocus:!0,onClick:()=>{f(null),r(!1)},children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:()=>{if(null===D.BU||D.BU.length<1)A(!0);else if(null===j||j.length<1)u(!0);else if(null!==j){let t={file:j,data:{BU:D.BU,MappingType:null===e||void 0===e?void 0:e.MappingType}};c(!0),s.importTemplate(t).then((e=>{h(e),g(!0),f(null),Z(null),r(!1);let t={},l="";e&&"error"===e.status?(t=(0,v.jsxs)("div",{style:{color:"red"},children:[null===e||void 0===e?void 0:e.msg," ",(0,v.jsx)("br",{}),(null===e||void 0===e?void 0:e.errorInTemplateCount)&&(0,v.jsxs)(v.Fragment,{children:["Total Template Count: ",e.errorInTemplateCount," ",(0,v.jsx)("br",{}),"Templates are: ",(0,v.jsx)("br",{}),(0,v.jsx)("ul",{children:e.errorInTemplate.map((e=>(0,v.jsx)("li",{children:e},Ye().generate())))})]}),(null===e||void 0===e?void 0:e.errorInPlantCount)&&(0,v.jsxs)(v.Fragment,{children:["Total Plant Count: ",e.errorInPlantCount," ",(0,v.jsx)("br",{}),"Plants are: ",(0,v.jsx)("br",{}),(0,v.jsx)("ul",{children:e.errorInPlants.map((e=>(0,v.jsx)("li",{children:e},Ye().generate())))})]})]}),l="error"):e.errorCount>0||!e.newTemplateAdded&&!e.updateTemplates?(t=(0,v.jsxs)("div",{style:{color:"red"},children:["Failure ",(0,v.jsx)("br",{}),"New Template Added: ",e.newTemplateAdded," ",(0,v.jsx)("br",{}),"Template Updated: ",e.updateTemplates," ",(0,v.jsx)("br",{}),e.errorCount>0&&(0,v.jsxs)(v.Fragment,{children:["Error in Template: ",e.errorCount," ",(0,v.jsx)("br",{})]})]}),l="error"):(t=(0,v.jsxs)("div",{children:[e.msg," ",(0,v.jsx)("br",{}),"New Template Added: ",e.newTemplateAdded," ",(0,v.jsx)("br",{}),"Template Updated: ",e.updateTemplates," ",(0,v.jsx)("br",{})]}),l="success"),_(!0),k({severity:l,desc:t}),c(!1),"error"!==l&&(null!==e&&void 0!==e&&e.errorInTemplateCount&&null!==e&&void 0!==e&&e.errorInPlantCount||(a(!0),o()))}))}},children:"Import"})]})]}),R?(0,v.jsx)(ye.Z,{openAlert:N,openDesc:R,setOpenAlert:_,sx:{"& .MuiAlertTitle-root":{backgroundColor:"red"}}}):(0,v.jsx)(v.Fragment,{}),d?(0,v.jsx)("div",{style:{textAlign:"center"},children:(0,v.jsx)(re.Z,{show:d})}):(0,v.jsx)(v.Fragment,{})]})},Sa=(0,l.createContext)({mvotemplatecompInfo:[],updateMVOtempcompLists:()=>[]}),wa=Sa,Oa=()=>(0,l.useContext)(wa),Ca=(0,l.createContext)({parttypetemplateinfo:[],updateParttypeTemplate:()=>[]}),Ma=Ca,Aa=()=>(0,l.useContext)(Ma),Da=(0,l.createContext)({mvoallowedchangesinfo:[],updateMVOallowedchanges:()=>[]}),La=Da,Na=()=>(0,l.useContext)(La),_a=(0,l.createContext)({comptempInfo:[],updatecomptempList:()=>[]}),Ia=_a,Ra=()=>(0,l.useContext)(Ia),ka=(0,l.createContext)({buplantsInfo:[],updatebuplantsInfo:()=>[]}),Fa=ka,Ba=()=>(0,l.useContext)(Fa),Ua=(0,l.createContext)({expensemapInfo:[],updateExpenseMap:()=>[]}),Wa=Ua,Va=()=>(0,l.useContext)(Wa),$a=e=>{const t=new ce.t,[a,n]=(0,l.useState)(!1),[s,i]=(0,l.useState)(!1),[r,o]=(0,l.useState)(!1),[d,c]=(0,l.useState)([]),{templatesInfo:m,bussinessUnit:u,mappingTemplatesInfo:p}=(0,I.Z)(),{mvotemplatecompInfo:h}=Oa(),{parttypetemplateinfo:x}=Aa(),{mvoallowedchangesinfo:j}=Na(),{comptempInfo:f}=Ra(),{buplantsInfo:y}=Ba(),{expensemapInfo:Z}=Va(),[P,E]=(0,l.useState)("allData"),[S,w]=(e.filterTemplateData,(0,l.useState)(!1)),[O,C]=(0,l.useState)(null);let M=localStorage.getItem("bussinessUnit");function A(e){return e&&0===Object.keys(e).length&&e.constructor===Object}(0,l.useEffect)((()=>{var t;p&&p.forEach((e=>{const t=e.details;t&&(t.allowableOrgTemplates&&t.allowableOrgTemplates.sort(((e,t)=>{const a=e.ALLOWABLE_ORG_TEMPLATE?"ALLOWABLE_ORG_TEMPLATE":"org_allowed_template";return e[a]<t[a]?-1:e[a]>t[a]?1:0})),t.MVO_TEMPLATES_TO&&t.MVO_TEMPLATES_TO.sort(((e,t)=>e.MVO_TEMPLATE_TO<t.MVO_TEMPLATE_TO?-1:e.MVO_TEMPLATE_TO>t.MVO_TEMPLATE_TO?1:0)),t.TEMPLATE_ORG_MODIFYING&&t.TEMPLATE_ORG_MODIFYING.sort(((e,t)=>e.TEMPLATE_ORG_MODIFYING<t.TEMPLATE_ORG_MODIFYING?-1:e.TEMPLATE_ORG_MODIFYING>t.TEMPLATE_ORG_MODIFYING?1:0)))}));let a=e.MappingType;"mvoallowedchanges"===a&&A(null===e||void 0===e?void 0:e.sortInfo)&&(e.sortInfo.dir=1,e.sortInfo.name="MVO_TEMPLATE_FROM",e.sortInfo.columnName="MVO_TEMPLATE_FROM"),"mvoTemplateCompatibility"===a&&A(null===e||void 0===e?void 0:e.sortInfo)&&(e.sortInfo.dir=1,e.sortInfo.name="MVO_TEMPLATE_OPTION",e.sortInfo.columnName="MVO_TEMPLATE_OPTION"),"parttypetotemplate"===a&&A(null===e||void 0===e?void 0:e.sortInfo)&&(e.sortInfo.dir=1,e.sortInfo.name="ENGG_ITEM_TYPE",e.sortInfo.columnName="ENGG_ITEM_TYPE"),"setcompatibletemplates"===a&&A(null===e||void 0===e?void 0:e.sortInfo)&&(e.sortInfo.dir=1,e.sortInfo.name="TEMPLATE_ORG_EXISTING",e.sortInfo.columnName="TEMPLATE_ORG_EXISTING"),"expensemapping"===a&&A(null===e||void 0===e?void 0:e.sortInfo)&&(e.sortInfo.dir=1,e.sortInfo.name="EXPENSE_TEMPLATE",e.sortInfo.columnName="EXPENSE_TEMPLATE");let l=a&&p?p.filter((e=>e.MappingType===a)):[];"allData"===P&&e.sortInfo&&l.sort(((t,a)=>{var l,n;const s=e.sortInfo.id||e.sortInfo.name||e.sortInfo.columnName,i=(null===(l=t[s])||void 0===l?void 0:l.toLowerCase())||"",r=(null===(n=a[s])||void 0===n?void 0:n.toLowerCase())||"";return i<r?1===e.sortInfo.dir?-1:1:i>r?1===e.sortInfo.dir?1:-1:0}));let n="allData"===P?l:null===e||void 0===e?void 0:e.filterTemplateData;n=null===(t=n)||void 0===t?void 0:t.filter((e=>e.BUID===u));let s=n.map((e=>{if("orgallowedvalues"===a&&"Delete"!==e.actionFlag){var t,l,n,s,i,r,o;return{"Template Name":null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.ALLOWABLE_ORG_TEMPLATES,"Design Organization":e.BUID,"Has MBOM":null===e||void 0===e||null===(l=e.details)||void 0===l?void 0:l.Has_MBOM,"On MBOM":null===e||void 0===e||null===(n=e.details)||void 0===n?void 0:n.On_MBOM,"EBOM Allowed":null===e||void 0===e||null===(s=e.details)||void 0===s?void 0:s.EBOM_Allowed,Optional:null===e||void 0===e||null===(i=e.details)||void 0===i?void 0:i.Optional,"PO Org Check":null===e||void 0===e||null===(r=e.details)||void 0===r?void 0:r.PO_Org_Exist_Check,...null===e||void 0===e||null===(o=e.details)||void 0===o?void 0:o.Plants}}var d,c,m,p,h,x,g,v;if("mvoTemplateCompatibility"===a&&"Delete"!==e.actionFlag)return null===(d=e.details)||void 0===d||null===(c=d.allowableOrgTemplates)||void 0===c?void 0:c.map(((t,a)=>({"Template MVO":0===a?e.details.MVO_TEMPLATE_OPTION:null,"Org Allowed Templates":t.ALLOWABLE_ORG_TEMPLATE,"Status:":t.status,"Design Organization":0===a?e.BUID:null})));if("parttypetotemplate"===a&&"Delete"!==e.actionFlag)return null===(m=e.details)||void 0===m||null===(p=m.allowableOrgTemplates)||void 0===p?void 0:p.map(((t,a)=>({"Enovia Part Type":0===a?e.details.ENGG_ITEM_TYPE:null,"Org Allowed Templates":t.org_allowed_template,"Exclusive Use":t.exclusive_use,"Design Organization":0===a?e.BUID:null})));if("mvoallowedchanges"===a&&"Delete"!==e.actionFlag)return null===(h=e.details)||void 0===h||null===(x=h.MVO_TEMPLATES_TO)||void 0===x?void 0:x.map(((t,a)=>({"MVO Template - From":0===a?e.details.MVO_TEMPLATE_FROM:null,"MVO Template - To":t.MVO_TEMPLATE_TO,"Design Organization":0===a?e.BUID:null})));if("setcompatibletemplates"===a&&"Delete"!==e.actionFlag)return null===(g=e.details)||void 0===g||null===(v=g.TEMPLATE_ORG_MODIFYING)||void 0===v?void 0:v.map(((t,a)=>({"Template for Org(s) Existing":0===a?e.details.TEMPLATE_ORG_EXISTING:null,"Template for Org Modifying":t.TEMPLATE_ORG_MODIFYING,"Design Organization":0===a?e.BUID:null})));if("buplantmapping"===a&&"Delete"!==e.actionFlag){return{Entity:e.details.Entity,...Object.keys(e.details.PLANT).sort().reduce(((t,a)=>(t[a]=e.details.PLANT[a],t)),{})}}if("expensemapping"===a&&"Delete"!==e.actionFlag){return{Template:e.details.EXPENSE_TEMPLATE,"Design Organization":u,...e.details.EXPENSE_PLANTS}}})).flat().filter((e=>null!==e&&void 0!==e));c(s)}),[u,m,h,x,j,f,y,Z,P,p,e.filterTemplateData,e.sortInfo]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{n(!0)},children:"Export"}),(0,v.jsxs)(ae.Z,{open:a,children:[(0,v.jsx)(ie.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export Template"}),(0,v.jsx)(ne.Z,{children:(0,v.jsx)(se.Z,{children:(0,v.jsx)(T.Z,{width:"100%",overflow:"auto",children:(0,v.jsx)(g.sF,{children:(0,v.jsx)(k.ZP,{item:!0,md:12,sm:12,xs:12,children:(0,v.jsx)(k.ZP,{container:!0,alignItems:"center",children:(0,v.jsxs)(we.Z,{children:[(0,v.jsx)(Oe.Z,{id:"demo-controlled-radio-buttons-group",children:"Select Data to Export"}),(0,v.jsxs)(Ee.Z,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:P,onChange:e=>{E(e.target.value)},children:[(0,v.jsx)(Se.Z,{value:"allData",control:(0,v.jsx)(Pe.Z,{}),label:"All Data"}),(0,v.jsx)(Se.Z,{value:"selectedData",control:(0,v.jsx)(Pe.Z,{}),label:"Selected Data"})]})]})})})})})})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{autoFocus:!0,onClick:()=>{n(!1)},children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:()=>{if(d){let a=d;"RDO Plant Mapping"===e.title&&(a=(0,ze.LU)(d)),"Org Allowed Templates"===e.title&&("orgallowedvalues"===e.MappingType&&A(null===e||void 0===e?void 0:e.sortInfo)&&(e.sortInfo.dir=1,e.sortInfo.name="ALLOWABLE_ORG_TEMPLATES",e.sortInfo.columnName="ALLOWABLE_ORG_TEMPLATES"),e.sortInfo&&a.sort(((t,a)=>{var l,n;let s=e.sortInfo.id||e.sortInfo.name||e.sortInfo.columnName;"ALLOWABLE_ORG_TEMPLATES"===s&&(s="Template Name");const i=(null===(l=t[s])||void 0===l?void 0:l.toLowerCase())||"",r=(null===(n=a[s])||void 0===n?void 0:n.toLowerCase())||"";return i<r?1===e.sortInfo.dir?-1:1:i>r?1===e.sortInfo.dir?1:-1:0}))),t.exportTemplate({data:a,sheet_name:e.title.substring(0,26),bussiness_unit:M}).then((e=>{o(e),i(!0),w(!0),C({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))}n(!1)},children:"Export"})]})]}),O?(0,v.jsx)(ye.Z,{openAlert:S,openDesc:O,setOpenAlert:w}):(0,v.jsx)(v.Fragment,{})]})},Ga=(0,Z.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),za=()=>{const{refreshData:e}=(0,I.Z)(),{templatesInfo:t,bussinessUnit:a,bussinessUnitLists:n,mappingTemplatesInfo:s,updateBussinessUnit:i,updateMappingTemplatesInfo:r}=(0,I.Z)(),[o,d]=(0,l.useState)(""),[c,m]=(0,l.useState)(!1),[u,p]=(0,l.useState)(!1),[h,x]=(0,l.useState)({}),[j,f]=(0,l.useState)(!1),[y,Z]=(0,l.useState)([]),P=new Ta,E=new aa.q,S=new Za,[w,O]=(0,l.useState)(),[C,M]=(0,l.useState)(!1),[A,D]=(0,l.useState)([]),[L,N]=(0,l.useState)([]),[_,B]=(0,l.useState)(!1),[U,W]=(0,l.useState)(!1),[V,$]=(0,l.useState)(null),[G,z]=(0,l.useState)({}),[H,Y]=(0,l.useState)([]),Q=(0,l.useRef)(null),[q,X]=(0,l.useState)({}),K=Q&&Q.current&&Q.current.dataMap?Q.current.dataMap:null,J=e=>{const t=e.target.value;d(t)},ee=()=>{m(!1)},re=(e,t)=>{W(!0),$({severity:t,desc:e})},ce=()=>{p(!1),x(""),Z([]),N([]),z({}),M(!1)},me=()=>{B(!0),E.getAlltemplateMappings().then((e=>{var t;r(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),B(!1)}))},ue=(0,l.useCallback)((e=>{let{selected:t}=e;z(t)}),[]);(0,l.useEffect)((()=>{const e=!0===G?K:G,t=e&&Object.keys(e).map((t=>e[t]));N(t)}),[G,K]),(0,l.useEffect)((()=>{B(e)}),[e]);const[pe,he]=(0,l.useState)([]),[xe,ge]=(0,l.useState)([]),ve=(0,De.wh)(pe,"ALLOWABLE_ORG_TEMPLATES");(0,l.useEffect)((()=>{je()}),[]),(0,l.useEffect)((()=>{if(B(!0),s){let l=s;var e,t;if(l=l.filter((e=>"orgallowedvalues"===e.MappingType&&"Delete"!==e.actionFlag)),a)l=null===(e=l)||void 0===e?void 0:e.filter((e=>e.BUID===a));if(o&&""!==o)l=null===(t=l)||void 0===t?void 0:t.filter((e=>{var t,a,l;return(null===(t=JSON.stringify(e))||void 0===t?void 0:t.includes(o))||(null===(a=JSON.stringify(e))||void 0===a||null===(l=a.toLocaleLowerCase())||void 0===l?void 0:l.includes(o))}));if(H.length>0){const e=H.filter((e=>"orgallowedvalues"==e.MappingType));e.length>0&&"orgallowedvalues"===e[0].MappingType&&l.forEach((t=>{e[0].changes.forEach((e=>{if(t.TEMPLATE_MAPPING===e.id){t.details.draftValue_ALLOWABLE_ORG_TEMPLATES=e.details.ALLOWABLE_ORG_TEMPLATES!==t.details.ALLOWABLE_ORG_TEMPLATES?e.details.ALLOWABLE_ORG_TEMPLATES:null,t.details.draftValue_Has_MBOM=e.details.Has_MBOM!==t.details.Has_MBOM?e.details.Has_MBOM:null,t.details.draftValue_On_MBOM=e.details.On_MBOM!==t.details.On_MBOM?e.details.On_MBOM:null,t.details.draftValue_EBOM_Allowed=e.details.EBOM_Allowed!==t.details.EBOM_Allowed?e.details.EBOM_Allowed:null,t.details.draftValue_Optional=e.details.Optional!==t.details.Optional?e.details.Optional:null,t.details.draftValue_PO_Org_Exist_Check=e.details.PO_Org_Exist_Check!==t.details.PO_Org_Exist_Check?e.details.PO_Org_Exist_Check:null,t.details.draft_Plants={};for(let a in t.details.Plants)t.details.draft_Plants[a]=e.details.Plants[a]!==t.details.Plants[a]?e.details.Plants[a]:null}}))}))}setTimeout((()=>{D(l);let e=l.map((e=>{var t,a,l,n,s,i,r,o,d,c,m,u,p,h;return e.ALLOWABLE_ORG_TEMPLATES=null!==e&&void 0!==e&&null!==(t=e.details)&&void 0!==t&&t.draftValue_ALLOWABLE_ORG_TEMPLATES?null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.draftValue_ALLOWABLE_ORG_TEMPLATES:null===e||void 0===e||null===(l=e.details)||void 0===l?void 0:l.ALLOWABLE_ORG_TEMPLATES,e.Has_MBOM=null!==e&&void 0!==e&&null!==(n=e.details)&&void 0!==n&&n.draftValue_Has_MBOM?`${null===e||void 0===e||null===(s=e.details)||void 0===s?void 0:s.draftValue_Has_MBOM} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through">${null===e||void 0===e?void 0:e.details.Has_MBOM}</span>`:null===e||void 0===e?void 0:e.details.Has_MBOM,e.On_MBOM=null!==e&&void 0!==e&&null!==(i=e.details)&&void 0!==i&&i.draftValue_On_MBOM?`${null===e||void 0===e||null===(r=e.details)||void 0===r?void 0:r.draftValue_On_MBOM} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through">${null===e||void 0===e?void 0:e.details.On_MBOM}</span>`:null===e||void 0===e?void 0:e.details.On_MBOM,e.EBOM_Allowed=null!==e&&void 0!==e&&null!==(o=e.details)&&void 0!==o&&o.draftValue_EBOM_Allowed?`${null===e||void 0===e||null===(d=e.details)||void 0===d?void 0:d.draftValue_EBOM_Allowed} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through">${null===e||void 0===e?void 0:e.details.EBOM_Allowed}</span>`:null===e||void 0===e?void 0:e.details.EBOM_Allowed,e.Optional=null!==e&&void 0!==e&&null!==(c=e.details)&&void 0!==c&&c.draftValue_Optional?`${null===e||void 0===e||null===(m=e.details)||void 0===m?void 0:m.draftValue_Optional} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through">${null===e||void 0===e?void 0:e.details.Optional}</span>`:null===e||void 0===e?void 0:e.details.Optional,e.PO_Org_Exist_Check=null!==e&&void 0!==e&&null!==(u=e.details)&&void 0!==u&&u.draftValue_PO_Org_Exist_Check?`${null===e||void 0===e||null===(p=e.details)||void 0===p?void 0:p.draftValue_PO_Org_Exist_Check} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through">${null===e||void 0===e?void 0:e.details.PO_Org_Exist_Check}</span>`:null===e||void 0===e?void 0:e.details.PO_Org_Exist_Check,Object.keys(null===e||void 0===e||null===(h=e.details)||void 0===h?void 0:h.Plants).map((t=>{var a,l,n,s,i,r;null!==e&&void 0!==e&&null!==(a=e.details)&&void 0!==a&&a.draft_Plants?e[t]=null!==e&&void 0!==e&&null!==(l=e.details)&&void 0!==l&&l.draft_Plants[t]?`${null===e||void 0===e||null===(n=e.details)||void 0===n?void 0:n.draft_Plants[t]} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through"> ${null===e||void 0===e||null===(s=e.details)||void 0===s?void 0:s.Plants[t]} <span>`:null===e||void 0===e||null===(i=e.details)||void 0===i?void 0:i.Plants[t]:e[t]=null===e||void 0===e||null===(r=e.details)||void 0===r?void 0:r.Plants[t]})),e}));ge(l),he(e),B(!1)}),500)}else{var l;if(!a)i(F.XE?null===(l=F.XE[0])||void 0===l?void 0:l.value:"")}}),[s,a,o,H]);const je=()=>{B(!0),S.getAlldraftChanges().then((e=>{let t=a||"Micro Motion";if(e.data){let a=e.data.filter((e=>e.BUID===t||"Another Name"===e.BUID));Y(a)}else Y([]);B(!1)}))};return(0,v.jsxs)(Ga,{children:[(0,v.jsx)(T.Z,{className:"breadcrumb",children:(0,v.jsx)(g.aG,{routeSegments:[{name:"Org Allowed Templates"}]})}),(0,v.jsx)(g.sF,{children:(0,v.jsxs)(k.ZP,{container:!0,spacing:1,alignItems:"top",children:[(0,v.jsx)(k.ZP,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,v.jsxs)(k.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,v.jsx)(oe.Z,{type:"text",name:"search",size:"small",onChange:J,value:o,style:{width:"100%"}})}),(0,v.jsx)(k.ZP,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{},children:"Search"})})]})}),(0,v.jsxs)(k.ZP,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:[(0,v.jsxs)(k.ZP,{container:!0,alignItems:"center",justify:"flex-end",style:{display:"none"},children:[(0,v.jsx)(k.ZP,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"right"},children:(0,v.jsx)("label",{style:{whiteSpace:"nowrap",paddingTop:"11px"},children:"Design Organization:"})}),(0,v.jsx)(k.ZP,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"left"},children:(0,v.jsx)(R,{onChange:J,selectedvalue:a,style:{width:"100%"},optionsValues:F.XE,onChangeFunc:e=>{z({}),N([]),i(e),d("")}})})]}),(0,v.jsxs)(k.ZP,{item:!0,md:12,sm:12,xs:12,className:"font-medium",style:{marginTop:"0px",textAlign:"right"},children:[(0,v.jsx)(b.Z,{variant:"contained",component:te.Link,onClick:()=>{x({BUID:a}),Z([]),p(!0)},style:{margin:"0 0px 0 10px"},children:"Add"}),(0,v.jsx)(b.Z,{variant:"contained",component:te.Link,disabled:1!==(null===L||void 0===L?void 0:L.length),onClick:()=>{var e,t;const a=null===(e=L[0])||void 0===e?void 0:e.details,l=null===(t=L[0])||void 0===t?void 0:t.BUID;for(const o in null===(n=L[0])||void 0===n||null===(s=n.details)||void 0===s?void 0:s.Plants){var n,s,i,r;"Y"===(null===(i=L[0])||void 0===i||null===(r=i.details)||void 0===r?void 0:r.Plants[o])&&y.push(o)}x({...a,BUID:l}),M(!0),p(!0)},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,v.jsx)(b.Z,{variant:"contained",component:te.Link,disabled:0===(null===L||void 0===L?void 0:L.length),onClick:()=>{O(L[0]),m(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{f(!0)},style:{margin:"0 10px 0 10px"},children:"Import"}),(0,v.jsx)($a,{title:"Org Allowed Templates",MappingType:"orgallowedvalues",filterTemplateData:L,sortInfo:q})]})]}),(0,v.jsx)(k.ZP,{item:!0,xs:12,style:{marginTop:"10px"},children:(0,v.jsxs)(T.Z,{width:"100%",overflow:"auto",marginTop:"10px",children:[_&&(0,v.jsx)(T.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,v.jsx)(rt.Z,{})}),!_&&(0,v.jsx)(Me.ZP,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},columns:(e=>{let t=new Set;e&&e.length>0&&e.forEach((e=>{var a;const l=null===(a=e.details)||void 0===a?void 0:a.Plants;if(l){Object.keys(l).forEach((e=>{t.add(e)}))}}));const a=Array.from(t).map((e=>({name:e,header:e,defaultWidth:100,render:e=>(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})})));return[{name:"ALLOWABLE_ORG_TEMPLATES",defaultWidth:250,header:(0,v.jsx)(de.Z,{title:fa.adminConstant.orgAllowedList.tooltip.AllowableOrgTemplate,children:"Template Name"}),render:e=>(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"BUID",header:(0,v.jsx)(de.Z,{title:fa.adminConstant.orgAllowedList.tooltip.RDO,children:"Design Organization"}),defaultWidth:150},{name:"Has_MBOM",header:(0,v.jsx)(de.Z,{title:fa.adminConstant.orgAllowedList.tooltip.HasMBom,children:"Has MBOM"}),defaultWidth:120,render:e=>(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"On_MBOM",header:(0,v.jsx)(de.Z,{title:fa.adminConstant.orgAllowedList.tooltip.OnMbom,children:"On MBOM"}),defaultWidth:120,render:e=>(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"EBOM_Allowed",header:(0,v.jsx)(de.Z,{title:fa.adminConstant.orgAllowedList.tooltip.EBOM,children:"EBOM Allowed"}),defaultWidth:100,render:e=>(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"Optional",header:(0,v.jsx)(de.Z,{title:fa.adminConstant.orgAllowedList.tooltip.Optional,children:"Optional"}),defaultWidth:100,render:e=>(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"PO_Org_Exist_Check",header:(0,v.jsx)(de.Z,{title:fa.adminConstant.orgAllowedList.tooltip.PoCheck,children:"PO org Check"}),defaultWidth:120,render:e=>(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},...a]})(A)||[],dataSource:null===q?xe:ve,rowHeight:null,checkboxColumn:!0,defaultLimit:100,selected:G,onSelectionChange:ue,handle:e=>Q.current=e?e.current:null,rowStyle:e=>{let{data:t}=e;const a=Object.keys(G).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===G?"#dee1f2":"initial"}},pagination:!0,renderScroller:()=>{var e,t;return null===Q||void 0===Q||null===(e=Q.current)||void 0===e?void 0:e.setScrollTop(0==(null===L||void 0===L?void 0:L.length)?0:null===Q||void 0===Q||null===(t=Q.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:e=>{X(e)}})]})})]})}),V?(0,v.jsx)(ye.Z,{openAlert:U,openDesc:V,setOpenAlert:W}):(0,v.jsx)(v.Fragment,{}),(0,v.jsxs)(ae.Z,{open:c,children:[(0,v.jsx)(ie.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Mapping"}),(0,v.jsx)(ne.Z,{children:(0,v.jsxs)(se.Z,{children:["Do you want to delete the OrgAllowedTemplates Mapping(s) for Design Organization"," ",(0,v.jsx)("b",{children:null===w||void 0===w?void 0:w.BUID}),(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),(0,v.jsx)("b",{children:"Note:"})," ",fa.adminConstant.common.deleteNote]})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{onClick:ee,children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:async()=>{try{await P.softDeleteTempCompMapping({data:L}).then((e=>{ee(),N([]),O([]),z({})}))}catch(e){console.error("Failed to delete mapping:",e)}re("Template Mapping deleted Successfully","success"),me(),m(!1)},children:"delete"})]})]}),(0,v.jsx)(ya,{open:u,handleorgAllowedDialogAdd:()=>{p(!1)},handleorgAllowedDialogClose:ce,orgAllowedForm:h,handleorgAllowedFormChange:e=>{const{name:t,value:l}=e.target;if("BUID"===t&&Z([]),"ALLOWABLE_ORG_TEMPLATES"===t&&(x({...h,BUID:a}),Z([])),"plants"===t)Z(l);else{const e={...h,[t]:l};x(e)}},handleAddOrgAllowedValues:()=>{var e;const a=null===t||void 0===t?void 0:t.filter((e=>e.templateName===h.ALLOWABLE_ORG_TEMPLATES)),l=(null===n||void 0===n||null===(e=n.find((e=>e.buName===h.BUID)))||void 0===e?void 0:e.plants)||[],s={};if(l.forEach((e=>{const t=e.plantName;s[t]=null!==y&&void 0!==y&&y.includes(t)?"Y":"N"})),!h.ALLOWABLE_ORG_TEMPLATES||!h.BUID||(null===y||void 0===y?void 0:y.length)<1)re("Please Enter the required fields","error");else{if(h){const e={BUID:h.BUID,MappingType:"orgallowedvalues",id:a[0].id+"_"+h.BUID.trim(),details:{ALLOWABLE_ORG_TEMPLATES:h.ALLOWABLE_ORG_TEMPLATES,Has_MBOM:void 0!==h.Has_MBOM?h.Has_MBOM:"Y",EBOM_Allowed:void 0!==h.EBOM_Allowed?h.EBOM_Allowed:"Y",Optional:void 0!==h.Optional?h.Optional:"Y",PO_Org_Exist_Check:void 0!==h.PO_Org_Exist_Check?h.PO_Org_Exist_Check:"Y",On_MBOM:void 0!==h.On_MBOM?h.On_MBOM:"Y",ALLOWABLE_ORG_TEMPLATES_ID:a[0].id,Plants:s}};!1===C?P.addnewTempCompMapping(e).then((e=>{"success"===(null===e||void 0===e?void 0:e.status)?(me(),setTimeout((()=>{p(!1)}),200),re("Org Allowed Values added successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&re(null===e||void 0===e?void 0:e.msg,"error")})):P.updateTempCompMapping(e).then((e=>{"success"===e.status?(setTimeout((()=>{p(!1),je(),me()}),200),M(!1),re("Org Allowed Values updated successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&re(null===e||void 0===e?void 0:e.msg,"error")}))}ce()}},selectedPlants:y,isEdit:C,selectedBU:a}),(0,v.jsx)(Ea,{title:"Import RDO Allowed Template Mappings",MappingType:"orgallowedvalues",selectedBU:a,importTemplate:j,fetchData:me,setImportTemplate:f})]})},Ha=()=>(0,v.jsx)(za,{}),Ya=[{path:"/orgallowedList",element:(0,v.jsx)(ee,{children:(0,v.jsx)(Ha,{})})}];var Qa=a(13889);const qa={minHeight:248},Xa=e=>{let{open:t,handleorgAllowedDialogClose:a,orgAllowedForm:n,handleorgAllowedFormChange:s,handleAddMVOtempComp:i,isEdit:r,orgAllowedTempList:o,onSelectionChange:d,selected:c,filteredBUOptions:m,setFilteredBUOptions:u,formError:p,RDO:h,selectedRow:x,handleStatusChange:g}=e;const[j,f]=(0,l.useState)([]),[y,Z]=(0,l.useState)({});(0,De.hE)(j,"ALLOWABLE_ORG_TEMPLATES"),(0,l.useEffect)((()=>{if(null!==n&&void 0!==n&&n.BUID){null===n||void 0===n||n.BUID;u([h])}else u([h]);if(o){const e=null===o||void 0===o?void 0:o.filter((e=>(null===e||void 0===e?void 0:e.BUID)===h));x&&e.map((e=>{var t;return null===x||void 0===x||null===(t=x.details)||void 0===t||t.allowableOrgTemplates.map((t=>{e.details.ALLOWABLE_ORG_TEMPLATES===t.ALLOWABLE_ORG_TEMPLATE&&(e.status=t.status)})),e}));let t=e.map((e=>({...e,...null===e||void 0===e?void 0:e.details})))||[];console.log(t,"================table data"),f(t)}}),[o,n]),(0,l.useEffect)((()=>{console.log(p,"formError")}),[]);const T=(0,l.useRef)(null),P=[{name:"id",header:"Id",defaultVisible:!1,defaultWidth:60,type:"number"},{name:"ALLOWABLE_ORG_TEMPLATES",defaultWidth:265,header:(0,v.jsx)(de.Z,{title:fa.adminConstant.orgAllowedList.tooltip.AllowableOrgTemplate,children:"ALLOWABLE ORG TEMPLATES"}),render:e=>{var t;let{data:a}=e;return(0,v.jsx)("div",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.ALLOWABLE_ORG_TEMPLATES})}},{name:"Has_MBOM",header:(0,v.jsx)(de.Z,{title:fa.adminConstant.orgAllowedList.tooltip.HasMBom,children:"Has MBOM"}),defaultWidth:120,render:e=>{var t;let{data:a}=e;return(0,v.jsx)("div",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.Has_MBOM})}},{name:"EBOM_Allowed",header:(0,v.jsx)(de.Z,{title:fa.adminConstant.orgAllowedList.tooltip.EBOM,children:"EBOM"}),defaultWidth:120,render:e=>{var t;let{data:a}=e;return(0,v.jsx)("div",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.EBOM_Allowed})}},{name:"Optional",header:(0,v.jsx)(de.Z,{title:fa.adminConstant.orgAllowedList.tooltip.Optional,children:"Optional"}),defaultWidth:120,render:e=>{var t;let{data:a}=e;return(0,v.jsx)("div",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.Optional})}},{name:"PO_Org_Exist_Check",header:(0,v.jsx)(de.Z,{title:fa.adminConstant.orgAllowedList.tooltip.PoCheck,children:"PO Check"}),defaultWidth:120,render:e=>{var t;let{data:a}=e;return(0,v.jsx)("div",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.PO_Org_Exist_Check})}},{name:"On_MBOM",header:(0,v.jsx)(de.Z,{title:fa.adminConstant.orgAllowedList.tooltip.OnMbom,children:"On MBOM"}),defaultWidth:120,render:e=>{var t;let{data:a}=e;return(0,v.jsx)("div",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.On_MBOM})}},{name:"Status",header:(0,v.jsx)(de.Z,{title:fa.adminConstant.orgAllowedList.tooltip.status,children:"Status"}),defaultWidth:200,render:e=>{var t,a,l,n;let{data:s}=e;return(0,v.jsx)("div",{children:(0,v.jsx)(we.Z,{children:(0,v.jsxs)(Ee.Z,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:null===s||void 0===s||null===(t=s.details)||void 0===t?void 0:t.ALLOWABLE_ORG_TEMPLATES,value:y[null===s||void 0===s||null===(a=s.details)||void 0===a?void 0:a.ALLOWABLE_ORG_TEMPLATES]?null===(l=y[null===s||void 0===s||null===(n=s.details)||void 0===n?void 0:n.ALLOWABLE_ORG_TEMPLATES])||void 0===l?void 0:l.trim():"active",onChange:e=>{const t={...y,[e.target.name]:e.target.value};Z(t),g(e)},children:[(0,v.jsx)(Se.Z,{value:"active",control:(0,v.jsx)(Pe.Z,{}),label:"Active"}),(0,v.jsx)(Se.Z,{value:"disabled",control:(0,v.jsx)(Pe.Z,{}),label:"Disable"})]})})})}}];return(0,l.useEffect)((()=>{if(x){var e;const t=(e=>{let t={};return e.forEach((e=>{var a;t[null===e||void 0===e?void 0:e.ALLOWABLE_ORG_TEMPLATE]=null===e||void 0===e||null===(a=e.status)||void 0===a?void 0:a.toLowerCase()})),t})(null===x||void 0===x||null===(e=x.details)||void 0===e?void 0:e.allowableOrgTemplates);Z(t)}}),[x]),(0,v.jsxs)(ae.Z,{open:t,fullWidth:!0,maxWidth:"xl",children:[(0,v.jsxs)(ie.Z,{children:[" ",r?"Edit MVO Template Compatibility":"Add MVO Template Compatibility"]}),(0,v.jsx)(Qa.$B,{autoHeight:!0,autoHeightMin:100,autoHeightMax:500,autoHide:!0,autoHideTimeout:1e3,autoHideDuration:300,children:(0,v.jsx)(ne.Z,{children:(0,v.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsx)("span",{children:"Design Organization:"})}),(0,v.jsxs)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:[(0,v.jsx)(N.Z,{id:"DataType-select",name:"BUID",fullWidth:!0,value:h,onChange:s,disabled:!0,children:null===m||void 0===m?void 0:m.map((e=>(0,v.jsx)(_.Z,{value:e,children:e},e)))}),null!==p&&void 0!==p&&p.RDOError?(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("p",{style:{color:"red"},children:null===p||void 0===p?void 0:p.RDOError})}):(0,v.jsx)(v.Fragment,{})]}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsx)("span",{children:"Template MVO:"})}),(0,v.jsxs)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:[(0,v.jsx)(N.Z,{name:"MVO_TEMPLATE_OPTION",fullWidth:!0,value:n.MVO_TEMPLATE_OPTION,onChange:s,disabled:r,children:null===j||void 0===j?void 0:j.map(((e,t)=>(0,v.jsx)(_.Z,{value:e.details.ALLOWABLE_ORG_TEMPLATES,children:e.details.ALLOWABLE_ORG_TEMPLATES},t)))}),null!==p&&void 0!==p&&p.templateError?(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("p",{style:{color:"red"},children:null===p||void 0===p?void 0:p.templateError})}):(0,v.jsx)(v.Fragment,{})]}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsxs)("span",{children:["Org Allowed Templates:"," "]})}),(0,v.jsxs)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:[null!==p&&void 0!==p&&p.AllowableOrgTempError?(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("p",{style:{color:"red"},children:null===p||void 0===p?void 0:p.AllowableOrgTempError})}):(0,v.jsx)(v.Fragment,{}),(0,v.jsx)(Me.ZP,{idProperty:"id",showZebraRows:!1,handle:e=>T.current=e?e.current:null,selected:c,checkboxColumn:!0,onSelectionChange:d,checkboxOnlyRowSelect:!0,style:{...qa,height:"500px"},columns:P,dataSource:j,pagination:!0})]})]})})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{onClick:a,children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:i,children:r?"Update":"Add"})]})]})},Ka=(0,Z.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Ja=()=>{var e,t,a,n,s,i,r,o,d;const{refreshData:c,templatesInfo:m,bussinessUnit:u,mappingTemplatesInfo:p,updateBussinessUnit:h,updateMappingTemplatesInfo:x}=(0,I.Z)(),[j,f]=(0,l.useState)(!1),[y,Z]=(0,l.useState)(""),[P,E]=(0,l.useState)(!1),[S,w]=(0,l.useState)(!1),O=new aa.q,C=new Ta,M=new Za,[A,D]=(0,l.useState)([]),[L,N]=(0,l.useState)(),[_,B]=(0,l.useState)(!1),[U,W]=(0,l.useState)({}),[V,$]=(0,l.useState)([]),[G,z]=(0,l.useState)([]),[H,Y]=(0,l.useState)(!0),[Q,q]=(0,l.useState)({}),[X,K]=(0,l.useState)({}),[J,ee]=(0,l.useState)([]),[re,ce]=(0,l.useState)({}),[me,ue]=(0,l.useState)(""),[pe,he]=(0,l.useState)({}),[xe,ge]=(0,l.useState)([]),[ve,je]=(0,l.useState)(!1),[fe,Ze]=(0,l.useState)(null),[Te,be]=(0,l.useState)({}),Pe=(0,l.useRef)(null),Ee=Pe&&Pe.current&&Pe.current.dataMap?Pe.current.dataMap:null,Se=()=>{E(!1)},we=(e,t)=>{je(!0),Ze({severity:t,desc:e})},Oe=[{name:"MVO_TEMPLATE_OPTION",header:(0,v.jsx)(de.Z,{title:null===fa||void 0===fa||null===(e=fa.adminConstant)||void 0===e||null===(t=e.mvoTemplateList)||void 0===t||null===(a=t.tooltip)||void 0===a?void 0:a.TemplateOptionMVO,children:"Template MVO"}),defaultWidth:250,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.MVO_TEMPLATE_OPTION})}},{name:"name",header:(0,v.jsx)(de.Z,{title:null===fa||void 0===fa||null===(n=fa.adminConstant)||void 0===n||null===(s=n.mvoTemplateList)||void 0===s||null===(i=s.tooltip)||void 0===i?void 0:i.AllowableOrgTemplate,children:"Org Allowed Templates - Status"}),defaultFlex:1,sortable:!1,render:e=>(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"BUID",header:(0,v.jsx)(de.Z,{title:null===fa||void 0===fa||null===(r=fa.adminConstant)||void 0===r||null===(o=r.mvoTemplateList)||void 0===o||null===(d=o.tooltip)||void 0===d?void 0:d.RDO,children:"Design Organization"}),defaultFlex:1,defaultWidth:50}],Ce=()=>{w(!1),W(""),$([]),q({}),K({}),ce({}),B(!1)},Ae=()=>{Y(!0),O.getAlltemplateMappings().then((e=>{var t;x(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),Y(!1)}))};(0,l.useEffect)((()=>{Y(c)}),[c]);const[Le,Ne]=(0,l.useState)([]),[_e,Ie]=(0,l.useState)([]);(0,l.useEffect)((()=>{Re()}),[]);const Re=()=>{Y(!0),M.getAlldraftChanges().then((e=>{let t=u||"Micro Motion",a=e.data.filter((e=>e.BUID===t));ge(a),Y(!1)}))};(0,l.useEffect)((()=>{if(Y(!0),p){let l=p;var e,t;if(l=l.filter((e=>"mvoTemplateCompatibility"===e.MappingType&&"Delete"!==e.actionFlag)),u)l=null===(e=l)||void 0===e?void 0:e.filter((e=>e.BUID===u));if(y&&""!==y)l=null===(t=l)||void 0===t?void 0:t.filter((e=>{var t,a,l;return(null===(t=JSON.stringify(e))||void 0===t?void 0:t.includes(y))||(null===(a=JSON.stringify(e))||void 0===a||null===(l=a.toLocaleLowerCase())||void 0===l?void 0:l.includes(y))}));if(D(l),xe.length>0){const e=xe.filter((e=>"mvoTemplateCompatibility"==e.MappingType));e.length>0&&"mvoTemplateCompatibility"===e[0].MappingType&&l.forEach((t=>{e[0].changes.forEach((e=>{if(t.id===e.id){t.details.draft_allowableOrgTemplates=e.details.allowableOrgTemplates;const a=new Set(e.details.allowableOrgTemplates.map((e=>e.ALLOWABLE_ORG_TEMPLATE))),l=t.details.allowableOrgTemplates.filter((e=>!a.has(e.ALLOWABLE_ORG_TEMPLATE)));t.details.deletedTemplateLists=l;let n=t.details.draft_allowableOrgTemplates.filter((e=>!t.details.allowableOrgTemplates.some((t=>e.ALLOWABLE_ORG_TEMPLATE===t.ALLOWABLE_ORG_TEMPLATE&&e.exclusive_use===t.exclusive_use))));t.details.newTemplateLists=n;let s=[...t.details.allowableOrgTemplates,...t.details.newTemplateLists];t.details.allowableOrgTemplates=s}}))}))}console.log("finalTempMapList",l);let n=l.map((e=>{var t,a;return e.MVO_TEMPLATE_OPTION=null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.MVO_TEMPLATE_OPTION,e.name=null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.allowableOrgTemplates.filter(((e,t,a)=>t===a.findIndex((t=>t.ALLOWABLE_ORG_TEMPLATE===e.ALLOWABLE_ORG_TEMPLATE)))).map((t=>{var a;const l=((null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.deletedTemplateLists)||[]).map((e=>t.ALLOWABLE_ORG_TEMPLATE===e.ALLOWABLE_ORG_TEMPLATE?`<span style="color:#f00; font-weight:bold;text-decoration: line-through">${e.ALLOWABLE_ORG_TEMPLATE}</span>`:"")).join(" "),n=t.status?t.status.charAt(0).toUpperCase()+t.status.slice(1):"";return`<div>${t.ALLOWABLE_ORG_TEMPLATE} - ${n} &nbsp;&nbsp; ${l}</div>`})).join(""),e}));Ie(l),Ne(n);let s=p.filter((e=>"orgallowedvalues"===e.MappingType&&"Delete"!==e.actionFlag));var a;if(u)s=null===(a=s)||void 0===a?void 0:a.filter((e=>e.BUID===u));setTimeout((()=>{z(s),Y(!1)}),500)}else{var l;if(!u)h(F.XE?null===(l=F.XE[0])||void 0===l?void 0:l.value:"")}}),[p,u,y,xe]);const ke=(0,l.useCallback)((e=>{let{selected:t}=e;q(t)}),[]),Fe=(0,l.useCallback)((e=>{let{selected:t}=e;K(t),ce((e=>{const{AllowableOrgTempError:t,...a}=e;return a}))}),[]);(0,l.useEffect)((()=>{const e=!0===Q?Ee:Q,t=e&&Object.keys(e).map((t=>e[t]));$(t)}),[Q,Ee]);const[Be,Ue]=(0,l.useState)(u);(0,l.useEffect)((()=>{q({}),$([]),h(u),ue(u),Z(""),$([])}),[u]);const We=(0,De.wh)(Le,"MVO_TEMPLATE_OPTION"),Ve=(0,ze.Dc)(We),$e=(0,ze.Dc)(_e);return(0,v.jsxs)(Ka,{children:[(0,v.jsx)(T.Z,{className:"breadcrumb",children:(0,v.jsx)(g.aG,{routeSegments:[{name:"MVO Template Compatibility"}]})}),(0,v.jsx)(g.sF,{children:(0,v.jsxs)(k.ZP,{container:!0,spacing:1,alignItems:"top",children:[(0,v.jsx)(k.ZP,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,v.jsxs)(k.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,v.jsx)(oe.Z,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;Z(t)},value:y,style:{width:"100%"}})}),(0,v.jsx)(k.ZP,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{},children:"Search"})})]})}),(0,v.jsxs)(k.ZP,{item:!0,md:8,sm:6,xs:12,className:"font-medium",children:[(0,v.jsxs)(k.ZP,{container:!0,alignItems:"center",justify:"flex-end",style:{display:"none"},children:[(0,v.jsx)(k.ZP,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"right"},children:(0,v.jsx)("label",{style:{whiteSpace:"nowrap",paddingTop:"11px"},children:"Design Organization:"})}),(0,v.jsx)(k.ZP,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"left"},children:(0,v.jsx)(R,{selectedvalue:u,style:{width:"100%"},optionsValues:F.XE,onChangeFunc:e=>{q({}),$([]),h(e),ue(e),Z(""),$([])}})})]}),(0,v.jsxs)(k.ZP,{item:!0,xs:12,className:"font-medium",style:{marginTop:"0px",textAlign:"right"},children:[(0,v.jsx)(b.Z,{variant:"contained",component:te.Link,onClick:()=>{W(""),w(!0),ue(u)},children:"Add"}),(0,v.jsx)(b.Z,{variant:"contained",disabled:1!==(null===V||void 0===V?void 0:V.length),onClick:()=>{var e,t,a,l;const n=null===(e=V[0])||void 0===e?void 0:e.details,s=null===(t=V[0])||void 0===t?void 0:t.BUID,i={...n,BUID:s};W(i),ue(s);let r=(null===(a=V[0])||void 0===a||null===(l=a.details)||void 0===l?void 0:l.allowableOrgTemplates.map((e=>null===G||void 0===G?void 0:G.filter((t=>t.details.ALLOWABLE_ORG_TEMPLATES===e.ALLOWABLE_ORG_TEMPLATE&&t.BUID===V[0].BUID)))).flat()).reduce(((e,t)=>Object.assign(e,{[t.id]:t})),{});K(r),B(!0),w(!0)},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,v.jsx)(b.Z,{variant:"contained",disabled:0===(null===V||void 0===V?void 0:V.length),onClick:()=>{N(V[0]),E(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{f(!0)},style:{margin:"0 10px 0 10px"},children:"Import"}),(0,v.jsx)($a,{title:"MVO Template Compatibility",MappingType:"mvoTemplateCompatibility",filterTemplateData:V,sortInfo:Te})]})]}),(0,v.jsx)(k.ZP,{item:!0,xs:12,style:{marginTop:"10px"},children:(0,v.jsxs)(T.Z,{width:"100%",overflow:"auto",marginTop:"10px",children:[H&&(0,v.jsx)(T.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,v.jsx)(rt.Z,{})}),!H&&(0,v.jsx)(Me.ZP,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},columns:Oe,dataSource:null===Te?$e:Ve,rowHeight:"auto",checkboxColumn:!0,selected:Q,defaultLimit:100,onSelectionChange:ke,handle:e=>Pe.current=e?e.current:null,rowStyle:e=>{let{data:t}=e;const a=Object.keys(Q).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===Q?"#dee1f2":"initial",height:"auto !important",whiteSpace:"normal"}},pagination:!0,renderScroller:()=>{var e,t;return null===Pe||void 0===Pe||null===(e=Pe.current)||void 0===e?void 0:e.setScrollTop(0==(null===V||void 0===V?void 0:V.length)?0:null===Pe||void 0===Pe||null===(t=Pe.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:e=>{be(e)}})]})})]})}),(0,v.jsxs)(ae.Z,{open:P,children:[(0,v.jsx)(ie.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Mapping"}),(0,v.jsx)(ne.Z,{children:(0,v.jsxs)(se.Z,{children:["Do you want to delete the MVOTemplateCompatibility Mapping(s) for Design Organization"," ",(0,v.jsx)("b",{children:null===L||void 0===L?void 0:L.BUID}),(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),(0,v.jsx)("b",{children:"Note:"})," ",fa.adminConstant.common.deleteNote]})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{onClick:Se,children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:async()=>{try{await C.softDeleteTempCompMapping({data:V}).then((e=>{Se(),we(null===e||void 0===e?void 0:e.msg,null===e||void 0===e?void 0:e.status),$([]),N([]),q({})}))}catch(e){console.error("Failed to delete mapping:",e)}Ae(),$([])},children:"delete"})]})]}),(0,v.jsx)(Xa,{open:S,handleorgAllowedDialogClose:Ce,orgAllowedForm:U,handleorgAllowedFormChange:e=>{const{name:t,value:a}=e.target,l={...U,[t]:a};W(l),"BUID"===t&&(ue(a),ce((e=>{const{RDOError:t,...a}=e;return a}))),"MVO_TEMPLATE_OPTION"===t&&ce((e=>{const{templateError:t,...a}=e;return a}))},handleAddMVOtempComp:()=>{const e=null===m||void 0===m?void 0:m.filter((e=>e.templateName===U.MVO_TEMPLATE_OPTION));if(U){void 0!==me&&""!==me||ce((e=>({...e,RDOError:"Design Organization is required"}))),void 0!==U.MVO_TEMPLATE_OPTION&&""!==U.MVO_TEMPLATE_OPTION||ce((e=>({...e,templateError:"Template Name is required"})));let t=[],a={...re};if(delete a.AllowableOrgTempError,Object.keys(X).length?(t=Object.values(X).map((e=>e)),t=t.map((e=>({ALLOWABLE_ORG_TEMPLATE:e.details.ALLOWABLE_ORG_TEMPLATES,status:void 0===pe[e.details.ALLOWABLE_ORG_TEMPLATES]?"active":pe[e.details.ALLOWABLE_ORG_TEMPLATES],id:e.details.ALLOWABLE_ORG_TEMPLATES_ID})))):a.AllowableOrgTempError="Please select at least one template",ce(a),Object.keys(a).length)return;{const a={MappingType:"mvoTemplateCompatibility",BUID:me,details:{MVO_TEMPLATE_OPTION:U.MVO_TEMPLATE_OPTION,MVO_TEMPLATE_OPTION_ID:e[0].id,allowableOrgTemplates:t},id:e[0].id+"_"+me.trim()+"_mvoTemplateCompatibility"};!1===_?C.addnewTempCompMapping(a).then((e=>{"success"===(null===e||void 0===e?void 0:e.status)?(Ae(),setTimeout((()=>{w(!1)}),200),we("MVO template compatibility added successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&we(null===e||void 0===e?void 0:e.msg,"error")})):C.updateTempCompMapping(a).then((e=>{"success"===e.status?(setTimeout((()=>{w(!1),Re(),Ae()}),200),B(!1),we("MVO template compatibility updated successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&we(null===e||void 0===e?void 0:e.msg,"error")})),Ce()}}else{let e={};0===Object.keys(X).length&&(e={AllowableOrgTempError:"Please select at least one template"}),ce({...e,templateError:"Template Name is required"})}},isEdit:_,onSelectionChange:Fe,selected:X,orgAllowedTempList:G,filteredBUOptions:J,setFilteredBUOptions:ee,formError:re,RDO:me,selectedRow:V[0],handleStatusChange:e=>{const t={...pe,[e.target.name]:e.target.value};he(t)}}),(0,v.jsx)(Ea,{title:"Import Template Compatibility Mappings",MappingType:"mvoTemplateCompatibility",selectedBU:u,importTemplate:j,fetchData:Ae,setImportTemplate:f}),fe?(0,v.jsx)(ye.Z,{openAlert:ve,openDesc:fe,setOpenAlert:je}):(0,v.jsx)(v.Fragment,{})]})},el=()=>(0,v.jsx)(Ja,{}),tl=[{path:"/mvotemplateList",element:(0,v.jsx)(ee,{children:(0,v.jsx)(el,{})})}],al={minHeight:248},ll=e=>{let{open:t,handleorgAllowedDialogClose:a,orgAllowedForm:n,handleorgAllowedFormChange:s,handleAddMVOtempComp:i,isEdit:r,orgAllowedTempList:o,onSelectionChange:d,selected:c,filteredBUOptions:m,setFilteredBUOptions:u,formError:p,RDO:h,selectedRow:x,handleStatusChange:g}=e;const[j,f]=(0,l.useState)([]),[y,Z]=(0,l.useState)({});(0,De.hE)(j,"ALLOWABLE_ORG_TEMPLATES"),(0,l.useEffect)((()=>{if(null!==n&&void 0!==n&&n.BUID){let e=[null===n||void 0===n?void 0:n.BUID]||0;u(e)}else u([h]);if(o){const e=null===o||void 0===o?void 0:o.filter((e=>(null===e||void 0===e?void 0:e.BUID)===h));x&&e.map((e=>{var t;return null===x||void 0===x||null===(t=x.details)||void 0===t||t.allowableOrgTemplates.forEach((t=>{e.details.ALLOWABLE_ORG_TEMPLATES===t.org_allowed_template&&(e.exclusive_use=t.exclusive_use)})),e})),f(e)}}),[o,n]);const T=(0,l.useRef)(null),P=[{name:"id",header:"Id",defaultVisible:!1,defaultWidth:60,type:"number"},{name:"ALLOWABLE_ORG_TEMPLATES",defaultWidth:280,header:(0,v.jsx)(de.Z,{title:fa.adminConstant.orgAllowedList.tooltip.AllowableOrgTemplate,children:"ALLOWABLE ORG TEMPLATES"}),render:e=>{var t;let{data:a}=e;return(0,v.jsx)("div",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.ALLOWABLE_ORG_TEMPLATES})}},{name:"Exclusive",header:(0,v.jsx)(de.Z,{title:fa.adminConstant.orgAllowedList.tooltip.status,children:"Exclusive Use"}),defaultWidth:280,render:e=>{var t,a,l;let{data:n}=e;return(0,v.jsx)("div",{children:(0,v.jsx)(we.Z,{children:(0,v.jsxs)(Ee.Z,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:null===n||void 0===n||null===(t=n.details)||void 0===t?void 0:t.ALLOWABLE_ORG_TEMPLATES,value:y[null===n||void 0===n||null===(a=n.details)||void 0===a?void 0:a.ALLOWABLE_ORG_TEMPLATES]?y[null===n||void 0===n||null===(l=n.details)||void 0===l?void 0:l.ALLOWABLE_ORG_TEMPLATES]:"Yes",onChange:e=>{const t={...y,[e.target.name]:e.target.value};Z(t),g(e)},children:[(0,v.jsx)(Se.Z,{value:"Yes",control:(0,v.jsx)(Pe.Z,{}),label:"Yes"}),(0,v.jsx)(Se.Z,{value:"No",control:(0,v.jsx)(Pe.Z,{}),label:"No"})]})})})}}];return(0,l.useEffect)((()=>{if(x){var e;const t=(e=>{let t={};return e.forEach((e=>{t[e.org_allowed_template]=e.exclusive_use})),t})(null===x||void 0===x||null===(e=x.details)||void 0===e?void 0:e.allowableOrgTemplates);Z(t)}}),[x]),(0,v.jsxs)(ae.Z,{open:t,fullWidth:!0,maxWidth:"md",children:[(0,v.jsxs)(ie.Z,{children:[" ",r?"Edit Part Type to Template ":"Add Part Type to Template"]}),(0,v.jsx)(Qa.$B,{autoHeight:!0,autoHeightMin:100,autoHeightMax:500,autoHide:!0,autoHideTimeout:1e3,autoHideDuration:300,children:(0,v.jsx)(ne.Z,{children:(0,v.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsx)("span",{children:"Design Organization: "})}),(0,v.jsxs)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:[(0,v.jsx)(N.Z,{id:"DataType-select",name:"BUID",fullWidth:!0,value:h,onChange:s,disabled:!0,children:null===m||void 0===m?void 0:m.map((e=>(0,v.jsx)(_.Z,{value:e,children:e},e)))}),null!==p&&void 0!==p&&p.RDOError?(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("p",{style:{color:"red"},children:null===p||void 0===p?void 0:p.RDOError})}):(0,v.jsx)(v.Fragment,{})]}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsx)("span",{children:"Enovia Part Type:"})}),(0,v.jsxs)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:[(0,v.jsx)(oe.Z,{name:"ENGG_ITEM_TYPE",value:n.ENGG_ITEM_TYPE,onChange:s,fullWidth:!0,disabled:r,margin:"normal"}),null!==p&&void 0!==p&&p.templateError?(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("p",{style:{color:"red"},children:null===p||void 0===p?void 0:p.templateError})}):(0,v.jsx)(v.Fragment,{})]}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsxs)("span",{children:["Org Allowed Templates:"," "]})}),(0,v.jsxs)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:[null!==p&&void 0!==p&&p.AllowableOrgTempError?(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("p",{style:{color:"red"},children:null===p||void 0===p?void 0:p.AllowableOrgTempError})}):(0,v.jsx)(v.Fragment,{}),null!==j&&void 0!==j&&j.length?(0,v.jsx)(Me.ZP,{idProperty:"id",showZebraRows:!1,handle:e=>T.current=e?e.current:null,selected:c,checkboxColumn:!0,onSelectionChange:d,checkboxOnlyRowSelect:!0,style:al,columns:P,dataSource:j}):null]})]})})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{onClick:a,children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:i,children:r?"Update":"Add"})]})]})},nl=(0,Z.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),sl=()=>{const{refreshData:e}=(0,I.Z)(),{templatesInfo:t,bussinessUnit:a,mappingTemplatesInfo:n,updateBussinessUnit:s,updateMappingTemplatesInfo:i}=(0,I.Z)(),[r,o]=(0,l.useState)(!1),[d,c]=(0,l.useState)(""),[m,u]=(0,l.useState)(!1),[p,h]=(0,l.useState)(!1),[x,j]=(0,l.useState)({}),[f,y]=(0,l.useState)([]),[Z,P]=(0,l.useState)([]),E=new aa.q,S=new Za,[w,O]=(0,l.useState)(),C=new Ta,[M,A]=(0,l.useState)(!0),[D,L]=(0,l.useState)(!1),[N,_]=(0,l.useState)([]),[B,U]=(0,l.useState)(""),[W,V]=(0,l.useState)(""),[$,G]=(0,l.useState)(""),[z,H]=(0,l.useState)({}),[Y,Q]=(0,l.useState)({}),[q,X]=(0,l.useState)([]),[K,J]=(0,l.useState)([]),[ee,re]=(0,l.useState)({}),[ce,me]=(0,l.useState)(""),[ue,pe]=(0,l.useState)({}),[he,xe]=(0,l.useState)(!1),[ge,ve]=(0,l.useState)(null),je=(0,l.useRef)(null),[fe,Ze]=(0,l.useState)({}),Te=je&&je.current&&je.current.dataMap?je.current.dataMap:null,be=e=>{const t=e.target.value;c(t)},Pe=()=>{u(!1)},Ee=(e,t)=>{xe(!0),ve({severity:t,desc:e})},Se=()=>{h(!1),j(""),P([]),Re([]),H({}),Q({}),re({}),L(!1)},we=()=>{A(!0),E.getAlltemplateMappings().then((e=>{var t;i(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),A(!1)}))};(0,l.useEffect)((()=>{A(e)}),[e]);const[Oe,Ce]=(0,l.useState)([]),[Ae,Le]=(0,l.useState)([]),Ne=(0,De.wh)(Oe,"ENGG_ITEM_TYPE");(0,l.useEffect)((()=>{_e()}),[]);const _e=()=>{A(!0),S.getAlldraftChanges().then((e=>{let t=a||"Micro Motion",l=e.data.filter((e=>e.BUID===t));J(l),A(!1)}))};(0,l.useEffect)((()=>{if(A(!0),n){let s=n;var e,t;if(s=s.filter((e=>"parttypetotemplate"===e.MappingType&&"Delete"!==e.actionFlag)),a)s=null===(e=s)||void 0===e?void 0:e.filter((e=>e.BUID===a));if(d&&""!==d)s=null===(t=s)||void 0===t?void 0:t.filter((e=>{var t,a,l;return(null===(t=JSON.stringify(e))||void 0===t?void 0:t.includes(d))||(null===(a=JSON.stringify(e))||void 0===a||null===(l=a.toLocaleLowerCase())||void 0===l?void 0:l.includes(d))}));if(K.length>0){const e=K.filter((e=>"parttypetotemplate"==e.MappingType));e.length>0&&"parttypetotemplate"===e[0].MappingType&&s.forEach((t=>{e[0].changes.forEach((e=>{if(t.id===e.id){t.details.draft_allowableOrgTemplates=e.details.allowableOrgTemplates;const a=new Set(e.details.allowableOrgTemplates.map((e=>e.org_allowed_template))),l=t.details.allowableOrgTemplates.filter((e=>!a.has(e.org_allowed_template)));t.details.deletedTemplateLists=l;let n=t.details.draft_allowableOrgTemplates.filter((e=>!t.details.allowableOrgTemplates.some((t=>e.org_allowed_template===t.org_allowed_template&&e.exclusive_use===t.exclusive_use))));t.details.newTemplateLists=n;let s=[...t.details.allowableOrgTemplates,...t.details.newTemplateLists];t.details.allowableOrgTemplates=s}}))}))}let i=s.map((e=>{var t,a;return e.ENGG_ITEM_TYPE=null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.ENGG_ITEM_TYPE,e.org_allowed_template=null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.allowableOrgTemplates.filter(((e,t,a)=>t===a.findIndex((t=>t.org_allowed_template===e.org_allowed_template)))).map((t=>{var a;const l=((null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.deletedTemplateLists)||[]).map((e=>t.org_allowed_template===e.org_allowed_template?`<span style="color:#f00; font-weight:bold;text-decoration: line-through">${e.org_allowed_template}</span>`:"")).join(" ");return`<div>${t.org_allowed_template} - ${t.exclusive_use.charAt(0).toUpperCase()+t.exclusive_use.slice(1)} &nbsp;&nbsp; ${l}</div>`})).join(""),e}));Ce(i),Le(s);let r=n.filter((e=>"orgallowedvalues"===e.MappingType&&"Delete"!==e.actionFlag));var l;if(a)r=null===(l=r)||void 0===l?void 0:l.filter((e=>e.BUID===a));setTimeout((()=>{y(r),A(!1)}),500)}else{var i;if(!a)s(F.XE?null===(i=F.XE[0])||void 0===i?void 0:i.value:"")}}),[n,a,d,K]);const[Ie,Re]=(0,l.useState)([]),ke=[{name:"ENGG_ITEM_TYPE",header:(0,v.jsx)(de.Z,{title:fa.adminConstant.parttypetemplateList.tooltip.TemplateOptionsMVO,children:"Enovia Part Type"}),defaultFlex:1,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.ENGG_ITEM_TYPE})}},{name:"org_allowed_template",header:(0,v.jsx)(de.Z,{title:fa.adminConstant.parttypetemplateList.tooltip.allowableOrgTemplatesExclusive,children:"Org Allowed Templates - Exclusive use"}),defaultFlex:1,sortable:!1,render:e=>(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"BUID",header:(0,v.jsx)(de.Z,{title:fa.adminConstant.parttypetemplateList.tooltip.RDO,children:"Design Organization"}),defaultFlex:1,defaultWidth:50}],Fe=(0,l.useCallback)((e=>{let{selected:t}=e;H(t)}),[]);(0,l.useEffect)((()=>{const e=!0===z?Te:z,t=e&&Object.keys(e).map((t=>e[t]));Re(t)}),[z,Te]);const Be=(0,l.useCallback)((e=>{let{selected:t}=e;Q(t),re((e=>{const{AllowableOrgTempError:t,...a}=e;return a}))}),[]);return(0,v.jsxs)(nl,{children:[(0,v.jsx)(T.Z,{className:"breadcrumb",children:(0,v.jsx)(g.aG,{routeSegments:[{name:"Part Type to Template"}]})}),(0,v.jsx)(g.sF,{children:(0,v.jsxs)(k.ZP,{container:!0,spacing:1,alignItems:"top",children:[(0,v.jsx)(k.ZP,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,v.jsxs)(k.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,v.jsx)(oe.Z,{type:"text",name:"search",size:"small",onChange:be,value:d,style:{width:"100%"}})}),(0,v.jsx)(k.ZP,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{},children:"Search"})})]})}),(0,v.jsxs)(k.ZP,{item:!0,md:8,sm:6,xs:12,className:"font-medium",children:[(0,v.jsxs)(k.ZP,{container:!0,alignItems:"center",justify:"flex-end",style:{display:"none"},children:[(0,v.jsx)(k.ZP,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"right"},children:(0,v.jsx)("label",{style:{whiteSpace:"nowrap",paddingTop:"11px"},children:"Design Organization:"})}),(0,v.jsx)(k.ZP,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"left"},children:(0,v.jsx)(R,{onChange:be,selectedvalue:a,style:{width:"100%"},optionsValues:F.XE,onChangeFunc:e=>{H({}),Re([]),s(e),c(""),Re([])}})})]}),(0,v.jsxs)(k.ZP,{item:!0,xs:12,className:"font-medium",style:{marginTop:"0px",textAlign:"right"},children:[(0,v.jsx)(b.Z,{variant:"contained",component:te.Link,onClick:()=>{j(""),P([]),U(""),V(""),G(""),_([]),h(!0),me(a)},style:{margin:"0 0px 0 10px"},children:"Add"}),(0,v.jsx)(b.Z,{variant:"contained",component:te.Link,disabled:1!==(null===Ie||void 0===Ie?void 0:Ie.length),onClick:()=>{var e,t,a,l,n,s;const i=null===(e=Ie[0])||void 0===e?void 0:e.details,r=null===(t=Ie[0])||void 0===t?void 0:t.BUID;j({...i,BUID:r}),me(r);let o=(null===(a=Ie[0])||void 0===a||null===(l=a.details)||void 0===l?void 0:l.allowableOrgTemplates.map((e=>null===f||void 0===f?void 0:f.filter((t=>t.details.ALLOWABLE_ORG_TEMPLATES===e.org_allowed_template)))).flat()).reduce(((e,t)=>Object.assign(e,{[t.id]:t})),{});Q(o),_(null===(n=Ie[0])||void 0===n||null===(s=n.details)||void 0===s?void 0:s.allowableOrgTemplates),L(!0),h(!0)},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,v.jsx)(b.Z,{variant:"contained",component:te.Link,disabled:0===(null===Ie||void 0===Ie?void 0:Ie.length),onClick:()=>{O(Ie[0]),u(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{o(!0)},style:{margin:"0 10px 0 10px"},children:"Import"}),(0,v.jsx)($a,{title:"Part Type To Template",MappingType:"parttypetotemplate",filterTemplateData:Ie,sortInfo:fe})]})]}),(0,v.jsx)(k.ZP,{item:!0,xs:12,style:{marginTop:"10px"},children:(0,v.jsxs)(T.Z,{width:"100%",overflow:"auto",marginTop:"10px",children:[M&&(0,v.jsx)(T.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,v.jsx)(rt.Z,{})}),!M&&(0,v.jsx)(Me.ZP,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},rowStyle:e=>{let{data:t}=e;const a=Object.keys(z).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===z?"#dee1f2":"initial",height:"auto !important",whiteSpace:"normal"}},columns:ke,dataSource:null===fe?Ae:Ne,rowHeight:"auto",defaultLimit:100,checkboxColumn:!0,selected:z,onSelectionChange:Fe,handle:e=>je.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===je||void 0===je||null===(e=je.current)||void 0===e?void 0:e.setScrollTop(0==(null===Ie||void 0===Ie?void 0:Ie.length)?0:null===je||void 0===je||null===(t=je.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:e=>{Ze(e)}})]})})]})}),ge?(0,v.jsx)(ye.Z,{openAlert:he,openDesc:ge,setOpenAlert:xe}):(0,v.jsx)(v.Fragment,{}),(0,v.jsxs)(ae.Z,{open:m,children:[(0,v.jsx)(ie.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Mapping"}),(0,v.jsx)(ne.Z,{children:(0,v.jsxs)(se.Z,{children:["Do you want to delete the PartTypeToTemplate Mapping(s) for Design Organization"," ",(0,v.jsx)("b",{children:null===w||void 0===w?void 0:w.BUID}),(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),(0,v.jsx)("b",{children:"Note:"})," ",fa.adminConstant.common.deleteNote]})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{onClick:Pe,children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:async()=>{try{await C.softDeleteTempCompMapping({data:Ie}).then((e=>{Pe(),Re([]),O([]),H({})}))}catch(e){console.error("Failed to delete mapping:",e)}Ee("Parttype to Template deleted Successfully","success"),we(),Re([])},children:"delete"})]})]}),(0,v.jsx)(ll,{open:p,handleorgAllowedDialogAdd:()=>{h(!1)},handleorgAllowedDialogClose:Se,orgAllowedForm:x,handleorgAllowedFormChange:e=>{const{name:t,value:a}=e.target;if("newKey"===t&&U(a),"newValue"===t&&V(a),"BUID"===t&&P([]),"ENGG_ITEM_TYPE"===t&&(j({...x,BUID:""}),re((e=>{const{templateError:t,...a}=e;return a})),P([])),"plants"===t)P(a);else{const e={...x,[t]:a};j(e)}},handleAddMVOtempComp:()=>{const e=null===t||void 0===t?void 0:t.filter((e=>e.templateName===x.ENGG_ITEM_TYPE));if(x){void 0!==ce&&""!==ce||re((e=>({...e,RDOError:"Design Organization is required"}))),void 0!==x.ENGG_ITEM_TYPE&&""!==x.ENGG_ITEM_TYPE||re((e=>({...e,templateError:"Template Name is required"})));let t=[],l={...ee};if(delete l.AllowableOrgTempError,Object.keys(Y).length?(t=Object.values(Y).map((e=>e)),t=t.map((e=>({org_allowed_template:e.details.ALLOWABLE_ORG_TEMPLATES,exclusive_use:void 0===ue[e.details.ALLOWABLE_ORG_TEMPLATES]?"Yes":ue[e.details.ALLOWABLE_ORG_TEMPLATES],id:e.details.ALLOWABLE_ORG_TEMPLATES_ID})))):l.AllowableOrgTempError="Please select at least one template",re(l),Object.keys(l).length||Object.keys(ee).length)return void console.log("Resultant Payload:",x);{var a;const l={MappingType:"parttypetotemplate",BUID:ce,details:{ENGG_ITEM_TYPE:x.ENGG_ITEM_TYPE,ENOVIA_PART_TYPE_ID:null===(a=e[0])||void 0===a?void 0:a.id,allowableOrgTemplates:t},id:x.ENGG_ITEM_TYPE+"_"+ce.trim()+"_parttypetotemplate"};!1===D?C.addnewTempCompMapping(l).then((e=>{"success"===(null===e||void 0===e?void 0:e.status)?(we(),H({}),setTimeout((()=>{h(!1)}),200),Ee("Parttype to Template added successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&Ee(null===e||void 0===e?void 0:e.msg,"error")})):C.updateTempCompMapping(l).then((e=>{"success"===e.status?(_e(),we(),H({}),setTimeout((()=>{h(!1)}),200),L(!1),Ee("MVO template compatibility updated successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&Ee(null===e||void 0===e?void 0:e.msg,"error")})),Se()}}else{let e={};0===Object.keys(Y).length&&(e={AllowableOrgTempError:"Please select at least one template"}),re({...e,templateError:"Template Name is required"})}},selectedPlants:Z,isEdit:D,newKey:B,newValue:W,handleAddRow:()=>{const e=N.some((e=>e.key===B)),a=N.some((e=>e.value===W)),l=null===t||void 0===t?void 0:t.filter((e=>e.templateName===B));e||a?G("The key or value already exists"):B&&W?(_((e=>[...e,{org_allowed_template:B,exclusive_use:W,id:l[0].id}])),U(""),V(""),G("")):G("Template and its status required")},handleDeleteRow:e=>{_((t=>{const a=[...t];return a.splice(e,1),a}))},keyerror:$,valuesInputList:N,onSelectionChange:Be,selected:Y,orgAllowedTempList:f,filteredBUOptions:q,setFilteredBUOptions:X,formError:ee,RDO:ce,selectedRow:Ie[0],handleStatusChange:e=>{const t={...ue,[e.target.name]:e.target.value};pe(t)}}),(0,v.jsx)(Ea,{title:"Import Parttype To Template Mappings",MappingType:"parttypetotemplate",selectedBU:a,importTemplate:r,fetchData:we,setImportTemplate:o})]})},il=()=>(0,v.jsx)(sl,{}),rl=[{path:"/parttypeToTemplateList",element:(0,v.jsx)(ee,{children:(0,v.jsx)(il,{})})}],ol=e=>{let{open:t,handleorgAllowedDialogClose:a,mvotemplatesTo:n,orgAllowedForm:s,handleorgAllowedFormChange:i,handleAddMVOtempComp:r,isEdit:o,templatesInfo:d,selectedBU:c}=e;const[m,u]=(0,l.useState)([]),[p,h]=(0,l.useState)([]);return(0,l.useEffect)((()=>{if(c){let e=d.filter((e=>{var t;return null===e||void 0===e||null===(t=e.BU)||void 0===t?void 0:t.includes(c)}));console.log(e,"tempData tempData tempData"),u(e)}h([c])}),[c,d,s.BUID]),(0,v.jsxs)(ae.Z,{open:t,children:[(0,v.jsxs)(ie.Z,{children:[" ",o?"Edit MVO Allowed Changes ":"Add MVO Allowed Changes"]}),(0,v.jsx)(ne.Z,{children:(0,v.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsxs)("span",{children:["Design Organization ",(0,v.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{id:"DataType-select",name:"BUID",fullWidth:!0,value:c,onChange:i,disabled:!0,children:null===p||void 0===p?void 0:p.map((e=>(0,v.jsx)(_.Z,{value:e,children:e},e)))})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsxs)("span",{children:["MVO Template - From ",(0,v.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{name:"MVO_TEMPLATE_FROM",fullWidth:!0,value:s.MVO_TEMPLATE_FROM,onChange:i,disabled:o,children:null===m||void 0===m?void 0:m.map((e=>(0,v.jsx)(_.Z,{value:e.templateName,children:e.templateName},e.templateName)))})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsxs)("span",{children:["MVO Template - To ",(0,v.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{style:{width:"100%"},multiple:!0,name:"MVO_TEMPLATE_TO",value:n,onChange:i,renderValue:e=>null===e||void 0===e?void 0:e.join(", "),MenuProps:{sx:{"&& .Mui-selected":{backgroundColor:"rgb(25 118 210 / 67%)"}}},children:null===m||void 0===m?void 0:m.map((e=>(0,v.jsx)(_.Z,{value:e.templateName,children:e.templateName},e.templateName)))})})]})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{onClick:a,children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:r,children:o?"Update":"Add"})]})]})},dl=(0,Z.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),cl=()=>{const{refreshData:e}=(0,I.Z)(),{templatesInfo:t,bussinessUnit:a,mappingTemplatesInfo:n,updateBussinessUnit:s,updateMappingTemplatesInfo:i}=(0,I.Z)(),[r,o]=(0,l.useState)(!1),[d,c]=(0,l.useState)(""),[m,u]=(0,l.useState)(!1),[p,h]=(0,l.useState)(!1),[x,j]=(0,l.useState)({}),[f,y]=(0,l.useState)([]),Z=new aa.q,P=new Ta,E=new Za,[S,w]=(0,l.useState)(),[O,C]=(0,l.useState)(!1),[M,A]=(0,l.useState)([]),[D,L]=(0,l.useState)(""),[N,_]=(0,l.useState)(""),[B,U]=(0,l.useState)(""),[W,V]=(0,l.useState)(!0),[$,G]=(0,l.useState)({}),[z,H]=(0,l.useState)(!1),[Y,Q]=(0,l.useState)(null),[q,X]=(0,l.useState)([]),K=(0,l.useRef)(null),[J,ee]=(0,l.useState)({}),re=K&&K.current&&K.current.dataMap?K.current.dataMap:null,ce=e=>{const t=e.target.value;c(t)},me=()=>{u(!1)},ue=(e,t)=>{H(!0),Q({severity:t,desc:e})},pe=()=>{h(!1),j(""),y([]),Ee([]),G({}),C(!1)},he=()=>{V(!0),Z.getAlltemplateMappings().then((e=>{var t;i(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),V(!1)}))};(0,l.useEffect)((()=>{V(e)}),[e]);const[xe,ge]=(0,l.useState)([]),[ve,je]=(0,l.useState)([]),fe=(0,De.wh)(xe,"MVO_TEMPLATE_FROM"),Ze=(0,ze.Dc)(ve),Te=(0,ze.Dc)(fe);(0,l.useEffect)((()=>{be()}),[]);const be=()=>{V(!0),E.getAlldraftChanges().then((e=>{let t=a||"Micro Motion",l=e.data.filter((e=>e.BUID===t));X(l),V(!1)}))};(0,l.useEffect)((()=>{if(V(!0),n){let l=n;var e,t;if(l=l.filter((e=>"mvoallowedchanges"===e.MappingType&&"Delete"!==e.actionFlag)),a)l=null===(e=l)||void 0===e?void 0:e.filter((e=>e.BUID===a));if(d&&""!==d)l=null===(t=l)||void 0===t?void 0:t.filter((e=>{var t,a,l;return(null===(t=JSON.stringify(e))||void 0===t?void 0:t.includes(d))||(null===(a=JSON.stringify(e))||void 0===a||null===(l=a.toLocaleLowerCase())||void 0===l?void 0:l.includes(d))}));if(q.length>0){const e=q.filter((e=>"mvoallowedchanges"==e.MappingType));e.length>0&&"mvoallowedchanges"===e[0].MappingType&&l.forEach((t=>{e[0].changes.forEach((e=>{if(t.id===e.id){t.details.draft_MVO_TEMPLATES_TO=e.details.MVO_TEMPLATES_TO;const a=new Set(e.details.MVO_TEMPLATES_TO.map((e=>e.MVO_TEMPLATE_TO))),l=t.details.MVO_TEMPLATES_TO.filter((e=>!a.has(e.MVO_TEMPLATE_TO)));t.details.deletedTemplateLists=l;let n=t.details.draft_MVO_TEMPLATES_TO.filter((e=>!t.details.MVO_TEMPLATES_TO.some((t=>e.MVO_TEMPLATE_TO===t.MVO_TEMPLATE_TO&&e.exclusive_use===t.exclusive_use))));t.details.newTemplateLists=n;let s=[...t.details.MVO_TEMPLATES_TO,...t.details.newTemplateLists];t.details.MVO_TEMPLATES_TO=s}}))}))}let s=[...l].map((e=>{var t,a;return e.MVO_TEMPLATE_FROM=null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.MVO_TEMPLATE_FROM,e.MVO_TEMPLATE_TO=null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.MVO_TEMPLATES_TO.filter(((e,t,a)=>t===a.findIndex((t=>t.MVO_TEMPLATE_TO===e.MVO_TEMPLATE_TO)))).map((t=>{var a;const l=((null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.deletedTemplateLists)||[]).map((e=>t.MVO_TEMPLATE_TO===e.MVO_TEMPLATE_TO?`<span class="deleted-text">${e.MVO_TEMPLATE_TO}</span>`:"")).join(" ");return`<div>${t.MVO_TEMPLATE_TO} &nbsp;&nbsp; ${l}</div>`})).join(""),e})),i=l.sort(((e,t)=>e.details.MVO_TEMPLATE_FROM.localeCompare(t.details.MVO_TEMPLATE_FROM))).map((e=>{var t,a;return e.MVO_TEMPLATE_FROM=null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.MVO_TEMPLATE_FROM,e.MVO_TEMPLATE_TO=null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.MVO_TEMPLATES_TO.filter(((e,t,a)=>t===a.findIndex((t=>t.MVO_TEMPLATE_TO===e.MVO_TEMPLATE_TO)))).map((t=>{var a;const l=((null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.deletedTemplateLists)||[]).map((e=>t.MVO_TEMPLATE_TO===e.MVO_TEMPLATE_TO?`<span style="color:#f00; font-weight:bold;text-decoration: line-through">${e.MVO_TEMPLATE_TO}</span>`:"")).join(" ");return`<div>${t.MVO_TEMPLATE_TO} &nbsp;&nbsp; ${l}</div>`})).join(""),e}));setTimeout((()=>{je(s),ge(i),V(!1)}),500)}else{var l;if(!a)s(F.XE?null===(l=F.XE[0])||void 0===l?void 0:l.value:"")}}),[n,a,d,q]);const[Pe,Ee]=(0,l.useState)([]),Se=[{name:"MVO_TEMPLATE_FROM",header:(0,v.jsx)(de.Z,{title:fa.adminConstant.mvoallowedchangesList.tooltip.mvoTemplatesFrom,children:"MVO Template - From"}),defaultFlex:1,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.MVO_TEMPLATE_FROM})}},{name:"MVO_TEMPLATE_TO",header:(0,v.jsx)(de.Z,{title:fa.adminConstant.mvoallowedchangesList.tooltip.mvoTemplatesTo,children:"MVO Template - To"}),defaultFlex:1,sortable:!1,render:e=>(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"BUID",header:(0,v.jsx)(de.Z,{title:fa.adminConstant.mvoallowedchangesList.tooltip.RDO,children:"Design Organization"}),defaultFlex:1,defaultWidth:50}],we=(0,l.useCallback)((e=>{let{selected:t}=e;G(t)}),[]);(0,l.useEffect)((()=>{const e=!0===$?re:$,t=e&&Object.keys(e).map((t=>e[t]));Ee(t)}),[$,re]);return(0,v.jsxs)(dl,{children:[(0,v.jsx)(T.Z,{className:"breadcrumb",children:(0,v.jsx)(g.aG,{routeSegments:[{name:"MVO Allowed Changes "}]})}),(0,v.jsx)(g.sF,{children:(0,v.jsxs)(k.ZP,{container:!0,spacing:1,alignItems:"top",children:[(0,v.jsx)(k.ZP,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,v.jsxs)(k.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,v.jsx)(oe.Z,{type:"text",name:"search",size:"small",onChange:ce,value:d,style:{width:"100%"}})}),(0,v.jsx)(k.ZP,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{},children:"Search"})})]})}),(0,v.jsxs)(k.ZP,{item:!0,md:8,sm:6,xs:12,className:"font-medium",children:[(0,v.jsxs)(k.ZP,{container:!0,alignItems:"center",justify:"flex-end",style:{display:"none"},children:[(0,v.jsx)(k.ZP,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"right"},children:(0,v.jsx)("label",{style:{whiteSpace:"nowrap",paddingTop:"11px"},children:"Design Organization:"})}),(0,v.jsx)(k.ZP,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"left"},children:(0,v.jsx)(R,{onChange:ce,selectedvalue:a,style:{width:"100%"},optionsValues:F.XE,onChangeFunc:e=>{G({}),Ee([]),s(e),c(""),Ee([])}})})]}),(0,v.jsxs)(k.ZP,{item:!0,xs:12,className:"font-medium",style:{marginTop:"0px",textAlign:"right"},children:[(0,v.jsx)(b.Z,{variant:"contained",component:te.Link,onClick:()=>{j({BUID:a}),y([]),L(""),_(""),U(""),A([]),h(!0)},style:{margin:"0 0px 0 10px"},children:"Add"}),(0,v.jsx)(b.Z,{variant:"contained",disabled:1!==(null===Pe||void 0===Pe?void 0:Pe.length),onClick:()=>{var e,t;const a=null===(e=Pe[0])||void 0===e?void 0:e.details,l=null===(t=Pe[0])||void 0===t?void 0:t.BUID;j({...a,BUID:l});for(const o in null===(n=Pe[0])||void 0===n||null===(s=n.details)||void 0===s?void 0:s.MVO_TEMPLATES_TO){var n,s,i,r;const e=null===(i=Pe[0])||void 0===i||null===(r=i.details)||void 0===r?void 0:r.MVO_TEMPLATES_TO[o];f.push(null===e||void 0===e?void 0:e.MVO_TEMPLATE_TO)}C(!0),h(!0)},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,v.jsx)(b.Z,{variant:"contained",disabled:0===(null===Pe||void 0===Pe?void 0:Pe.length),onClick:()=>{w(Pe[0]),u(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{o(!0)},style:{margin:"0 10px 0 10px"},children:"Import"}),(0,v.jsx)($a,{title:"MVO Allowed Changes",MappingType:"mvoallowedchanges",filterTemplateData:Pe,sortInfo:J})]})]}),(0,v.jsx)(k.ZP,{item:!0,xs:12,style:{marginTop:"10px"},children:(0,v.jsxs)(T.Z,{width:"100%",overflow:"auto",marginTop:"10px",children:[W&&(0,v.jsx)(T.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,v.jsx)(rt.Z,{})}),!W&&(0,v.jsx)(Me.ZP,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},columns:Se,dataSource:null===J?Ze:Te,rowHeight:"auto",checkboxColumn:!0,defaultLimit:100,selected:$,onSelectionChange:we,handle:e=>K.current=e?e.current:null,rowStyle:e=>{let{data:t}=e;const a=Object.keys($).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===$?"#dee1f2":"initial",height:"auto !important",whiteSpace:"normal"}},pagination:!0,renderScroller:()=>{var e,t;return null===K||void 0===K||null===(e=K.current)||void 0===e?void 0:e.setScrollTop(0==(null===Pe||void 0===Pe?void 0:Pe.length)?0:null===K||void 0===K||null===(t=K.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:e=>{ee(e)}})]})})]})}),Y?(0,v.jsx)(ye.Z,{openAlert:z,openDesc:Y,setOpenAlert:H}):(0,v.jsx)(v.Fragment,{}),(0,v.jsxs)(ae.Z,{open:m,children:[(0,v.jsx)(ie.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Mapping"}),(0,v.jsx)(ne.Z,{children:(0,v.jsxs)(se.Z,{children:["Do you want to delete the MVOAllowedChanges Mapping(s) for Design Organization"," ",(0,v.jsx)("b",{children:null===S||void 0===S?void 0:S.BUID}),(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),(0,v.jsx)("b",{children:"Note:"})," ",fa.adminConstant.common.deleteNote]})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{onClick:me,children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:async()=>{try{await P.softDeleteTempCompMapping({data:Pe}).then((e=>{me(),Ee([]),w([]),G({})}))}catch(e){console.error("Failed to delete mapping:",e)}ue("MVO allowed changes  deleted Successfully","success"),he(),Ee([])},children:"delete"})]})]}),(0,v.jsx)(ol,{open:p,handleorgAllowedDialogAdd:()=>{h(!1)},handleorgAllowedDialogClose:pe,orgAllowedForm:x,handleorgAllowedFormChange:e=>{const{name:t,value:a}=e.target;if("newKey"===t&&L(a),"newValue"===t&&_(a),"BUID"===t&&y([]),"MVO_TEMPLATE_FROM"===t&&(j({...x,BUID:""}),y([])),"MVO_TEMPLATE_TO"===t)y(a);else{const e={...x,[t]:a};j(e)}},handleAddMVOtempComp:()=>{const e=null===t||void 0===t?void 0:t.filter((e=>e.templateName===x.MVO_TEMPLATE_FROM));let a=[];if(a=null===f||void 0===f?void 0:f.map((e=>{const a=t.find((t=>t.templateName===e));return{id:a?a.id:null,MVO_TEMPLATE_TO:e}})),!x.MVO_TEMPLATE_FROM||!x.BUID||(null===f||void 0===f?void 0:f.length)<1)ue("Please Enter the required fields","error");else{if(x){var l,n;const t={MappingType:"mvoallowedchanges",BUID:x.BUID,details:{MVO_TEMPLATE_FROM:x.MVO_TEMPLATE_FROM,MVO_TEMPLATE_OPTION_ID:null===(l=e[0])||void 0===l?void 0:l.id,MVO_TEMPLATES_TO:a},id:(null===(n=e[0])||void 0===n?void 0:n.id)+"_"+x.BUID.trim()+"_mvoallowedchanges"};!1===O?P.addnewTempCompMapping(t).then((e=>{"success"===(null===e||void 0===e?void 0:e.status)?(he(),setTimeout((()=>{h(!1)}),200),ue("MVO allowed changes added successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&ue(null===e||void 0===e?void 0:e.msg,"error")})):P.updateTempCompMapping(t).then((e=>{"success"===e.status?(setTimeout((()=>{h(!1),be(),he()}),200),C(!1),ue("MVO allowed changes updated successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&ue(null===e||void 0===e?void 0:e.msg,e.status)}))}pe()}},mvotemplatesTo:f,isEdit:O,newKey:D,newValue:N,handleAddRow:()=>{const e=M.some((e=>e.key===D)),a=M.some((e=>e.value===N)),l=null===t||void 0===t?void 0:t.filter((e=>e.templateName===D));e||a?U("The key or value already exists"):D&&N?(A((e=>{var t;return[...e,{ALLOWABLE_ORG_TEMPLATE:D,status:N,id:null===(t=l[0])||void 0===t?void 0:t.id}]})),L(""),_(""),U("")):U("Template and its status required")},handleDeleteRow:e=>{A((t=>{const a=[...t];return a.splice(e,1),a}))},keyerror:B,valuesInputList:M,templatesInfo:t,selectedBU:a}),(0,v.jsx)(Ea,{title:"Import MVO Allowed Changes Mappings",MappingType:"mvoallowedchanges",selectedBU:a,importTemplate:r,fetchData:he,setImportTemplate:o})]})},ml=()=>(0,v.jsx)(cl,{}),ul=[{path:"/mvoallowedchangesList",element:(0,v.jsx)(ee,{children:(0,v.jsx)(ml,{})})}],pl=e=>{let{open:t,handleorgAllowedDialogClose:a,modifytempdata:n,orgAllowedForm:s,handleorgAllowedFormChange:i,handleAddMVOtempComp:r,isEdit:o,templatesInfo:d,selectedBU:c}=e;const[m,u]=(0,l.useState)([]),[p,h]=(0,l.useState)([]);return(0,l.useEffect)((()=>{if(c){let e=d.filter((e=>{var t;return null===e||void 0===e||null===(t=e.BU)||void 0===t?void 0:t.includes(c)}));u(e)}h([c])}),[c,d,s.BUID]),(0,v.jsxs)(ae.Z,{open:t,children:[(0,v.jsxs)(ie.Z,{children:[" ",o?"Edit Set Compatible Templates":"Add Set Compatible Templates"]}),(0,v.jsx)(ne.Z,{children:(0,v.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsxs)("span",{children:["Template For Org Existing ",(0,v.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{name:"TEMPLATE_ORG_EXISTING",fullWidth:!0,value:s.TEMPLATE_ORG_EXISTING,onChange:i,disabled:o,children:null===m||void 0===m?void 0:m.map((e=>(0,v.jsx)(_.Z,{value:e.templateName,children:e.templateName},e.templateName)))})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsxs)("span",{children:["Design Organization ",(0,v.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{id:"DataType-select",name:"BUID",fullWidth:!0,value:c,onChange:i,disabled:!0,children:null===p||void 0===p?void 0:p.map((e=>(0,v.jsx)(_.Z,{value:e,children:e},e)))})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsxs)("span",{children:["Template For Org Modifying ",(0,v.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{style:{width:"100%"},multiple:!0,name:"TEMPLATE_ORG_MODIFYING",value:n,onChange:i,renderValue:e=>null===e||void 0===e?void 0:e.join(", "),MenuProps:{sx:{"&& .Mui-selected":{backgroundColor:"rgb(25 118 210 / 67%)"}}},children:null===m||void 0===m?void 0:m.map((e=>(0,v.jsx)(_.Z,{value:e.templateName,children:e.templateName},e.templateName)))})})]})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{onClick:a,children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:r,children:o?"Update":"Add"})]})]})},hl=(0,Z.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),xl=()=>{const{refreshData:e}=(0,I.Z)(),{templatesInfo:t,bussinessUnit:a,mappingTemplatesInfo:n,updateBussinessUnit:s,updateMappingTemplatesInfo:i}=(0,I.Z)(),[r,o]=(0,l.useState)(!1),[d,c]=(0,l.useState)(""),[m,u]=(0,l.useState)(!1),[p,h]=(0,l.useState)(!1),[x,j]=(0,l.useState)({}),[f,y]=(0,l.useState)([]),[Z,P]=(0,l.useState)([]),E=new aa.q,S=new Ta,w=new Za,[O,C]=(0,l.useState)(),[M,A]=(0,l.useState)(!1),[D,L]=(0,l.useState)([]),[N,_]=(0,l.useState)([]),[B,U]=(0,l.useState)(""),[W,V]=(0,l.useState)(""),[$,G]=(0,l.useState)(""),[z,H]=(0,l.useState)(!0),[Y,Q]=(0,l.useState)({}),[q,X]=(0,l.useState)(!1),[K,J]=(0,l.useState)(null),ee=(0,l.useRef)(null),[re,ce]=(0,l.useState)({}),me=ee&&ee.current&&ee.current.dataMap?ee.current.dataMap:null,ue=e=>{const t=e.target.value;c(t)},pe=()=>{u(!1)},he=(e,t)=>{X(!0),J({severity:t,desc:e})},xe=()=>{h(!1),j(""),y([]),P([]),Ee([]),Q({}),A(!1)},ge=()=>{H(!0),E.getAlltemplateMappings().then((e=>{var t;i(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),H(!1)}))};(0,l.useEffect)((()=>{H(e)}),[e]);const[ve,je]=(0,l.useState)([]),[fe,Ze]=(0,l.useState)([]),Te=(0,De.wh)(ve,"TEMPLATE_ORG_EXISTING");(0,l.useEffect)((()=>{be()}),[]);const be=()=>{H(!0),w.getAlldraftChanges().then((e=>{let t=a||"Micro Motion",l=e.data.filter((e=>e.BUID===t));_(l),H(!1)}))};(0,l.useEffect)((()=>{if(H(!0),n){let l=n;var e,t;if(l=l.filter((e=>"setcompatibletemplates"===e.MappingType&&"Delete"!==e.actionFlag)),a)l=null===(e=l)||void 0===e?void 0:e.filter((e=>e.BUID===a));if(d&&""!==d)l=null===(t=l)||void 0===t?void 0:t.filter((e=>{var t,a,l;return(null===(t=JSON.stringify(e))||void 0===t?void 0:t.includes(d))||(null===(a=JSON.stringify(e))||void 0===a||null===(l=a.toLocaleLowerCase())||void 0===l?void 0:l.includes(d))}));if(N.length>0){const e=N.filter((e=>"setcompatibletemplates"==e.MappingType));e.length>0&&"setcompatibletemplates"===e[0].MappingType&&l.forEach((t=>{e[0].changes.forEach((e=>{if(t.id===e.id){t.details.draft_TEMPLATE_ORG_MODIFYING=e.details.TEMPLATE_ORG_MODIFYING;const a=new Set(e.details.TEMPLATE_ORG_MODIFYING.map((e=>e.TEMPLATE_ORG_MODIFYING))),l=t.details.TEMPLATE_ORG_MODIFYING.filter((e=>!a.has(e.TEMPLATE_ORG_MODIFYING)));t.details.deletedTemplateLists=l;let n=t.details.draft_TEMPLATE_ORG_MODIFYING.filter((e=>!t.details.TEMPLATE_ORG_MODIFYING.some((t=>e.TEMPLATE_ORG_MODIFYING===t.TEMPLATE_ORG_MODIFYING&&e.exclusive_use===t.exclusive_use))));t.details.newTemplateLists=n;let s=[...t.details.TEMPLATE_ORG_MODIFYING,...t.details.newTemplateLists];t.details.TEMPLATE_ORG_MODIFYING=s}}))}))}let s=l.map((e=>{var t,a;return e.TEMPLATE_ORG_EXISTING=null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.TEMPLATE_ORG_EXISTING,e.TEMPLATE_ORG_MODIFYING=null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.TEMPLATE_ORG_MODIFYING.filter(((e,t,a)=>t===a.findIndex((t=>t.TEMPLATE_ORG_MODIFYING===e.TEMPLATE_ORG_MODIFYING)))).map((t=>{var a;const l=((null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.deletedTemplateLists)||[]).map((e=>t.TEMPLATE_ORG_MODIFYING===e.TEMPLATE_ORG_MODIFYING?`<span style="color:#f00; font-weight:bold;text-decoration: line-through">${e.TEMPLATE_ORG_MODIFYING}</span>`:"")).join(" ");return`<div>${t.TEMPLATE_ORG_MODIFYING} &nbsp;&nbsp; ${l}</div>`})).join(""),e}));setTimeout((()=>{Ze(l),je(s),H(!1)}),500)}else{var l;if(!a)s(F.XE?null===(l=F.XE[0])||void 0===l?void 0:l.value:"")}}),[n,a,d,N]);const[Pe,Ee]=(0,l.useState)([]),Se=[{name:"TEMPLATE_ORG_EXISTING",header:(0,v.jsx)(de.Z,{title:fa.adminConstant.setComptempList.tooltip.TemplateForOrgExist,children:"Template for Org(s) Existing"}),defaultFlex:1,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.TEMPLATE_ORG_EXISTING})}},{name:"TEMPLATE_ORG_MODIFYING",header:(0,v.jsx)(de.Z,{title:fa.adminConstant.setComptempList.tooltip.TemplateForOrgModify,children:"Template for Org Modifying"}),defaultFlex:1,sortable:!1,render:e=>(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{name:"BUID",header:(0,v.jsx)(de.Z,{title:fa.adminConstant.setComptempList.tooltip.RDO,children:"Design Organization"}),defaultFlex:1,defaultWidth:50}],we=(0,l.useCallback)((e=>{let{selected:t}=e;Q(t)}),[]);(0,l.useEffect)((()=>{const e=!0===Y?me:Y,t=e&&Object.keys(e).map((t=>e[t]));Ee(t)}),[Y,me]);return(0,v.jsxs)(hl,{children:[(0,v.jsx)(T.Z,{className:"breadcrumb",children:(0,v.jsx)(g.aG,{routeSegments:[{name:"Set Compatible Templates"}]})}),(0,v.jsx)(g.sF,{children:(0,v.jsxs)(k.ZP,{container:!0,spacing:1,alignItems:"top",children:[(0,v.jsx)(k.ZP,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,v.jsxs)(k.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,v.jsx)(oe.Z,{type:"text",name:"search",size:"small",onChange:ue,value:d,style:{width:"100%"}})}),(0,v.jsx)(k.ZP,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{},children:"Search"})})]})}),(0,v.jsxs)(k.ZP,{item:!0,md:8,sm:6,xs:12,className:"font-medium",children:[(0,v.jsxs)(k.ZP,{container:!0,alignItems:"center",justify:"flex-end",style:{display:"none"},children:[(0,v.jsx)(k.ZP,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"right"},children:(0,v.jsx)("label",{style:{whiteSpace:"nowrap",paddingTop:"11px"},children:"Design Organization:"})}),(0,v.jsx)(k.ZP,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"left"},children:(0,v.jsx)(R,{onChange:ue,selectedvalue:a,style:{width:"100%"},optionsValues:F.XE,onChangeFunc:e=>{Q({}),Ee([]),s(e),c(""),Ee([])}})})]}),(0,v.jsxs)(k.ZP,{item:!0,xs:12,className:"font-medium",style:{marginTop:"0px",textAlign:"right"},children:[(0,v.jsx)(b.Z,{variant:"contained",component:te.Link,onClick:()=>{j({BUID:a}),y([]),U(""),V(""),G(""),L([]),h(!0)},style:{margin:"0 0px 0 10px"},children:"Add"}),(0,v.jsx)(b.Z,{variant:"contained",disabled:1!==(null===Pe||void 0===Pe?void 0:Pe.length),onClick:()=>{var e,t;const a=null===(e=Pe[0])||void 0===e?void 0:e.details,l=null===(t=Pe[0])||void 0===t?void 0:t.BUID;j({...a,BUID:l});for(const o in null===(n=Pe[0])||void 0===n||null===(s=n.details)||void 0===s?void 0:s.TEMPLATE_ORG_MODIFYING){var n,s,i,r;const e=null===(i=Pe[0])||void 0===i||null===(r=i.details)||void 0===r?void 0:r.TEMPLATE_ORG_MODIFYING[o];Z.push(null===e||void 0===e?void 0:e.TEMPLATE_ORG_MODIFYING)}A(!0),h(!0)},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,v.jsx)(b.Z,{variant:"contained",disabled:0===(null===Pe||void 0===Pe?void 0:Pe.length),onClick:()=>{C(Pe[0]),u(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{o(!0)},style:{margin:"0 10px 0 10px"},children:"Import"}),(0,v.jsx)($a,{title:"Set Compatible Templates",MappingType:"setcompatibletemplates",filterTemplateData:Pe,sortInfo:re})]})]}),(0,v.jsx)(k.ZP,{item:!0,xs:12,style:{marginTop:"10px"},children:(0,v.jsxs)(T.Z,{width:"100%",overflow:"auto",marginTop:"10px",children:[z&&(0,v.jsx)(T.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,v.jsx)(rt.Z,{})}),!z&&(0,v.jsx)(Me.ZP,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},columns:Se,dataSource:null===re?fe:Te,rowHeight:"auto",checkboxColumn:!0,defaultLimit:100,selected:Y,onSelectionChange:we,handle:e=>ee.current=e?e.current:null,rowStyle:e=>{let{data:t}=e;const a=Object.keys(Y).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===Y?"#dee1f2":"initial",height:"auto !important",whiteSpace:"normal"}},pagination:!0,renderScroller:()=>{var e,t;return null===ee||void 0===ee||null===(e=ee.current)||void 0===e?void 0:e.setScrollTop(0==(null===Pe||void 0===Pe?void 0:Pe.length)?0:null===ee||void 0===ee||null===(t=ee.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:e=>{ce(e)}})]})})]})}),K?(0,v.jsx)(ye.Z,{openAlert:q,openDesc:K,setOpenAlert:X}):(0,v.jsx)(v.Fragment,{}),(0,v.jsxs)(ae.Z,{open:m,children:[(0,v.jsx)(ie.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Mapping"}),(0,v.jsx)(ne.Z,{children:(0,v.jsxs)(se.Z,{children:["Do you want to delete the SetCompatibleTemplate Mapping(s) for Design Organization"," ",(0,v.jsx)("b",{children:null===O||void 0===O?void 0:O.BUID}),(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),(0,v.jsx)("b",{children:"Note:"})," ",fa.adminConstant.common.deleteNote]})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{onClick:pe,children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:async()=>{try{await S.softDeleteTempCompMapping({data:Pe}).then((e=>{pe(),Ee([]),C([]),Q({})}))}catch(e){console.error("Failed to delete mapping:",e)}he("Set compatible template mapping  deleted Successfully","success"),ge(),Ee([])},children:"delete"})]})]}),(0,v.jsx)(pl,{open:p,handleorgAllowedDialogAdd:()=>{h(!1)},handleorgAllowedDialogClose:xe,orgAllowedForm:x,handleorgAllowedFormChange:e=>{const{name:t,value:a}=e.target;if("newKey"===t&&U(a),"newValue"===t&&V(a),"BUID"===t&&y([]),"TEMPLATE_ORG_EXISTING"===t&&(j({...x,BUID:""}),y([])),"TEMPLATE_ORG_MODIFYING"===t)P(a);else{const e={...x,[t]:a};j(e)}},handleAddMVOtempComp:()=>{const e=null===t||void 0===t?void 0:t.filter((e=>e.templateName===x.TEMPLATE_ORG_EXISTING));let a=[];if(a=null===Z||void 0===Z?void 0:Z.map((e=>{const a=t.find((t=>t.templateName===e));return{id:a?a.id:null,TEMPLATE_ORG_MODIFYING:e}})),!x.TEMPLATE_ORG_EXISTING||!x.BUID||(null===Z||void 0===Z?void 0:Z.length)<1)he("Please Enter the required fields","error");else{if(x){var l,n;const t={MappingType:"setcompatibletemplates",BUID:x.BUID,details:{TEMPLATE_ORG_EXISTING:x.TEMPLATE_ORG_EXISTING,MVO_TEMPLATE_OPTION_ID:null===(l=e[0])||void 0===l?void 0:l.id,TEMPLATE_ORG_MODIFYING:a},id:(null===(n=e[0])||void 0===n?void 0:n.id)+"_"+x.BUID.trim()+"_setcompatibletemplates"};!1===M?S.addnewTempCompMapping(t).then((e=>{"success"===(null===e||void 0===e?void 0:e.status)?(ge(),Q({}),setTimeout((()=>{h(!1)}),200),he("Set compatible template mapping added successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&he(null===e||void 0===e?void 0:e.msg,"error")})):S.updateTempCompMapping(t).then((e=>{"success"===e.status?(be(),ge(),Q({}),setTimeout((()=>{h(!1)}),200),A(!1),he("Set compatible template mapping updated successfully","success")):"error"===(null===e||void 0===e?void 0:e.status)&&he(null===e||void 0===e?void 0:e.msg,"error")}))}xe()}},comptempData:f,modifytempdata:Z,isEdit:M,newKey:B,newValue:W,handleAddRow:()=>{const e=D.some((e=>e.key===B)),a=D.some((e=>e.value===W)),l=null===t||void 0===t?void 0:t.filter((e=>e.templateName===B));e||a?G("The key or value already exists"):B&&W?(L((e=>{var t;return[...e,{ALLOWABLE_ORG_TEMPLATE:B,status:W,id:null===(t=l[0])||void 0===t?void 0:t.id}]})),U(""),V(""),G("")):G("Template and its status required")},handleDeleteRow:e=>{L((t=>{const a=[...t];return a.splice(e,1),a}))},keyerror:$,valuesInputList:D,templatesInfo:t,selectedBU:a}),(0,v.jsx)(Ea,{title:"Import Set Compatible Templates Mappings",MappingType:"setcompatibletemplates",selectedBU:a,importTemplate:r,fetchData:ge,setImportTemplate:o})]})},gl=()=>(0,v.jsx)(xl,{}),vl=[{path:"/setcomptempList",element:(0,v.jsx)(ee,{children:(0,v.jsx)(gl,{})})}];var jl=a(763);const fl={minHeight:248},yl=[{name:"MASTER ORG",value:"MASTER ORG"},{name:"Boulder OU",value:"Boulder OU"},{name:"Nanjing OU",value:"Nanjing OU"},{name:"EDE OU",value:"EDE OU"},{name:"Cluj OU",value:"Cluj OU"},{name:"Others",value:"Others"}],Zl=[{name:"BOM",value:"BOM"},{name:"NO BOM",value:"NO BOM"}],Tl=[{name:"YES",value:"YES"},{name:"NO",value:"NO"}],bl=[{name:"PlantGroup",value:"PlantGroup"},{name:"BOM or NO BOM",value:"BOM or NO BOM"},{name:"none or PO Org",value:"none or PO Org"},{name:"RDO OU Org Set",value:"RDO OU Org Set"}],Pl=e=>{let{open:t,handleorgAllowedDialogClose:a,orgAllowedForm:n,handleorgAllowedFormChange:s,handleAddBuPlant:i,isEdit:r,bussinessUnitLists:o,bussinessUnit:d,setPlantValueList:c,plantValueList:m,setDisplayOrder:u}=e;const[p,h]=(0,l.useState)([]),[x,g]=(0,l.useState)([]),[j,f]=(0,l.useState)([]),[y,Z]=(0,l.useState)([]);(0,l.useEffect)((()=>{var e,t;let a=((null===o||void 0===o||null===(e=o.find((e=>e.buName===d)))||void 0===e?void 0:e.plants)||[]).concat({plantName:"None",id:"None"}).map((e=>({name:e.plantName,value:e.plantName})));h(a);let l=(null===o||void 0===o||null===(t=o.find((e=>e.buName===d)))||void 0===t?void 0:t.plants)||[];if(l.map(((e,t)=>(e.value="",e.id=t,Object.assign({},e)))),l=(0,jl.unionBy)(m,l,"plantName"),Z(l),c(l),console.log(m,"plantValueList plantValueList"),f(bl),r)switch(console.log(n.Entity,"orgAllowedForm.Entity"),n.Entity){case"PlantGroup":g(yl),u(1);break;case"BOM or NO BOM":g(Zl),u(2);break;case"none or PO Org":g(p),u(3);break;case"RDO OU Org Set":g(Tl),u(4);break;default:g([])}}),[d,o,n.Entity,r]);const T={name:"value",header:"Value",defaultFlex:1,minWidth:100,rendersInlineEditor:!0,editable:!0,sortable:!1,render:(e,t)=>{let{value:a}=e,{cellProps:l}=t,n=l.editProps.inEdit?l.editProps.value:a;return(0,v.jsx)(N.Z,{style:{width:"100%"},size:"small",autoFocus:l.inEdit,name:l.data.plantName,value:n,onBlur:e=>{l.editProps.onComplete(e)},onChange:S,onFocus:()=>l.editProps.startEdit(),children:null===x||void 0===x?void 0:x.map((e=>(0,v.jsx)(_.Z,{value:e.name,children:e.name},e.name)))})}},P=(0,l.useRef)(null),E=[{name:"id",header:"Id",defaultVisible:!1,defaultWidth:60,type:"string"},{name:"plantName",defaultWidth:180,header:(0,v.jsx)(de.Z,{title:fa.adminConstant.expensemapList.tooltip.PlantName,children:"Plant Name"}),render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.plantName})}},T],S=e=>{let t=[...y].map((t=>(t.plantName===e.target.name&&(t.value=e.target.value),Object.assign({},t))));Z(t),c(t)};return(0,v.jsxs)(ae.Z,{open:t,children:[(0,v.jsxs)(ie.Z,{children:[" ",r?"Edit RDO Plant Mapping ":"Add RDO Plant Mapping"]}),(0,v.jsx)(Qa.$B,{autoHeight:!0,autoHeightMin:100,autoHeightMax:500,autoHide:!0,autoHideTimeout:1e3,autoHideDuration:300,children:(0,v.jsx)(ne.Z,{children:(0,v.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsxs)("span",{children:["Design Organization ",(0,v.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{id:"DataType-select",name:"BUID",fullWidth:!0,value:d,onChange:s,disabled:!0,children:null===o||void 0===o?void 0:o.map((e=>(0,v.jsx)(_.Z,{value:e.businessUnit,children:e.businessUnit},e.businessUnit)))})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsxs)("span",{children:["Entity ",(0,v.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{style:{width:"100%"},name:"Entity",value:n.Entity,onChange:e=>{switch(s(e),e.target.value){case"PlantGroup":g(yl),u(1);break;case"BOM or NO BOM":g(Zl),u(2);break;case"none or PO Org":g(p),u(3);break;case"RDO OU Org Set":g(Tl),u(4);break;default:g([])}},disabled:r,children:null===j||void 0===j?void 0:j.map((e=>(0,v.jsx)(_.Z,{value:e.value,children:e.name},e.name)))})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsxs)("span",{children:["Plant Values ",(0,v.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(Me.ZP,{idProperty:"id",showZebraRows:!1,handle:e=>P.current=e?e.current:null,style:fl,columns:E,dataSource:y})})]})})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{onClick:a,children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:i,children:r?"Update":"Add"})]})]})},El=l.forwardRef((function(e,t){return(0,v.jsx)(We.Z,{elevation:6,ref:t,variant:"filled",...e})})),Sl=(0,Z.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),wl=()=>{const{refreshData:e,bussinessUnit:t,bussinessUnitLists:a,mappingTemplatesInfo:n,updateBussinessUnit:s,updateMappingTemplatesInfo:i}=(0,I.Z)(),[r,o]=(0,l.useState)(!1),[d,c]=(0,l.useState)(""),[m,u]=(0,l.useState)(!1),[p,h]=(0,l.useState)(),[x,j]=(0,l.useState)(),[f,y]=(0,l.useState)(!1),[Z,P]=(0,l.useState)(!1),[E,S]=(0,l.useState)(!0),[w,O]=(0,l.useState)({}),C=new aa.q,M=new Ta,A=new Za,[D,L]=(0,l.useState)(),[N,_]=(0,l.useState)(!1),[B,U]=(0,l.useState)({}),[W,V]=(0,l.useState)(!1),[$,G]=(0,l.useState)(null),[z,H]=(0,l.useState)([]),[Y,Q]=(0,l.useState)([]),[q,X]=(0,l.useState)(0),K=(0,l.useRef)(null),J=K&&K.current&&K.current.dataMap?K.current.dataMap:null,ee=e=>{const t=e.target.value;c(t)},re=()=>{y(!1)},de=(e,t)=>{V(!0),G({severity:t,desc:e})},ce=(e,t)=>{"clickaway"!==t&&u(!1)},me=()=>{P(!1),O(""),H([]),_(!1),fe([]),U({})},ue=()=>{S(!0),C.getAlltemplateMappings().then((e=>{var t;i(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),S(!1)}))};(0,l.useEffect)((()=>{S(e)}),[e]);const[pe,he]=(0,l.useState)([]),[xe,ge]=(0,l.useState)([]);console.log("plantMappingList===",xe),(0,l.useEffect)((()=>{ve()}),[]),(0,l.useEffect)((()=>{if(S(!0),n){let s=n;var e,l;if(s=s.filter((e=>"buplantmapping"===e.MappingType&&"Delete"!==e.actionFlag)),t)s=null===(e=s)||void 0===e?void 0:e.filter((e=>e.BUID===t));if(d&&""!==d)s=null===(l=s)||void 0===l?void 0:l.filter((e=>{var t,a,l;return(null===(t=JSON.stringify(e))||void 0===t?void 0:t.includes(d))||(null===(a=JSON.stringify(e))||void 0===a||null===(l=a.toLocaleLowerCase())||void 0===l?void 0:l.includes(d))}));if(s=s.sort(((e,t)=>e.details.displayOrder-t.details.displayOrder)),a){var i,r,o;let e=!!(m=null===(i=s[0])||void 0===i||null===(r=i.details)||void 0===r?void 0:r.PLANT)&&Object.entries(m).sort(((e,t)=>e[1].localeCompare(t[1]))).reduce(((e,t)=>{let[a,l]=t;return e[a]=l,e}),{}),l=(null===(o=a.find((e=>e.buName===t)))||void 0===o?void 0:o.plants)||[];const n=Object.keys(e).map((t=>{const a=l.find((e=>(null===e||void 0===e?void 0:e.plantName)===t));return{plantName:t,id:null===a||void 0===a?void 0:a.id,value:e[t]}})),d={};n.forEach((e=>{s.forEach((a=>{var l;if("PlantGroup"===(null===a||void 0===a||null===(l=a.details)||void 0===l?void 0:l.Entity)&&a.BUID===t){var n;const t=null===a||void 0===a||null===(n=a.details)||void 0===n?void 0:n.PLANT[e.plantName];console.log("plantvalue===",t),d[t]=(d[t]||0)+1}}))}));const c=n.map((e=>({name:e.plantName,header:e.plantName,defaultWidth:150,render:e=>(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})})));he(c)}if(Y.length>0){const e=Y.filter((e=>"buplantmapping"==e.MappingType));e.length>0&&"buplantmapping"===e[0].MappingType&&s.forEach((t=>{e[0].changes.forEach((e=>{if(t.id==e.id){t.details.draft_Plants={};for(let a in t.details.PLANT)console.log("obj2.details.PLANT[key]",e.details.PLANT[a]),console.log("obj1.details.PLANT[key]",t.details.PLANT[a]),t.details.draft_Plants[a]=e.details.PLANT[a].toLocaleLowerCase()!==t.details.PLANT[a].toLocaleLowerCase()?e.details.PLANT[a]:null}}))}))}setTimeout((()=>{let e=s.map((e=>{var t;return Object.keys(null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.PLANT).map((t=>{var a,l,n,s,i,r;null!==e&&void 0!==e&&null!==(a=e.details)&&void 0!==a&&a.draft_Plants?e[t]=null!==e&&void 0!==e&&null!==(l=e.details)&&void 0!==l&&l.draft_Plants[t]?`${null===e||void 0===e||null===(n=e.details)||void 0===n?void 0:n.draft_Plants[t]} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through"> ${null===e||void 0===e||null===(s=e.details)||void 0===s?void 0:s.PLANT[t]} <span>`:null===e||void 0===e||null===(i=e.details)||void 0===i?void 0:i.PLANT[t]:e[t]=null===e||void 0===e||null===(r=e.details)||void 0===r?void 0:r.PLANT[t]})),e}));ge(e),S(!1)}),500)}else{var c;if(!t)s(F.XE?null===(c=F.XE[0])||void 0===c?void 0:c.value:"")}var m}),[n,t,d,s,a,Y]);const ve=()=>{S(!0),A.getAlldraftChanges().then((e=>{let a=t||"Micro Motion",l=e.data.filter((e=>e.BUID===a));Q(l),S(!1)}))},[je,fe]=(0,l.useState)([]),Ze=[{name:"Entity",header:"Entity",render:e=>{var t;let{data:a}=e;return(0,v.jsx)("div",{children:(0,v.jsx)("b",{children:null===a||void 0===a||null===(t=a.details)||void 0===t?void 0:t.Entity})})},defaultWidth:150},...pe],Te=(0,l.useCallback)((e=>{let{selected:t}=e;U(t)}),[]);(0,l.useEffect)((()=>{const e=!0===B?J:B,t=e&&Object.keys(e).map((t=>e[t]));fe(t)}),[B,J]);return(0,v.jsxs)(Sl,{children:[(0,v.jsx)(T.Z,{className:"breadcrumb",children:(0,v.jsx)(g.aG,{routeSegments:[{name:"RDO Plant Mapping "}]})}),(0,v.jsx)(g.sF,{children:(0,v.jsxs)(k.ZP,{container:!0,spacing:1,alignItems:"top",children:[(0,v.jsx)(k.ZP,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,v.jsxs)(k.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,v.jsx)(oe.Z,{type:"text",name:"search",size:"small",onChange:ee,value:d,style:{width:"100%"}})}),(0,v.jsx)(k.ZP,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{},children:"Search"})})]})}),(0,v.jsxs)(k.ZP,{item:!0,md:8,sm:6,xs:12,className:"font-medium",children:[(0,v.jsxs)(k.ZP,{container:!0,alignItems:"center",justify:"flex-end",style:{display:"none"},children:[(0,v.jsx)(k.ZP,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"right"},children:(0,v.jsx)("label",{style:{whiteSpace:"nowrap",paddingTop:"11px"},children:"Design Organization:"})}),(0,v.jsx)(k.ZP,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"left"},children:(0,v.jsx)(R,{onChange:ee,selectedvalue:t,style:{width:"100%"},optionsValues:F.XE,onChangeFunc:e=>{U({}),fe([]),s(e),c(""),fe([]),H([])}})})]}),(0,v.jsxs)(k.ZP,{item:!0,xs:12,className:"font-medium",style:{marginTop:"0px",textAlign:"right"},children:[(0,v.jsx)(b.Z,{variant:"contained",component:te.Link,onClick:()=>{O({BUID:t}),P(!0)},style:{margin:"0 0px 0 10px"},children:"Add"}),(0,v.jsx)(b.Z,{variant:"contained",disabled:1!==(null===je||void 0===je?void 0:je.length),onClick:()=>{var e,a,l,n,s,i;const r={Entity:null===(e=je[0])||void 0===e||null===(a=e.details)||void 0===a?void 0:a.Entity};O({...{BUID:t},...r});const o=Object.entries(null===(l=je[0])||void 0===l||null===(n=l.details)||void 0===n?void 0:n.PLANT).map(((e,t)=>{let[a,l]=e;return{plantName:a,value:l,id:t}}));X(null===(s=je[0])||void 0===s||null===(i=s.details)||void 0===i?void 0:i.displayOrder),H(o),_(!0),P(!0)},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,v.jsx)(b.Z,{variant:"contained",disabled:0===(null===je||void 0===je?void 0:je.length),onClick:()=>{L(je[0]),y(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{o(!0)},style:{margin:"0 10px 0 10px"},children:"Import"}),(0,v.jsx)($a,{title:"RDO Plant Mapping",MappingType:"buplantmapping",filterTemplateData:je})]})]}),(0,v.jsx)(k.ZP,{item:!0,xs:12,style:{marginTop:"10px"},children:(0,v.jsxs)(T.Z,{width:"100%",overflow:"auto",marginTop:"10px",children:[E&&(0,v.jsx)(T.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,v.jsx)(rt.Z,{})}),!E&&(0,v.jsx)(Me.ZP,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},rowStyle:e=>{let{data:t}=e;const a=Object.keys(B).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===B?"#dee1f2":"initial",width:"auto"}},columns:Ze,dataSource:xe,defaultLimit:100,checkboxColumn:!0,selected:B,sortable:!1,onSelectionChange:Te,enableColumnAutosize:!0,handle:e=>K.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===K||void 0===K||null===(e=K.current)||void 0===e?void 0:e.setScrollTop(0==(null===je||void 0===je?void 0:je.length)?0:null===K||void 0===K||null===(t=K.current)||void 0===t?void 0:t.getScrollTop())}})]})})]})}),(0,v.jsx)(Ue.Z,{open:m,autoHideDuration:3e3,onClose:ce,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,v.jsx)(El,{onClose:ce,severity:x,sx:{width:"100%"},children:p})}),$?(0,v.jsx)(ye.Z,{openAlert:W,openDesc:$,setOpenAlert:V}):(0,v.jsx)(v.Fragment,{}),(0,v.jsxs)(ae.Z,{open:f,children:[(0,v.jsx)(ie.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Mapping"}),(0,v.jsx)(ne.Z,{children:(0,v.jsxs)(se.Z,{children:["Do you want to delete the RDO Plant Mapping(s) for Design Organization ",(0,v.jsx)("b",{children:null===D||void 0===D?void 0:D.BUID}),(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),(0,v.jsx)("b",{children:"Note:"})," ",fa.adminConstant.common.deleteNote]})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{onClick:re,children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:async()=>{try{await M.softDeleteTempCompMapping({data:je}).then((e=>{re(),fe([]),L([]),U({}),V(!0),G({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))}catch(e){console.error("Failed to delete mapping:",e)}ve(),ue(),fe([])},children:"delete"})]})]}),(0,v.jsx)(Pl,{open:Z,handleorgAllowedDialogAdd:()=>{P(!1)},handleorgAllowedDialogClose:me,orgAllowedForm:w,handleorgAllowedFormChange:e=>{const{name:t,value:a}=e.target,l={...w,[t]:a};O(l)},handleAddBuPlant:()=>{if(!w.Entity||!w.BUID||z.length<1)return void de("Please Enter the required fields","error");const e=z.reduce(((e,t)=>(e[t.plantName]=t.value,e)),{});if(w){const t={MappingType:"buplantmapping",BUID:w.BUID,details:{Entity:w.Entity,displayOrder:q,PLANT:e},id:`${w.Entity}_${w.BUID}_buplantmapping`};!1===N?M.addnewTempCompMapping(t).then((e=>{"success"===(null===e||void 0===e?void 0:e.status)?(ue(),setTimeout((()=>{P(!1)}),200),U({}),de("RDO Plant Mapping added successfully","success")):de(null===e||void 0===e?void 0:e.msg,null===e||void 0===e?void 0:e.status)})):M.updateTempCompMapping(t).then((e=>{"success"===e.status?(setTimeout((()=>{P(!1),ve(),ue()}),200),_(!1),U({}),de("RDO Plant Mapping updated successfully","success")):de(null===e||void 0===e?void 0:e.msg,null===e||void 0===e?void 0:e.status)}))}me()},isEdit:N,bussinessUnitLists:a,bussinessUnit:t,setPlantValueList:H,plantValueList:z,setDisplayOrder:X}),(0,v.jsx)(Ea,{title:"Import RDO Plant Mappings",MappingType:"buplantmapping",selectedBU:t,importTemplate:r,fetchData:ue,setImportTemplate:o})]})},Ol=()=>(0,v.jsx)(wl,{}),Cl=[{path:"/buplantList",element:(0,v.jsx)(ee,{children:(0,v.jsx)(Ol,{})})}],Ml={minHeight:248},Al=e=>{let{open:t,handleorgAllowedDialogClose:a,orgAllowedForm:n,handleorgAllowedFormChange:s,handleAddOrgAllowedValues:i,isEdit:r,templatesInfo:o,bussinessUnitLists:d,selectedBU:c,setPlantValueList:m,plantValueList:u}=e;const[p,h]=(0,l.useState)([]),[x,g]=(0,l.useState)([]);(0,l.useEffect)((()=>{h([c])}),[n.EXPENSE_TEMPLATE,c]),(0,l.useEffect)((()=>{var e;let t=(null===d||void 0===d||null===(e=d.find((e=>e.buName===n.BUID)))||void 0===e?void 0:e.plants)||[];t.map(((e,t)=>(e.expense="",e.id=t,Object.assign({},e)))),t=(0,jl.unionBy)(u,t,"plantName"),g(t),m(t)}),[n.BUID,c,d,m]);const[j,f]=(0,l.useState)([]);(0,l.useEffect)((()=>{if(c){let e=o.filter((e=>{var t;return null===e||void 0===e||null===(t=e.BU)||void 0===t?void 0:t.includes(c)}));f(e)}h([c])}),[c,o]);const y=e=>{const t=(0,l.useRef)(null);return(0,l.useEffect)((()=>{t&&t.current&&e.autoFocus&&t.current.focus()}),[e.autoFocus]),(0,v.jsx)("input",{...e,inputRef:t})},Z={name:"expense",header:"Expense",defaultFlex:1,minWidth:100,rendersInlineEditor:!0,editable:!0,render:(e,t)=>{let{value:a}=e,{cellProps:l}=t,n=l.editProps.inEdit?l.editProps.value:a;return(0,v.jsx)(y,{type:"number",autoFocus:l.inEdit,value:n,onBlur:e=>{l.editProps.onComplete(e)},onChange:l.editProps.onChange,onFocus:()=>l.editProps.startEdit(),onKeyDown:e=>{"Escape"===e.key&&l.editProps.onCancel(e),"Enter"===e.key&&l.editProps.onComplete(e)}})}},T=(0,l.useRef)(null),P=[{name:"id",header:"Id",defaultVisible:!1,defaultWidth:60,type:"string"},{name:"plantName",defaultWidth:180,header:(0,v.jsx)(de.Z,{title:fa.adminConstant.expensemapList.tooltip.PlantName,children:"Plant Name"}),render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.plantName})}},Z],E=(0,l.useCallback)((e=>{let{value:t,columnId:a,rowId:l}=e;const n=[...x];n[l]=Object.assign({},n[l],{[a]:t}),g(n),m(n)}),[x,m]);return(0,v.jsxs)(ae.Z,{open:t,children:[(0,v.jsxs)(ie.Z,{children:[" ",r?"Edit Expense Mapping ":"Add Expense Mapping"]}),(0,v.jsx)(Qa.$B,{autoHeight:!0,autoHeightMin:100,autoHeightMax:500,autoHide:!0,autoHideTimeout:1e3,autoHideDuration:300,children:(0,v.jsx)(ne.Z,{children:(0,v.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsxs)("span",{children:["Design Organization ",(0,v.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{id:"DataType-select",name:"BUID",fullWidth:!0,value:c,onChange:s,disabled:!0,children:null===p||void 0===p?void 0:p.map((e=>(0,v.jsx)(_.Z,{value:e,children:e},e)))})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsxs)("span",{children:["Template ",(0,v.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(N.Z,{name:"EXPENSE_TEMPLATE",fullWidth:!0,value:n.EXPENSE_TEMPLATE,onChange:s,disabled:r,children:null===j||void 0===j?void 0:j.map((e=>(0,v.jsx)(_.Z,{value:e.templateName,children:e.templateName},e.templateName)))})}),(0,v.jsx)(k.ZP,{item:!0,md:3,sm:4,xs:12,children:(0,v.jsxs)("span",{children:["Plant Expenses ",(0,v.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,v.jsx)(k.ZP,{item:!0,md:9,sm:8,xs:12,children:(0,v.jsx)(Me.ZP,{idProperty:"id",showZebraRows:!1,handle:e=>T.current=e?e.current:null,style:Ml,onEditComplete:E,columns:P,dataSource:x})})]})})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{onClick:a,children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:i,children:r?"Update":"Add"})]})]})},Dl=(0,Z.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Ll=()=>{const{refreshData:e,templatesInfo:t,bussinessUnit:a,bussinessUnitLists:n,mappingTemplatesInfo:s,updateBussinessUnit:i,updateMappingTemplatesInfo:r}=(0,I.Z)(),[o,d]=(0,l.useState)(!1),[c,m]=(0,l.useState)(""),[u,p]=(0,l.useState)(!1),[h,x]=(0,l.useState)(!1),[j,f]=(0,l.useState)({}),y=new Ta,Z=new aa.q,P=new Za,[E,S]=(0,l.useState)(),[w,O]=(0,l.useState)(!1),[C,M]=(0,l.useState)([]),[A,D]=(0,l.useState)([]),[L,N]=(0,l.useState)(!0),[_,B]=(0,l.useState)({}),[U,W]=(0,l.useState)(!1),[V,$]=(0,l.useState)(null),[G,z]=(0,l.useState)([]),[H,Y]=(0,l.useState)([]),[Q,q]=(0,l.useState)({}),X=(0,l.useRef)(null),K=X&&X.current&&X.current.dataMap?X.current.dataMap:null,J=e=>{const t=e.target.value;m(t)},ee=()=>{p(!1)},re=(e,t)=>{W(!0),$({severity:t,desc:e})};let ce=new Set;C&&C.length>0&&C.forEach((e=>{var t;const a=null===(t=e.details)||void 0===t?void 0:t.EXPENSE_PLANTS;if(a){Object.keys(a).forEach((e=>{ce.add(e)}))}}));const me=Array.from(ce).map((e=>({name:e,header:e,sortable:!1,defaultWidth:90,render:e=>(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})}))),ue=()=>{x(!1),f(""),z([]),O(!1),D([]),B({})},pe=[{name:"EXPENSE_TEMPLATE",header:(0,v.jsx)(de.Z,{title:fa.adminConstant.expensemapList.tooltip.EXPENSE_TEMPLATE,children:"Template"}),defaultWidth:250,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.EXPENSE_TEMPLATE})}},{name:"BUID",header:(0,v.jsx)(de.Z,{title:fa.adminConstant.expensemapList.tooltip.RDO,children:"Design Organization"}),defaultWidth:150},...me],he=()=>{N(!0),Z.getAlltemplateMappings().then((e=>{var t;r(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList),N(!1)}))};(0,l.useEffect)((()=>{N(e)}),[e]);const[xe,ge]=(0,l.useState)([]),ve=(0,De.wh)(xe,"EXPENSE_TEMPLATE");(0,l.useEffect)((()=>{je()}),[]),(0,l.useEffect)((()=>{if(N(!0),s){let l=s;var e,t;if(l=l.filter((e=>"expensemapping"===e.MappingType&&"Delete"!==e.actionFlag)),a)l=null===(e=l)||void 0===e?void 0:e.filter((e=>e.BUID===a));if(c&&""!==c)l=null===(t=l)||void 0===t?void 0:t.filter((e=>{var t,a,l;return(null===(t=JSON.stringify(e))||void 0===t?void 0:t.includes(c))||(null===(a=JSON.stringify(e))||void 0===a||null===(l=a.toLocaleLowerCase())||void 0===l?void 0:l.includes(c))}));if(H.length>0){const e=H.filter((e=>"expensemapping"==e.MappingType));e.length>0&&"expensemapping"===e[0].MappingType&&l.forEach((t=>{e[0].changes.forEach((e=>{if(t.id===e.id){t.details.draftValue_EXPENSE_TEMPLATE=e.details.EXPENSE_TEMPLATE!==t.details.EXPENSE_TEMPLATE?e.details.EXPENSE_TEMPLATE:null,t.details.draft_Plants={};for(let a in t.details.EXPENSE_PLANTS)t.details.draft_Plants[a]=e.details.EXPENSE_PLANTS[a]!==t.details.EXPENSE_PLANTS[a]?e.details.EXPENSE_PLANTS[a]:null}}))}))}M(l);let n=l.map((e=>{var t,a;return e.EXPENSE_TEMPLATE=null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.EXPENSE_TEMPLATE,Object.keys(null===e||void 0===e||null===(a=e.details)||void 0===a?void 0:a.EXPENSE_PLANTS).map((t=>{var a,l,n,s,i,r;null!==e&&void 0!==e&&null!==(a=e.details)&&void 0!==a&&a.draft_Plants?e[t]=null!==e&&void 0!==e&&null!==(l=e.details)&&void 0!==l&&l.draft_Plants[t]?`${null===e||void 0===e||null===(n=e.details)||void 0===n?void 0:n.draft_Plants[t]} &nbsp;&nbsp;&nbsp;&nbsp;<span className="previousSelection" style="color:#f00; font-weight:bold;text-decoration: line-through"> ${null===e||void 0===e||null===(s=e.details)||void 0===s?void 0:s.EXPENSE_PLANTS[t]} <span>`:null===e||void 0===e||null===(i=e.details)||void 0===i?void 0:i.EXPENSE_PLANTS[t]:e[t]=null===e||void 0===e||null===(r=e.details)||void 0===r?void 0:r.EXPENSE_PLANTS[t]})),e}));setTimeout((()=>{ge(n),N(!1)}),500)}else{var l;if(!a)i(F.XE?null===(l=F.XE[0])||void 0===l?void 0:l.value:"")}}),[s,a,c,i,H]);const je=()=>{N(!0),P.getAlldraftChanges().then((e=>{let t=a||"Micro Motion",l=[];e.data&&(l=e.data.filter((e=>e.BUID===t))),Y(l),N(!1)}))},fe=(0,l.useCallback)((e=>{let{selected:t}=e;B(t)}),[]);(0,l.useEffect)((()=>{const e=!0===_?K:_,t=e&&Object.keys(e).map((t=>e[t]));D(t)}),[_,K]);return(0,v.jsxs)(Dl,{children:[(0,v.jsx)(T.Z,{className:"breadcrumb",children:(0,v.jsx)(g.aG,{routeSegments:[{name:"Expense Mapping"}]})}),(0,v.jsx)(g.sF,{children:(0,v.jsxs)(k.ZP,{container:!0,spacing:1,alignItems:"top",children:[(0,v.jsx)(k.ZP,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,v.jsxs)(k.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,v.jsx)(oe.Z,{type:"text",name:"search",size:"small",onChange:J,value:c,style:{width:"100%"}})}),(0,v.jsx)(k.ZP,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{},children:"Search"})})]})}),(0,v.jsxs)(k.ZP,{item:!0,md:8,sm:6,xs:12,className:"font-medium",children:[(0,v.jsxs)(k.ZP,{container:!0,alignItems:"center",justify:"flex-end",style:{display:"none"},children:[(0,v.jsx)(k.ZP,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"right"},children:(0,v.jsx)("label",{style:{whiteSpace:"nowrap",paddingTop:"11px"},children:"Design Organization:"})}),(0,v.jsx)(k.ZP,{item:!0,xs:12,sm:6,md:6,className:"font-medium",style:{textAlign:"left"},children:(0,v.jsx)(R,{onChange:J,selectedvalue:a,style:{width:"100%"},optionsValues:F.XE,onChangeFunc:e=>{B({}),D([]),i(e),m(""),D([])}})})]}),(0,v.jsxs)(k.ZP,{item:!0,xs:12,className:"font-medium",style:{marginTop:"0px",textAlign:"right"},children:[(0,v.jsx)(b.Z,{variant:"contained",component:te.Link,onClick:()=>{f({BUID:a}),x(!0)},style:{margin:"0 0px 0 10px"},children:"Add"}),(0,v.jsx)(b.Z,{variant:"contained",component:te.Link,disabled:1!==(null===A||void 0===A?void 0:A.length),onClick:()=>{var e,t,a,l;const n=null===(e=A[0])||void 0===e?void 0:e.details,s={BUID:null===(t=A[0])||void 0===t?void 0:t.BUID};f({...n,...s});const i=Object.entries(null===(a=A[0])||void 0===a||null===(l=a.details)||void 0===l?void 0:l.EXPENSE_PLANTS).map(((e,t)=>{let[a,l]=e;return{plantName:a,expense:l,id:t}}));(0,De.wh)(i,"plantName"),z(i),O(!0),x(!0)},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,v.jsx)(b.Z,{variant:"contained",component:te.Link,disabled:0===(null===A||void 0===A?void 0:A.length),onClick:()=>{S(A[0]),p(!0)},style:{margin:"0 0px 0 10px"},children:"Delete"}),(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{d(!0)},style:{margin:"0 10px 0 10px"},children:"Import"}),(0,v.jsx)($a,{title:"Expense Mapping",MappingType:"expensemapping",filterTemplateData:A,sortInfo:Q})]})]}),(0,v.jsx)(k.ZP,{item:!0,xs:12,style:{marginTop:"10px"},children:(0,v.jsxs)(T.Z,{width:"100%",overflow:"auto",marginTop:"10px",children:[L&&(0,v.jsx)(T.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,v.jsx)(rt.Z,{})}),!L&&(0,v.jsx)(Me.ZP,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},columns:pe,dataSource:null===Q?C:ve,rowHeight:null,checkboxColumn:!0,defaultLimit:100,selected:_,onSelectionChange:fe,handle:e=>X.current=e?e.current:null,rowStyle:e=>{let{data:t}=e;const a=Object.keys(_).includes(t.id);return{backgroundColor:void 0!==t.actionFlag?"rgb(25 118 210 / 20%)":"",zIndex:99,background:a||!0===_?"#dee1f2":"initial"}},pagination:!0,renderScroller:()=>{var e,t;return null===X||void 0===X||null===(e=X.current)||void 0===e?void 0:e.setScrollTop(0==(null===A||void 0===A?void 0:A.length)?0:null===X||void 0===X||null===(t=X.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:e=>{q(e)}})]})})]})}),V?(0,v.jsx)(ye.Z,{openAlert:U,openDesc:V,setOpenAlert:W}):(0,v.jsx)(v.Fragment,{}),(0,v.jsxs)(ae.Z,{open:u,children:[(0,v.jsx)(ie.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Mapping"}),(0,v.jsx)(ne.Z,{children:(0,v.jsxs)(se.Z,{children:["Do you want to delete the ExpenseAcctByTemplateAndPlant Mapping(s) for Design Organization"," ",(0,v.jsx)("b",{children:null===E||void 0===E?void 0:E.BUID}),(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),(0,v.jsx)("b",{children:"Note:"})," ",fa.adminConstant.common.deleteNote]})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{onClick:ee,children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:async()=>{try{await y.softDeleteTempCompMapping({data:A}).then((e=>{ee(),D([]),S([]),B({})}))}catch(e){console.error("Failed to delete mapping:",e)}re("Expense Mapping deleted Successfully","success"),he(),D([])},children:"delete"})]})]}),(0,v.jsx)(Al,{open:h,handleorgAllowedDialogAdd:()=>{x(!1)},handleorgAllowedDialogClose:ue,orgAllowedForm:j,handleorgAllowedFormChange:e=>{const{name:t,value:a}=e.target,l={...j,[t]:a};f(l)},handleAddOrgAllowedValues:()=>{const e=null===t||void 0===t?void 0:t.filter((e=>e.templateName===j.EXPENSE_TEMPLATE)),a=G.reduce(((e,t)=>(e[t.plantName]=0===Number(t.expense)||isNaN(Number(t.expense))?"":Number(t.expense),e)),{});if(!j.EXPENSE_TEMPLATE||!j.BUID||G.length<1)re("Please Enter the required fields","error");else{if(j){const t={BUID:j.BUID,MappingType:"expensemapping",id:e[0].id+"_"+j.BUID.trim()+"_expensemapping",details:{EXPENSE_TEMPLATE:j.EXPENSE_TEMPLATE,EXPENSE_TEMPLATE_ID:e[0].id,EXPENSE_PLANTS:a}};!1===w?y.addnewTempCompMapping(t).then((e=>{"success"===(null===e||void 0===e?void 0:e.status)?(he(),setTimeout((()=>{x(!1)}),200),B({}),re("Expense Mapping added successfully","success")):re(null===e||void 0===e?void 0:e.msg,null===e||void 0===e?void 0:e.status)})):y.updateTempCompMapping(t).then((e=>{"success"===e.status?(setTimeout((()=>{x(!1),he()}),200),O(!1),B({}),re("Expense Mapping updated successfully","success")):re(null===e||void 0===e?void 0:e.msg,null===e||void 0===e?void 0:e.status)}))}ue()}},isEdit:w,templatesInfo:t,bussinessUnitLists:n,selectedBU:a,setPlantValueList:z,plantValueList:G}),(0,v.jsx)(Ea,{title:"Import Expense Mappings",MappingType:"expensemapping",selectedBU:a,importTemplate:o,fetchData:he,setImportTemplate:d})]})},Nl=()=>(0,v.jsx)(Ll,{}),_l=[{path:"/expensemapList",element:(0,v.jsx)(ee,{children:(0,v.jsx)(Nl,{})})}];var Il=a(93457),Rl=a(8007);const kl=Rl.Ry().shape({description:Rl.Z_().required("This field is required").max(500,"Input should not exceed 500 characters")}),Fl=e=>(0,v.jsx)(ut.J9,{initialValues:{description:null},validationSchema:kl,enableReinitialize:!0,validateOnChange:!1,validateOnBlur:!1,onSubmit:(t,a)=>{let{resetForm:l}=a;e.saveApplyChanges(t),l()},children:t=>{let{errors:a,touched:l,submitForm:n,setFieldValue:s,setErrors:i,setTouched:r}=t;return(0,v.jsx)(ut.l0,{children:(0,v.jsxs)(ae.Z,{open:null===e||void 0===e?void 0:e.applyChangesDialog,maxWidth:"sm",fullWidth:!0,children:[(0,v.jsx)(ie.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Do you want to apply your changes?"}),(0,v.jsx)(ne.Z,{children:(0,v.jsx)(se.Z,{children:(0,v.jsxs)(k.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,v.jsxs)(k.ZP,{item:!0,md:12,sm:12,xs:12,className:"font-medium",children:["Comments",(0,v.jsx)("span",{style:{color:"#FF3D57"},children:"*"}),":"]}),(0,v.jsxs)(k.ZP,{item:!0,md:12,sm:12,xs:12,className:"font-medium",children:[(0,v.jsx)(ut.gN,{as:"textarea",id:"description",name:"description",rows:"10",style:{width:"100%",borderRadius:"10px"}}),(0,v.jsx)(ut.Bc,{name:"description",component:"div",style:{color:"red"}})]})]})})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{onClick:()=>{null===e||void 0===e||e.setApplyChangesDialog(!1),i({}),r({},!1)},children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:n,children:"Apply"})]})]})})}}),Bl=(0,Il.Z)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),Ul=()=>{const{bussinessUnit:e,updateBussinessUnit:t,updateMappingTemplatesInfo:a}=(0,I.Z)(),[n,s]=(0,l.useState)([]),[i,r]=(0,l.useState)([]),[o,d]=(0,l.useState)(""),[c,m]=(0,l.useState)(!1),[u,p]=(0,l.useState)(!1),[h,x]=(0,l.useState)([]),j=(0,l.useRef)(null),[f,y]=(0,l.useState)(!1),[Z,P]=(0,l.useState)(null),E=new Za,S=new aa.q,w=[{name:"userName",header:"User Name",defaultFlex:1,defaultWidth:50},{name:"MappingType",header:"Mapping Type",defaultFlex:1,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.MappingType})}},{name:"BUID",header:"Design Organization",defaultFlex:1,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.BUID})}},{name:"modifiedDateTime",header:"Modified Date & Time ",defaultFlex:1,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null!==t&&void 0!==t&&t.modifiedDateTime?null===t||void 0===t?void 0:t.modifiedDateTime:"-"})}},{name:"Action",header:"Action",defaultFlex:1,render:e=>{let{data:t}=e;return(0,v.jsxs)("div",{children:[(0,v.jsx)(b.Z,{variant:"contained",style:{margin:"0px 10px 0px 0px"},onClick:()=>{x([t]),m(!0)},children:"Apply"}),(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{M(t.id)},children:"Discard"})]})}}],O=()=>{var t;let a=[];a=""===o?n:null===n||void 0===n?void 0:n.filter((e=>Object.values(e).join().toLowerCase().includes(o.toLowerCase()))),a=null===(t=a)||void 0===t?void 0:t.filter((t=>Object.values(t).join().toLowerCase().includes(e.toLowerCase()))),r(a)},C=()=>{S.getAlltemplateMappings().then((e=>{var t;a(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templateMappingList)}))},M=e=>{try{p(!0),E.discardDraftChanges(e).then((e=>{m(!1),x([]),C(),A(),p(!1),"success"===(null===e||void 0===e?void 0:e.status)?(y(!0),P({severity:"success",desc:null===e||void 0===e?void 0:e.msg})):"failed"===(null===e||void 0===e?void 0:e.status)&&(y(!0),P({severity:"error",desc:null===e||void 0===e?void 0:e.msg}))}))}catch(t){}},A=()=>{p(!0),E.getAlldraftChanges().then((t=>{s(null===t||void 0===t?void 0:t.data);let a=e||"Micro Motion",l=t.data.filter((e=>e.BUID===a));r(l),p(!1)}))};return(0,l.useEffect)((()=>{A()}),[]),(0,l.useEffect)((()=>{O()}),[o,e]),(0,v.jsxs)(Bl,{children:[(0,v.jsx)(T.Z,{className:"breadcrumb",children:(0,v.jsx)(g.aG,{routeSegments:[{name:"Draft Changes"}]})}),(0,v.jsx)(g.sF,{children:(0,v.jsxs)(k.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,v.jsxs)(k.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,v.jsx)(oe.Z,{type:"text",name:"search",size:"small",onChange:e=>{d(e.target.value)},value:o,style:{width:"100%"}})}),(0,v.jsx)(k.ZP,{item:!0,md:5,sm:6,xs:12,className:"font-medium",children:(0,v.jsx)(b.Z,{variant:"contained",onClick:O,children:"Search"})})]})}),(0,v.jsx)(k.ZP,{item:!0,md:8,sm:6,xs:12,className:"font-medium",children:(0,v.jsx)(k.ZP,{container:!0,alignItems:"center",style:{textAlign:"right"},children:(0,v.jsxs)(k.ZP,{item:!0,md:12,sm:12,xs:12,className:"font-medium",style:{paddingRight:"10px"},children:[(0,v.jsx)("label",{style:{textWrap:"nowrap",paddingTop:"10px"},children:"Design Organization:"}),(0,v.jsx)(R,{selectedvalue:e,style:{width:"25%"},onChangeFunc:e=>{t(e),d("")}})]})})}),(0,v.jsxs)(T.Z,{width:"100%",overflow:"auto",marginTop:"10px",children:[u&&(0,v.jsx)(T.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,v.jsx)(rt.Z,{})}),!u&&(0,v.jsx)(Me.ZP,{showZebraRows:!1,defaultLimit:100,style:{minHeight:550},columns:w,dataSource:i,onRowClick:e=>(e=>{const t=h.some((t=>t.id===e.id));x(t?t=>t.filter((t=>t.id!==e.id)):[e])})(e.data),pagination:!0,renderScroller:()=>{var e,t;return null===j||void 0===j||null===(e=j.current)||void 0===e?void 0:e.setScrollTop(0==(null===h||void 0===h?void 0:h.length)?0:null===j||void 0===j||null===(t=j.current)||void 0===t?void 0:t.getScrollTop())}})]})]})}),(0,v.jsx)(Fl,{applyChangesDialog:c,setApplyChangesDialog:m,saveApplyChanges:e=>{try{var t,a,l;if(p(!0),!h.length)return y(!0),void P({severity:"error",desc:"Please select row."});const n={id:null===(t=h[0])||void 0===t?void 0:t.id,reason:e.description,BUID:null===(a=h[0])||void 0===a?void 0:a.BUID,MappingType:null===(l=h[0])||void 0===l?void 0:l.MappingType};E.applyDraftChanges(n).then((e=>{m(!1),x([]),C(),A(),p(!1),"success"===(null===e||void 0===e?void 0:e.status)?(y(!0),P({severity:"success",desc:null===e||void 0===e?void 0:e.msg})):"failed"===(null===e||void 0===e?void 0:e.status)&&(y(!0),P({severity:"error",desc:null===e||void 0===e?void 0:e.msg}))}))}catch(n){}}}),Z?(0,v.jsx)(ye.Z,{openAlert:f,openDesc:Z,setOpenAlert:y}):(0,v.jsx)(v.Fragment,{})]})},Wl=()=>(0,v.jsx)(Ul,{}),Vl=[{path:"/draftChanges",element:(0,v.jsx)(ee,{children:(0,v.jsx)(Wl,{})})}],$l=JSON.parse('[{"userId":"123456","userName":"joe","dateTime":"28/11/2023","reason":"Update template for BU Micro Motion","BU":"Micro Motion","mappingType":"orgAllowedTemplate","version":"1"},{"userId":"123456","userName":"adams","dateTime":"29/11/2023","reason":"Update template for BU Micro Motion","BU":"Micro Motion","mappingType":"orgAllowedTemplate","version":"2"},{"userId":"123456","userName":"adams","dateTime":"29/11/2023","reason":"Add template for BU Micro Motion","BU":"Micro Motion","mappingType":"orgAllowedTemplate","version":"3"},{"userId":"123456","userName":"joe","dateTime":"30/11/2023","reason":"Add new template for BU Micro Motion","BU":"Micro Motion","mappingType":"orgAllowedTemplate","version":"4"}]'),Gl=(0,Z.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),zl=()=>{const{bussinessUnit:e,updateBussinessUnit:t}=(0,I.Z)(),[a,n]=(0,l.useState)($l),[s,i]=(0,l.useState)([]),[r,o]=(0,l.useState)(""),[d,c]=(0,l.useState)(!0),[m,u]=(0,l.useState)([]),[p,h]=(0,l.useState)([]),x=new Za,[j,f]=(0,l.useState)("orgallowedvalues"),y=(0,l.useRef)(null),Z=[{name:"version",header:"Version",defaultFlex:.6,defaultWidth:20,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.version})}},{name:"dateTime",header:"Change Date",defaultFlex:2,render:e=>{let{data:t}=e,a=new Date(parseInt(null===t||void 0===t?void 0:t.dateTime));console.log(a,"date");const l=a.getFullYear(),n=String(a.getMonth()+1).padStart(2,"0"),s=String(a.getDate()).padStart(2,"0"),i=String(a.getHours()).padStart(2,"0"),r=`${l}-${n}-${s} ${i%12||12}:${String(a.getMinutes()).padStart(2,"0")}:${String(a.getSeconds()).padStart(2,"0")} ${i>=12?"PM":"AM"}`;return(0,v.jsx)("div",{children:r})}},{name:"userName",header:"Requested By",defaultFlex:1,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.userName})}},{name:"MappingType ",header:"Mapping Type",defaultFlex:1,defaultWidth:200,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.MappingType})}},{name:"reason",header:"Change Details",defaultFlex:3,defaultWidth:200,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.reason})}}],P=()=>{let e=[];e=""===r?a:null===a||void 0===a?void 0:a.filter((e=>{var t;return(null===(t=Object.values(e).join())||void 0===t?void 0:t.toLowerCase()).includes(null===r||void 0===r?void 0:r.toLowerCase())})),i(e)};return(0,l.useEffect)((()=>{c(!0),x.getAllmappingHistory().then((e=>{var t;n(null===e||void 0===e?void 0:e.data),i(null===e||void 0===e?void 0:e.data),c(!1);const a=new Set;null===e||void 0===e||null===(t=e.data)||void 0===t||t.forEach((e=>{Array.isArray(e.MappingType)?e.MappingType.forEach((e=>{a.add(e.MappingType)})):a.add(e.MappingType)})),console.log(Array.from(a),"array of mapping"),h(Array.from(a))}))}),[]),(0,l.useEffect)((()=>{P()}),[r,e]),(0,l.useEffect)((()=>{var t;let l=a;l=null===(t=l)||void 0===t?void 0:t.filter((t=>{var a;const l=null===(a=Object.values(t).join())||void 0===a?void 0:a.toLowerCase();return l.includes(null===e||void 0===e?void 0:e.toLowerCase())&&l.includes(null===j||void 0===j?void 0:j.toLowerCase())})),i(l)}),[j,e,a]),(0,v.jsxs)(Gl,{children:[(0,v.jsx)(T.Z,{className:"breadcrumb",children:(0,v.jsx)(g.aG,{routeSegments:[{name:"Changes History "}]})}),(0,v.jsx)(g.sF,{children:(0,v.jsxs)(k.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,v.jsxs)(k.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,v.jsx)(oe.Z,{type:"text",name:"search",size:"small",onChange:e=>{o(e.target.value)},value:r,style:{width:"100%"}})}),(0,v.jsx)(k.ZP,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,v.jsx)(b.Z,{variant:"contained",onClick:P,children:"Search"})})]})}),(0,v.jsx)(k.ZP,{item:!0,md:6,sm:6,xs:12,className:"font-medium",children:(0,v.jsx)(k.ZP,{container:!0,alignItems:"center",style:{textAlign:"right"},children:(0,v.jsxs)(k.ZP,{item:!0,md:12,sm:12,xs:12,className:"font-medium",style:{paddingRight:"10px"},children:[(0,v.jsx)("label",{style:{textWrap:"nowrap",paddingTop:"10px"},children:"Mapping Type:"}),(0,v.jsx)(N.Z,{className:"form-control",defaultValue:p[0],value:j,onChange:e=>f(e.target.value),style:{width:"50%"},size:"medium",displayEmpty:!0,renderValue:e=>{let t=[];return t=null===p||void 0===p?void 0:p.find((t=>t===e)),t||""},children:null===p||void 0===p?void 0:p.map(((e,t)=>{const a="dpKey"+t;return(0,v.jsx)(_.Z,{value:e,children:e},a)}))})]})})}),(0,v.jsx)(k.ZP,{item:!0,md:12,sm:6,xs:12,className:"font-medium",style:{display:"none"},children:(0,v.jsx)(k.ZP,{container:!0,alignItems:"center",style:{textAlign:"right"},children:(0,v.jsxs)(k.ZP,{item:!0,md:12,sm:12,xs:12,className:"font-medium",style:{paddingRight:"10px"},children:[(0,v.jsx)("label",{style:{textWrap:"nowrap",paddingTop:"10px"},children:"Design Organization:"}),(0,v.jsx)(R,{selectedvalue:e,style:{width:"50%"},optionsValues:F.XE,onChangeFunc:e=>{t(e),o("")}})]})})}),(0,v.jsxs)(T.Z,{width:"100%",overflow:"auto",marginTop:"10px",children:[d&&(0,v.jsx)(T.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,v.jsx)(rt.Z,{})}),!d&&(0,v.jsx)(Me.ZP,{showZebraRows:!1,style:{minHeight:550},columns:Z,dataSource:s,defaultLimit:100,onRowClick:e=>(e=>{const t=m.some((t=>t.id===e.id));u(t?t=>t.filter((t=>t.id!==e.id)):[e])})(e.data),pagination:!0,renderScroller:()=>{var e,t;return null===y||void 0===y||null===(e=y.current)||void 0===e?void 0:e.setScrollTop(0==(null===m||void 0===m?void 0:m.length)?0:null===y||void 0===y||null===(t=y.current)||void 0===t?void 0:t.getScrollTop())}})]})]})})]})},Hl=()=>(0,v.jsx)(zl,{}),Yl=[{path:"/history",element:(0,v.jsx)(ee,{children:(0,v.jsx)(Hl,{})})}];var Ql=a(56421);const ql=e=>{const t=new ce.t,[a,n]=(0,l.useState)(!1),[s,i]=(0,l.useState)((null===e||void 0===e?void 0:e.systemData)||[]),[r,o]=(0,l.useState)("allData"),[d,c]=(0,l.useState)(!1),[m,u]=(0,l.useState)(!1),[p,h]=(0,l.useState)(!1),[x,j]=(0,l.useState)(null);console.log("props",e);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(b.Z,{variant:"contained",onClick:()=>{n(!0)},children:"Export"}),(0,v.jsxs)(ae.Z,{open:a,children:[(0,v.jsx)(ie.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Export Template"}),(0,v.jsx)(ne.Z,{children:(0,v.jsx)(se.Z,{children:(0,v.jsx)(T.Z,{width:"100%",overflow:"auto",children:(0,v.jsx)(g.sF,{children:(0,v.jsx)(k.ZP,{item:!0,md:12,sm:12,xs:12,children:(0,v.jsx)(k.ZP,{container:!0,alignItems:"center",children:(0,v.jsxs)(we.Z,{children:[(0,v.jsx)(Oe.Z,{id:"demo-controlled-radio-buttons-group",children:"Select Data to Export"}),(0,v.jsxs)(Ee.Z,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:r,onChange:t=>{o(t.target.value),"allData"===t.target.value?i(null===e||void 0===e?void 0:e.vsystemData):i(null===e||void 0===e?void 0:e.filterTemplateData)},children:[(0,v.jsx)(Se.Z,{value:"allData",control:(0,v.jsx)(Pe.Z,{}),label:"All Data"}),(0,v.jsx)(Se.Z,{value:"selectedData",control:(0,v.jsx)(Pe.Z,{}),label:"Selected Data"})]})]})})})})})})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{autoFocus:!0,onClick:()=>{n(!1)},children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:()=>{n(!1);let a=("allData"!==r?null===e||void 0===e?void 0:e.filterTemplateData:null===e||void 0===e?void 0:e.systemData)||[],l=null===a||void 0===a?void 0:a.map((e=>({"ERP Type":e.ERPType,Instance:e.instance,"Validation Key 1":e.file1,"Validation Key 2":e.file2})));t.exportTemplate({data:l,sheet_name:"System Setup"}).then((e=>{u(e),c(!0),h(!0),j({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg})}))},children:"Export"})]})]}),x?(0,v.jsx)(ye.Z,{openAlert:p,openDesc:x,setOpenAlert:h}):(0,v.jsx)(v.Fragment,{})]})},Xl=[{name:"ERP Type",mandatory:"Y",dataType:"string",inputType:"select",defaultValues:"",values:[{sap:"SAP",oracle:"Oracle"}]},{name:"instance",mandatory:"Y",dataType:"string",inputType:"select",defaultValues:"",values:[{onPrem:"OnPrem",SaaS:"SaaS"}]},{name:"Validation Key 1",mandatory:"Y",dataType:"string",inputType:"text",defaultValues:"",values:""},{name:"Validation Key 2",mandatory:"Y",dataType:"string",inputType:"text",defaultValues:"",values:""}],Kl=(0,l.forwardRef)(((e,t)=>{const[a,n]=(0,l.useState)(!1),[s,i]=(0,l.useState)(null),[r,o]=(0,l.useState)([]),d={"ERP Type":null,instance:null,"Validation Key 1":null,"Validation Key 2":null},c=e=>{console.log(e,"validate");const t={};return e["ERP Type"]||(t["ERP Type"]="Required"),e.instance||(t.instance="Required"),e["Validation Key 1"]||(t["Validation Key 1"]="Required"),e["Validation Key 2"]||(t["Validation Key 2"]="Required"),t};return(0,l.useEffect)((()=>{o(Xl)}),[]),(0,v.jsxs)("div",{children:[(0,v.jsx)(ut.J9,{initialValues:d,validate:c,onSubmit:(t,a)=>{let{setSubmitting:l}=a;((t,a,l)=>{let{resetForm:s}=l;if(console.log(t,"values 111"),a){const l={...t,ERPType:t["ERP Type"],file1:t["Validation Key 1"],file2:t["Validation Key 2"]};delete l["ERP Type"],delete l["Validation Key 1"],delete l["Validation Key 2"],s(),Object.keys(t).some((e=>t[e]!==d[e]))?e.saveForm({formisValid:a,formData:l}):(n(!0),i({severity:"error",desc:"No changes made!"}))}else n(!0),i({severity:"error",desc:"Form submitted with invalid data"})})(t,!Object.keys(c(t)).length,{resetForm:()=>l(!1)})},innerRef:t,children:function(a){let{isValid:n,values:s,errors:i,setFieldValue:o,resetForm:d,handleSubmit:c,submitForm:m}=a;return(0,l.useEffect)((()=>{var t,a;"Edit"===(null===e||void 0===e?void 0:e.editForm)&&null!==e&&void 0!==e&&null!==(t=e.selectedRows)&&void 0!==t&&t.length&&(null===e||void 0===e||null===(a=e.selectedRows)||void 0===a||a.forEach((e=>{o("ERP Type",null===e||void 0===e?void 0:e.ERPType),o("instance",null===e||void 0===e?void 0:e.instance),o("Validation Key 1",null===e||void 0===e?void 0:e.file1),o("Validation Key 2",null===e||void 0===e?void 0:e.file2)})))}),[o]),(0,l.useImperativeHandle)(t,(()=>({submitForm(){console.log("triggering here"),c()}}))),(0,v.jsx)(ut.l0,{children:r.length?null===r||void 0===r?void 0:r.map(((t,a)=>{var l;const n=null===t||void 0===t?void 0:t.name,d=s[n]||(null===t||void 0===t?void 0:t.defaultValues);let c=null===t||void 0===t?void 0:t.inputType;s[null===(l=r[0])||void 0===l?void 0:l.name];return(0,v.jsx)("div",{className:"attribute-section",children:(0,v.jsxs)(k.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:4,sm:6,xs:12,className:"font-medium",children:(0,v.jsx)("label",{htmlFor:"firstName",children:(0,v.jsxs)("span",{children:[null===t||void 0===t?void 0:t.name,"Y"===(null===t||void 0===t?void 0:t.mandatory)?(0,v.jsx)("span",{style:{color:"red"},children:"*"}):""]})})}),(0,v.jsxs)(k.ZP,{item:!0,md:8,sm:6,xs:12,children:["text"===c&&(0,v.jsx)(oe.Z,{className:"mb-4 w-full ",color:null!==i&&void 0!==i&&i[n]?"warning":"",fullWidth:!0,size:"small",variant:"outlined",id:n,name:n,value:d,onChange:e=>{o(n,e.target.value)},type:"text",style:{marginBottom:"10px"}}),"select"===c&&(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(N.Z,{disabled:"Edit"===(null===e||void 0===e?void 0:e.editForm)&&["ERP Type","instance"].includes(n),value:d,onChange:e=>{o(n,e.target.value)},displayEmpty:!0,renderValue:e=>e?(null===t||void 0===t?void 0:t.values.length)&&(null===t||void 0===t?void 0:t.values[0][e]):(0,v.jsx)("em",{children:"--Select--"}),style:{height:"37.13px",marginBottom:"1rem",width:"100%"},children:[(0,v.jsx)(_.Z,{children:"Select"}),(null===t||void 0===t?void 0:t.values.length)&&Object.keys(null===t||void 0===t?void 0:t.values[0]).map((e=>(0,v.jsx)(_.Z,{value:e,children:null===t||void 0===t?void 0:t.values[0][e]},Ye().generate())))]})}),(0,v.jsx)(ut.Bc,{name:n,component:"div"})]},a)]})},a)})):(0,v.jsx)(v.Fragment,{})})}}),s&&(0,v.jsx)(ye.Z,{openAlert:a,openDesc:s,setOpenAlert:n})]})})),Jl=(0,Z.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),en=()=>{const e=(0,l.useRef)(null),[t,a]=(0,l.useState)(!1),[n,s]=(0,l.useState)("Create"),[i,r]=(0,l.useState)(null),[o,d]=(0,l.useState)([]),[c,m]=(0,l.useState)([]),[u,p]=(0,l.useState)(""),[h,x]=(0,l.useState)(!1),[j,f]=(0,l.useState)(!1),y=new Ql.D,[Z,P]=(0,l.useState)(!1),[E,S]=(0,l.useState)(null),[w,O]=(0,l.useState)({}),[C,M]=(0,l.useState)([]),[A,D]=(0,l.useState)([]),[L,N]=(0,l.useState)([]),_=(0,l.useRef)(null),I=_&&_.current&&_.current.dataMap?_.current.dataMap:null,R=(0,l.useCallback)((e=>{let{selected:t}=e;O(t)}),[]),F=o.sort(((e,t)=>e.ERPType<t.ERPType?-1:e.ERPType>t.ERPType?1:0)),B=[{name:"ERPType",header:"ERP Type",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.ERPType})}},{name:"instance",header:"Instance",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.instance})}},{name:"file1",header:"Validation Key 1",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.file1})}},{name:"file2",header:"Validation Key 2",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,v.jsx)("div",{children:null===t||void 0===t?void 0:t.file2})}}],U=async()=>{var e;const t=await y.getAllsystemSetupList();return console.log(t,"listValue"),null!==t&&void 0!==t&&null!==(e=t.data)&&void 0!==e&&e.length?(d(null===t||void 0===t?void 0:t.data),D(null===t||void 0===t?void 0:t.data),m(null===t||void 0===t?void 0:t.data),null===t||void 0===t?void 0:t.data):[]};(0,l.useEffect)((()=>{U()}),[]),(0,l.useEffect)((()=>{var e;const t=!0===w?I:w,a=t&&((null===(e=Object.keys(t))||void 0===e?void 0:e.map((e=>t[e])))||[]);null!==a&&void 0!==a&&a.length&&M(a)}),[w]),(0,l.useEffect)((()=>{console.log(u,"parent comp 2"),(async e=>{let t=[];if(x(!0),t=0===c.length?await U():c,t){const a=t.filter((t=>!e||JSON.stringify(t).toLowerCase().includes(e.toLowerCase())))||[];a.length?(d(a),D(a)):d([])}x(!1)})(u)}),[u]),console.log("parent comp");const W=e=>{N(e);const t=Ae(en)({data:o,sortInfo:e,onSortInfoChange:W,initialData:A});d(t.props.data)};return(0,v.jsxs)(Jl,{children:[(0,v.jsx)(T.Z,{className:"breadcrumb",children:(0,v.jsx)(g.aG,{routeSegments:[{name:"System Setup"}]})}),(0,v.jsxs)("div",{children:[(0,v.jsxs)(k.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,v.jsx)(k.ZP,{item:!0,md:3,sm:6,xs:12,className:"font-medium",children:(0,v.jsx)(oe.Z,{type:"text",name:"search",size:"small",onChange:e=>{const t=e.target.value;p(t)},value:u,style:{width:"100%"}})}),(0,v.jsxs)(k.ZP,{item:!0,container:!0,md:9,sm:6,xs:12,alignItems:"center",children:[(0,v.jsx)(b.Z,{variant:"contained",children:"Search"}),(0,v.jsx)("div",{style:{flex:1}}),(0,v.jsx)(b.Z,{variant:"contained",component:te.Link,onClick:()=>{a(!0),s("Create")},children:"Create"}),(0,v.jsx)(b.Z,{variant:"contained",disabled:1!==(null===C||void 0===C?void 0:C.length),onClick:()=>{a(!0),s("Edit")},style:{margin:"0 0px 0 10px"},children:"Edit"}),(0,v.jsx)(b.Z,{variant:"contained",disabled:null===C||void 0===C||!C.length,onClick:()=>{f(!0)},style:{margin:"0 10px 0 10px"},children:"Delete"}),(0,v.jsx)(ql,{systemData:o,filterTemplateData:C})]})]}),(0,v.jsx)("br",{}),h?(0,v.jsx)("div",{style:{textAlign:"center"},children:(0,v.jsx)(re.Z,{show:h})}):(0,v.jsx)(Me.ZP,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},columns:B,defaultLimit:100,dataSource:null===L?o:F,checkboxColumn:!0,selected:w,onSelectionChange:R,handle:e=>_.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===_||void 0===_||null===(e=_.current)||void 0===e?void 0:e.setScrollTop(0==(null===C||void 0===C?void 0:C.length)?0:null===_||void 0===_||null===(t=_.current)||void 0===t?void 0:t.getScrollTop())},onSortInfoChange:W})]}),E&&(0,v.jsx)(ye.Z,{openAlert:Z,openDesc:E,setOpenAlert:P}),(0,v.jsxs)(ae.Z,{open:j,children:[(0,v.jsx)(ie.Z,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Delete Setting"}),(0,v.jsx)(ne.Z,{children:(0,v.jsx)(se.Z,{children:"Do you want to delete the selected Setting(s)?"})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{autoFocus:!0,onClick:()=>{f(!1)},children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:async()=>{f(!1);try{x(!0);const e=null===C||void 0===C?void 0:C.map((e=>null===e||void 0===e?void 0:e.id));await y.deleteSystemSettings(e).then((e=>{x(!1),P(!0),S({severity:null===e||void 0===e?void 0:e.status,desc:null===e||void 0===e?void 0:e.msg}),O({}),M([])}))}catch(e){console.error("Failed to delete Setting:",e)}y.getAllsystemSetupList().then((e=>{console.log(e.data,"result.data"),d(e.data),D(e.data),m(e.data)}))},children:"Delete"})]})]}),(0,v.jsxs)(ae.Z,{open:t,onClose:()=>{a(!1)},scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",maxWidth:"md",fullWidth:!0,onClick:e=>{e.stopPropagation()},children:[(0,v.jsx)(ie.Z,{id:"scroll-dialog-title",children:`${n} system setup`}),(0,v.jsx)(ne.Z,{dividers:!0,children:(0,v.jsx)(se.Z,{id:"scroll-dialog-description",tabIndex:-1,children:(0,v.jsx)(Kl,{ref:e,saveForm:async e=>{if(console.log(e,"submittedValues 222"),e&&null!==e&&void 0!==e&&e.formisValid){var t;a(!1),x(!0),r(e);let i=null;var l,s;if(i="Edit"===n&&null!==C&&void 0!==C&&C.length?await y.updateSystemSettings(null===e||void 0===e?void 0:e.formData):await y.addSystemSettings(null===e||void 0===e?void 0:e.formData),"success"===(null===(t=i)||void 0===t?void 0:t.status))O({}),M([]),await y.getAllsystemSetupList().then((e=>{console.log(e.data,"result.data"),d(e.data),D(e.data),m(e.data)})),P(!0),S({severity:"success",desc:null===(l=i)||void 0===l?void 0:l.msg});else P(!0),S({severity:"error",desc:null===(s=i)||void 0===s?void 0:s.msg})}x(!1)},selectedRows:C,editForm:n})})}),(0,v.jsxs)(le.Z,{children:[(0,v.jsx)(b.Z,{onClick:()=>{a(!1)},children:"Cancel"}),(0,v.jsx)(b.Z,{onClick:async()=>{e.current&&await e.current.submitForm()},children:"Save"})]})]})]})},tn=en,an=e=>{let{children:t,...a}=e;const l=(0,i.oQ)(""),n=(0,i.TH)();return l.startsWith("/")||n.pathname.startsWith("/Dev")||"/"===n.pathname?(0,v.jsx)(i.Fg,{to:"/calist"}):n.pathname.startsWith("/login/callback")?(0,v.jsx)(o.kI,{}):t},ln=()=>{const{oktaAuth:e,authState:t}=(0,o.JN)();(0,i.s0)();const a=t=>{e.redirect("/")},n=e=>{console.error("Error during login callback:",e)};return(0,l.useEffect)((()=>{e.handleLoginRedirect().then(a).catch(n)}),[e]),(0,v.jsx)("div",{children:(0,v.jsx)("h4",{children:"Loading..."})})},nn=[...K,...st,...yt,...Dt,...Ht,...ia,...tl,...rl,...ul,...vl,...Ya,...Cl,..._l,...Vl,...Yl,...ja,...[{path:"/systemSetup",element:(0,v.jsx)(ee,{children:(0,v.jsx)(tn,{})})}]];function sn(){const e=[{element:(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(y,{children:(0,v.jsx)(J.Z,{})})}),children:nn},{path:"/",element:(0,v.jsx)(an,{})},{path:"/login/callback",element:(0,v.jsx)(ln,{})},{path:"/accessDenied",element:(0,v.jsx)(L,{})},{path:"/homepage",element:(0,v.jsx)(U,{})},{path:"*",element:(0,v.jsx)(O,{})}];return(0,i.V$)(e)}var rn=a(83002);const on=e=>{let{componentStack:t,error:a}=e;return null};var dn=a(48625),cn=a(51452);const mn=new r.snk(h.oidc),un=()=>{const e=(0,i.s0)();return(0,l.useEffect)((()=>{const e=setTimeout((()=>{performance.mark("FirstContentfulPaint")}),1e3);return console.log("production","process.env.NODE_ENV"),()=>clearTimeout(e)}),[]),(0,v.jsx)(rn.SV,{FallbackComponent:on,onReset:e=>{},children:(0,v.jsx)(s.zt,{store:x.y,children:(0,v.jsx)(cn.m,{children:(0,v.jsxs)(g._p,{children:[(0,v.jsx)(g.YF,{}),(0,v.jsx)(g.I5,{children:(0,v.jsx)(o.cU,{oktaAuth:mn,restoreOriginalUri:(t,a)=>{e((0,r.QNm)(a||"/",window.location.origin))},onAuthRequired:function(){e(window.location.origin)},children:(0,v.jsx)(dn.o,{children:(0,v.jsx)(sn,{})})})})]})})})})};var pn=a(4708),hn=a(11640);let xn=null;function gn(){if(window.widget){let e=!1;window.widget.addEvent("onLoad",(()=>{e?console.warn("[index.js] \u23f3 onLoad was already executed. Ignoring duplicate trigger."):(e=!0,function(){var e,t;requirejs(["DS/PlatformAPI/PlatformAPI"],(e=>{window.PlatformAPI=e}));let a=(null===(e=window.widget)||void 0===e||null===(t=e.body)||void 0===t?void 0:t.querySelector("#root"))||document.getElementById("root");a||(a=document.createElement("div"),a.id="root",window.widget&&window.widget.body?window.widget.body.appendChild(a):document.body.appendChild(a)),xn||(xn=n.createRoot(a)),xn.render((0,v.jsx)(hn.Z,{injectFirst:!0,children:(0,v.jsxs)(te.BrowserRouter,{basename:"/",children:[(0,v.jsx)(pn.ZP,{}),(0,v.jsx)(un,{})]})}))}())}))}else console.error("[index.js] \u274c Widget not detected! onLoad cannot be registered.")}},83650:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var l=a(12903),n=a(8160);const s=l.Z.create();s.interceptors.request.use((e=>(e.headers.Authorization="Bearer "+(0,n.V)(),e)),(e=>Promise.reject(e))),s.interceptors.response.use((e=>e),(e=>{var t;return console.error("Error response:",e.response),Promise.reject((null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)||"Something went wrong!")}));const i=s},84838:(e,t,a)=>{"use strict";a.d(t,{a:()=>s});var l=a(40077),n=a(83650);class s{constructor(){this.getAllBuList=()=>n.Z.get(`${l.Fv}/bu/getBusinessUnit`,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getAllBuList",e),[]))),this.getBusinessUnitbyid=e=>n.Z.post(`${l.Fv}/bu/getBusinessUnitbyid`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getBusinessUnitbyid",e),[]))),this.addnewBU=e=>n.Z.post(`${l.Fv}/bu/addBusinessUnit`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewBU",e),[]))),this.updateBU=e=>n.Z.put(`${l.Fv}/bu/updateBusinessUnit`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("updateBU",e),[]))),this.deleteBU=e=>n.Z.delete(`${l.Fv}/bu/deleteBusinessUnit`,{data:{ids:e}},l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting bu:",e),e}))}}},54357:(e,t,a)=>{"use strict";a.d(t,{u:()=>s});var l=a(40077),n=a(83650);class s{constructor(){this.massUpdatePartDescription=e=>n.Z.post(`${l.Fv}/massUpdate/massUpdatePartDescription`,e,l.AD).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("bulkAddTemplate",e),[]))),this.getMyReport=e=>n.Z.get(`${l.Fv}/massUpdate/myReport`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("myReport",e),[]))),this.deleteReport=e=>n.Z.delete(`${l.Fv}/massUpdate/deleteMyReport`,{data:{ids:e}},l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting bu:",e),e})),this.downloadSampleFile=e=>{window.open(`${l.Fv}/${e}`)}}}},6394:(e,t,a)=>{"use strict";a.d(t,{h:()=>p});var l=a(40077),n=a(83650),s=a(19410),i=a(12903);let r=[];class o{constructor(){this.searchCA=e=>{let t={Operation:"CA-Search",Headers:{securityContext:"VPLMProjectLeader.0000000001.Micro Motion",senderID:"EMRPDH",TargetID:"3DX",BusinessGroup:"ENOVIA"},queryParams:{searchStr:`${e.searchPattern}`,"&$top":"10",instance:"SaaS"},Requestdata:""};return i.Z.post(`${l.m7}/loginLTToken/searchCA`,t,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw e}))},this.getCARelatedMco=e=>{let t={queryParams:{id:null===e||void 0===e?void 0:e.ca_id,operation:"flowDown",instance:"SaaS"}};return i.Z.post(`${l.m7}/loginLTToken/caDetails`,t,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw e}))},this.searchMCO=(e,t)=>{let a={Operation:"CA-Search-flowDown",Headers:{securityContext:"VPLMProjectLeader.0000000001.Micro Motion",senderID:"EMRPDH",TargetID:"3DX",BusinessGroup:"ENOVIA"},queryParams:{searchStr:`${e.searchPattern}`,"&$top":"10",instance:"SaaS"}};return i.Z.post(`${l.m7}/loginLTToken/searchCA`,a,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw e}))},this.getMCOdetailById=e=>{let t={queryParams:{ids:[{id:null===e||void 0===e?void 0:e.mco_id}],operation:"CA-Details",instance:"SaaS"}};return i.Z.post(`${l.m7}/loginLTToken/caDetails`,t,{client_id:123,client_secret:456}).then((t=>{if(200===t.status)return t.data.map((t=>{t.mcoPropeties.id===(null===e||void 0===e?void 0:e.mco_id)&&r.push(t)})),r[r&&r.length-1];throw r[0]})).catch((e=>{throw e}))},this.updateMCOdetails=e=>i.Z.put(`${l.BI}/productHierarchy/classify`,e,l.iO).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.validationByMcoId=e=>Promise.resolve({pass:!0}),this.getItemDetailsByMcoId=e=>i.Z.get(`${l.BI}/erp/item/${e}`,l.iO).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getBomDetailsByMcoId=e=>i.Z.get(`${l.BI}/mco/bom/${e}`,l.iO).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.changeStateByMcoId=(e,t,a)=>{let n={id:e,nextState:t,instance:"SaaS"};return i.Z.post(`${l.m7}/loginLTToken/caMcoPromoteDemote`,n,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data[0];throw e.data})).catch((e=>e))},this.routeStart=e=>{let t={Operation:"routeStart",Headers:{securityContext:"VPLMProjectLeader.0000000001.Micro Motion",senderID:"EMRPDH",TargetID:"3DX",BusinessGroup:"ENOVIA"},Requestdata:{data:[{id:e}]},instance:"SaaS"};return i.Z.post(`${l.m7}/loginLTToken/routeStart`,t,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data;throw new Error("Route start failed or not initiated")})).catch((e=>{throw console.error("routeStart error:",e),e}))},this.getTaskList=e=>{let t={Operation:"taskList",Headers:{securityContext:"VPLMProjectLeader.0000000001.Micro Motion",senderID:"EMRPDH",TargetID:"3DX",BusinessGroup:"ENOVIA"},Requestdata:{data:[{id:e}]},instance:"SaaS"};return i.Z.post(`${l.m7}/loginLTToken/getTaskList`,t,{client_id:123,client_secret:456}).then((e=>{if(200===e.status&&Array.isArray(e.data)&&e.data.length>0)return e.data;throw new Error("No task data found")})).catch((e=>{throw console.error("Error fetching task list:",e),e}))},this.taskApproval=e=>{let t={Operation:"taskApproval",Headers:{securityContext:"VPLMProjectLeader.0000000001.Micro Motion",senderID:"EMRPDH",TargetID:"3DX",BusinessGroup:"ENOVIA"},Requestdata:{data:[{dataelements:{id:e,routeTaskApprovalComments:"Approve",routeTaskDueDate:"",state:"Complete",routeTaskApprovalAction:"Approve"},updateAction:"MODIFY"}]},instance:"SaaS"};return i.Z.post(`${l.m7}/loginLTToken/taskApproval`,t,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("\u274c Task Approval Error:",e),e}))},this.updateMCOData=(e,t)=>{let a={uriParams:{identifier:e,startDate:t["Start Date"],description:t.description,data:t,instance:"SaaS"}};return i.Z.post(`${l.m7}/loginLTToken/caMcoModify`,a,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e))},this.ApproveCAMCO=e=>{let t={uriParams:{id:e.id,type:e.type,currentStatus:e.currentStatus}};return i.Z.post(`${l.m7}/loginLTToken/caMcoApprove`,t,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e))},this.getDataForClassificationyMCONames=e=>{const t=e.filter((e=>(null===e||void 0===e?void 0:e.name)&&(null===e||void 0===e?void 0:e.id)));if(0===t.length)return console.error("No valid data to send in API request!"),Promise.reject("Invalid data - No valid MCO entries.");let a={queryParams:{ids:t,operation:"CA-Details",instance:"SaaS"}};return i.Z.post(`${l.m7}/loginLTToken/caDetails`,a,{client_id:123,client_secret:456}).then((e=>{if(200===e.status)return e.data})).then((e=>{const t={};return e.forEach((e=>{var a;null!==e&&void 0!==e&&null!==(a=e.mcoPropeties)&&void 0!==a&&a.name&&(t[e.mcoPropeties.name]=e)})),t})).catch((e=>{throw e}))},this.updateMCOObjects=e=>i.Z.post(`${l.BI}/mco/updateMCOObjects/mcoList`,e,l.iO).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getRSMEList=()=>i.Z.get(`${l.BI}/mco/getRSMEs`,l.iO).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getRMEList=()=>i.Z.get(`${l.BI}/mco/getRMEs`,l.iO).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateMRpartList=e=>i.Z.post(`${l.BI}/mco/updateMR/partList`,e,l.iO).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getSpecDetailsByMcoId=e=>i.Z.get(`${l.BI}/mco/getSpecDetails/${e}`,l.iO).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMcoPropertyDetails=e=>{let t={mco_id:e,isBasics:!0};this.getMCOdetailById(t).then((e=>{if(e)return null===e||void 0===e?void 0:e.mcoPropeties})).catch((e=>{}))},this.getMRbyPartAndPlant=e=>n.Z.post(`${l.Fv}/mrRelatedDetails/getMRbyPartAndPlant`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getSourcePlantTemplate=e=>n.Z.post(`${l.Fv}/sourceList/getSourcePlantTemplate`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getBusinessUnitbyid=e=>n.Z.post(`${l.Fv}/bu/getBusinessUnitbyid`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMRRelatedDetailsbyid=e=>n.Z.post(`${l.Fv}/mrRelatedDetails/getMRRelatedDetailsbyid`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getLifeCycleStatusByMCOName=e=>{const t=e.filter((e=>null!==e&&void 0!==e));return 0===t.length?(console.error("No valid MCO names to send in API request!"),Promise.reject("Invalid data - No valid MCO names.")):n.Z.post(`${l.Fv}/status/getLifeCycleStatusByMCOName`,t,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("API Error:",e),e)))},this.getMcoDetailsByName=e=>n.Z.post(`${l.Fv}/mco/getMcoDetailsByName`,e,l.gQ).then((e=>{if(200===e.status)return e.data})).catch((e=>e)),this.getattributesbyid=e=>new Promise((async(t,a)=>{await n.Z.post(`${l.Fv}/mco/getattributesbyid`,e,l.gQ).then((e=>{200===e.status&&a(e.data),t(e.data)}))})),this.updateattributesbyid=e=>n.Z.put(`${l.Fv}/mco/updateattributes`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.sendMCO=e=>n.Z.post(`${l.Fv}/muleSoftServices/sendMCO`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e))}}class d{constructor(){this.searchCA=e=>i.Z.post(`${(()=>{var e;const t=s.y.getState();return"Cloud"===(null===t||void 0===t||null===(e=t.globalData)||void 0===e?void 0:e.instanceType)?l._p:l.BI})()}/erp/findObjects`,e,l.iO).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw e})),this.getCARelatedMco=e=>i.Z.get(`${l.BI}/mco/CAid/${null===e||void 0===e?void 0:e.ca_id}`,l.iO).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw e})),this.searchMCO=(e,t)=>i.Z.post(`${l.BI}/erp/findMCOObjects`,e,l.iO).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw e})),this.searchMCO_old=e=>i.Z.post(`${l.BI}/erp/findObjects`,e,l.iO).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw e})),this.getMCOdetailById=e=>i.Z.get(`${l.BI}/productHierarchy/classes/${null===e||void 0===e?void 0:e.mco_id}`,l.iO).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateMCOdetails=e=>i.Z.put(`${l.BI}/productHierarchy/classify`,e,l.iO).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.validationByMcoId=e=>i.Z.get(`${l.BI}/mco/validate/${e}`,l.iO).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getItemDetailsByMcoId=e=>i.Z.get(`${l.BI}/erp/item/${e}`,l.iO).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getBomDetailsByMcoId=e=>i.Z.get(`${l.BI}/mco/bom/${e}`,l.iO).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.changeStateByMcoId=(e,t,a)=>i.Z.post(`${l.BI}/mco/changeState/${e}/${t}`,a,l.iO).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateMCOData=(e,t)=>i.Z.post(`${l.BI}/mco/updateMCOData/${e}`,t,l.iO).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getDataForClassificationyMCONames=e=>{let t=null===e||void 0===e?void 0:e.names;return i.Z.post(`${l.BI}/mco/getDataForClassificationyMCONames/mcoList`,t,l.iO).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e))},this.updateMCOObjects=e=>i.Z.post(`${l.BI}/mco/updateMCOObjects/mcoList`,e,l.iO).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getRSMEList=()=>i.Z.get(`${l.BI}/mco/getRSMEs`,l.iO).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getRMEList=()=>i.Z.get(`${l.BI}/mco/getRMEs`,l.iO).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateMRpartList=e=>i.Z.post(`${l.BI}/mco/updateMR/partList`,e,l.iO).then((e=>{if(console.log("hey vara here===========================================",e),200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getSpecDetailsByMcoId=e=>i.Z.get(`${l.BI}/mco/getSpecDetails/${e}`,l.iO).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMcoPropertyDetails=e=>i.Z.get(`${l.BI}/mco/name/${e}`,l.iO).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMRbyPartAndPlant=e=>n.Z.post(`${l.Fv}/mrRelatedDetails/getMRbyPartAndPlant`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getSourcePlantTemplate=e=>n.Z.post(`${l.Fv}/sourceList/getSourcePlantTemplate`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMRRelatedDetailsbyid=e=>n.Z.post(`${l.Fv}/mrRelatedDetails/getMRRelatedDetailsbyid`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getBusinessUnitbyid=e=>n.Z.post(`${l.Fv}/bu/getBusinessUnitbyid`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getLifeCycleStatusByMCOName=e=>n.Z.post(`${l.Fv}/status/getLifeCycleStatusByMCOName`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMcoDetailsByName=e=>n.Z.post(`${l.Fv}/mco/getMcoDetailsByName`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getattributesbyid=e=>n.Z.post(`${l.Fv}/mco/getattributesbyid`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateattributesbyid=e=>n.Z.put(`${l.Fv}/mco/updateattributes`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.sendMCO=e=>n.Z.post(`${l.Fv}/muleSoftServices/sendMCO`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e))}}var c=a(8160);let m,u;class p{constructor(){this.getInstanceDetail=()=>{switch(u=localStorage.getItem("instance"),u){case"onPrem":m=new d;break;case"SaaS":m=new o}},this.searchCA=e=>(this.getInstanceDetail(),m.searchCA(e)),this.getCARelatedMco=e=>(this.getInstanceDetail(),m.getCARelatedMco(e)),this.searchMCO=e=>(this.getInstanceDetail(),m.searchMCO(e,u)),this.getMCOdetailById=e=>(this.getInstanceDetail(),m.getMCOdetailById(e)),this.updateMCOdetails=e=>(this.getInstanceDetail(),m.updateMCOdetails(e)),this.validationByMcoId=e=>(this.getInstanceDetail(),m.validationByMcoId(e)),this.getItemDetailsByMcoId=e=>(this.getInstanceDetail(),m.getItemDetailsByMcoId(e)),this.getBomDetailsByMcoId=e=>(this.getInstanceDetail(),m.getBomDetailsByMcoId(e)),this.changeStateByMcoId=(e,t,a,l)=>(this.getInstanceDetail(),m.changeStateByMcoId(e,t,a)),this.updateMCOData=(e,t)=>(this.getInstanceDetail(),m.updateMCOData(e,t)),this.getDataForClassificationyMCONames=e=>(this.getInstanceDetail(),m.getDataForClassificationyMCONames(e)),this.updateMCOObjects=e=>(this.getInstanceDetail(),m.updateMCOObjects(e)),this.getRSMEList=()=>(this.getInstanceDetail(),m.getRSMEList()),this.getRMEList=()=>(this.getInstanceDetail(),m.getRMEList()),this.updateMRpartList=e=>(this.getInstanceDetail(),m.updateMRpartList(e)),this.getSpecDetailsByMcoId=e=>(this.getInstanceDetail(),m.getSpecDetailsByMcoId(e)),this.getMcoPropertyDetails=e=>(this.getInstanceDetail(),m.getMcoPropertyDetails(e)),this.ApproveCAMCO=e=>(this.getInstanceDetail(),m.ApproveCAMCO(e)),this.routeStart=e=>(this.getInstanceDetail(),m.routeStart(e)),this.getTaskList=e=>(this.getInstanceDetail(),m.getTaskList(e)),this.taskApproval=e=>(this.getInstanceDetail(),m.taskApproval(e)),this.getMuleToken=()=>n.Z.get(`${l.Fv}/muleSoftServices/getMuleToken`,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.sendMCO=e=>(this.getInstanceDetail(),m.sendMCO(e)),this.sendAutoReleaseMCOs=e=>n.Z.post(`${l.Fv}/muleSoftServices/sendAutoReleaseMCOs`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getattributesbyid=e=>n.Z.post(`${l.Fv}/mco/getattributesbyid`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMcoDetailsByName=e=>n.Z.post(`${l.Fv}/mco/getMcoDetailsByName`,e,l.gQ).then((e=>{if(200===e.status)return e.data})).catch((e=>e)),this.addattributes=e=>n.Z.post(`${l.Fv}/mco/addattributes`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.mcoStatusValidation=e=>n.Z.post(`${l.Fv}/mco/mcoStatusValidation`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateattributesbyid=e=>(this.getInstanceDetail(),m.updateattributesbyid(e)),this.updatePartListAndAttributes=e=>n.Z.put(`${l.Fv}/mco/updatePartListAndAttributes`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updatePartListAndAddAttributes=e=>n.Z.put(`${l.Fv}/mco/updatePartListAndAddAttributes`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getTemplateDetails=()=>n.Z.get(`${l.Fv}/template/gettemplate`,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getPlantData=e=>n.Z.get(`${l.Fv}/plant/getplants`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getSourceData=e=>n.Z.get(`${l.Fv}/sourceList/getSource`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMappingsData=e=>n.Z.get(`${l.Fv}/api/mappings`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.itemvalidationbymcoid=e=>n.Z.post(`${l.Fv}/acknowledgement/itemvalidation`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.BOMvalidationbymcoid=e=>n.Z.post(`${l.Fv}/acknowledgement/bomValidation`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateFinalAcksDetails=e=>n.Z.put(`${l.Fv}/mco/updateFinalAcksDetails`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.callLoggingInfo=e=>n.Z.post(`${l.Fv}/log/addLogInfo`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getERPStatus=e=>n.Z.post(`${l.Fv}/acknowledgement/getacknowledgementByItemId`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getSourcePlantTemplate=e=>(this.getInstanceDetail(),m.getSourcePlantTemplate(e)),this.mcoRuleValidation=e=>n.Z.post(`${l.Fv}/item/validation`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMRRelatedDetailsbyid=e=>(this.getInstanceDetail(),m.getMRRelatedDetailsbyid(e)),this.addMRRelatedDetails=e=>n.Z.post(`${l.Fv}/mrRelatedDetails/addMRRelatedDetails`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.updateMRRelatedDetails=e=>n.Z.put(`${l.Fv}/mrRelatedDetails/updateMRRelatedDetails`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getMRbyPartAndPlant=e=>(this.getInstanceDetail(),m.getMRbyPartAndPlant(e)),this.getMRForCAbyPartAndPlant=e=>n.Z.post(`${l.Fv}/mrRelatedDetails/getMRForCAbyPartAndPlant`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getChildPartDetails=e=>n.Z.post(`${l.Fv}/mrRelatedDetails/getChildPartDetails`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getBusinessUnitbyid=e=>(this.getInstanceDetail(),m.getBusinessUnitbyid(e)),this.getMRDetailsByPartName=e=>n.Z.post(`${l.Fv}/mrRelatedDetails/getMRDetailsByPartName`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.getLifeCycleStatusByMCOName=e=>(this.getInstanceDetail(),m.getLifeCycleStatusByMCOName(e)),this.updateLifeCycleStatus=e=>n.Z.post(`${l.Fv}/status/updateLifeCycleStatus`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.massUpdatePartDescription=e=>n.Z.post(`${l.Fv}/massUpdate/massUpdatePartDescription`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.searchSpecCreationbyKey=e=>n.Z.post(`${l.Fv}/specCreation/searchSpecCreationbykeyword`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.resendSpecCreation=e=>n.Z.post(`${l.Fv}/specCreation/resendSpecCreation`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.searchObsoletePartbyKey=e=>n.Z.post(`${l.Fv}/obsoletePart/searchObsoletePartbykeyword`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.resendObsoletePart=e=>n.Z.post(`${l.Fv}/obsoletePart/resendObsoletePart`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e)),this.bulkUploadPartAndTemplate=e=>n.Z.post(`${l.Fv}/mco/bulkUploadPartAndOracleTemp`,e,l.AD).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("bulkAddTemplate",e),[]))),this.downloadSampleFile=e=>{window.open(`${l.Fv}/${e}`)},this.exportMCOData=e=>n.Z.post(`${l.Fv}/mco/exportMCOData`,e,l.gQ).then((async e=>{if(200===e.status){const a=`${l.Fv}/${e.data.filePath}`;try{const t=await fetch(a,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:"Bearer "+(0,c.V)()}});if(!t.ok)throw new Error("Failed to fetch the file");const l=await t.blob(),n=URL.createObjectURL(l),s=document.createElement("a");s.href=n,s.download=e.data.filePath,s.click(),URL.revokeObjectURL(n)}catch(t){console.error("Error downloading the file:",t)}return e.data}throw e.data})).catch((e=>{throw console.error("Error in exportTemplate:",e),e})),this.exportTableData=e=>n.Z.post(`${l.Fv}/exportData/exportTableData`,e,l.gQ).then((async e=>{if(200===e.status){const a=`${l.Fv}/${e.data.filePath}`;try{const t=await fetch(a,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:"Bearer "+(0,c.V)()}});if(!t.ok)throw new Error("Failed to fetch the file");const l=await t.blob(),n=URL.createObjectURL(l),s=document.createElement("a");s.href=n,s.download=e.data.filePath,s.click(),URL.revokeObjectURL(n)}catch(t){console.error("Error downloading the file:",t)}return e.data}throw e.data})).catch((e=>{throw console.error("Error in exportTemplate:",e),e})),this.getMcoHistorybyid=e=>n.Z.post(`${l.Fv}/mcoHistory/getMcoHistorybyid`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>e))}}},56421:(e,t,a)=>{"use strict";a.d(t,{D:()=>s});var l=a(40077),n=a(83650);class s{constructor(){this.getAllsystemSetupList=()=>n.Z.get(`${l.Fv}/systemSettings/getSystemSettings`,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getSystemSettings",e),[]))),this.getSystemSettingsbyid=e=>n.Z.post(`${l.Fv}/systemSettings/getSystemSettingsbyid`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getSystemSettings",e),[]))),this.addSystemSettings=e=>n.Z.post(`${l.Fv}/systemSettings/addSystemSettings`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewSystemSettings",e),[]))),this.updateSystemSettings=e=>n.Z.put(`${l.Fv}/systemSettings/updateSystemSettings`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("updateSystemSettings",e),[]))),this.deleteSystemSettings=e=>n.Z.delete(`${l.Fv}/systemSettings/deleteSystemSettings`,{data:e},l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting SystemSettings:",e),e}))}}},33488:(e,t,a)=>{"use strict";a.d(t,{t:()=>i});var l=a(40077),n=a(83650),s=a(8160);class i{constructor(){this.getAllTemplateList=()=>n.Z.get(`${l.Fv}/template/gettemplate`,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getTemplateDetails",e),[]))),this.addnewTemplate=e=>n.Z.post(`${l.Fv}/template/addTemplate`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewPlant",e),[]))),this.getTemplateById=e=>n.Z.post(`${l.Fv}/template/getTemplateById`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getTemplateById",e),[]))),this.updateTemplate=e=>n.Z.put(`${l.Fv}/template/updateTemplate`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewPlant",e),[]))),this.deleteTemplate=e=>n.Z.delete(`${l.Fv}/template/deleteTemplate`,{data:{ids:e}},l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting plant:",e),e})),this.importTemplate=e=>n.Z.post(`${l.Fv}/template/bulkAddTemplate`,e,l.AD).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("bulkAddTemplate",e),[]))),this.exportTemplate=e=>n.Z.post(`${l.Fv}/newtemplateMappings/bulkExportTemplate`,e,l.gQ).then((async e=>{if(200===e.status){const a=`${l.Fv}/${e.data.filePath}`;try{const t=await fetch(a,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:"Bearer "+(0,s.V)()}});if(!t.ok)throw new Error("Failed to fetch the file");const l=await t.blob(),n=URL.createObjectURL(l),i=document.createElement("a");i.href=n,i.download=e.data.filePath.replace("downloads/",""),i.click(),URL.revokeObjectURL(n)}catch(t){console.error("Error downloading the file:",t)}return e.data}throw e.data})).catch((e=>{throw console.error("Error in exportTemplate:",e),e})),this.downloadSampleFile=e=>{window.open(`${l.Fv}/${e}`)}}}},9903:(e,t,a)=>{"use strict";a.d(t,{q:()=>i});var l=a(40077),n=a(83650),s=a(8160);class i{constructor(){this.getAlltemplateMappings=()=>n.Z.get(`${l.Fv}/newtemplateMappings/getTemplateMappings`,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getTeamplateMappings",e),[]))),this.deleteTemplateMapping=e=>n.Z.delete(`${l.Fv}/newtemplateMappings/deleteTemplateMappings/${e}`,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting deleteTemplateMappings:",e),e})),this.addnewTemplateMapping=e=>n.Z.post(`${l.Fv}/newtemplateMappings/addTemplateMappings`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addTemplateMappings",e),[]))),this.updateTemplateMapping=e=>n.Z.put(`${l.Fv}/newtemplateMappings/updateTemplateMappings`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("updateTemplateMappings",e),[]))),this.importTemplate=e=>n.Z.post(`${l.Fv}/newtemplateMappings/bulkAddTemplate`,e,l.AD).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("bulkAddTemplate",e),[]))),this.downloadSampleFile=e=>{window.open(`${l.Fv}/${e}`)},this.exportAllTemplateMapping=e=>n.Z.post(`${l.Fv}/newtemplateMappings/exportAllTemplateMapping`,e,l.gQ).then((async e=>{if(200===e.status){const a=`${l.Fv}/${e.data.filePath}`;try{const t=await fetch(a,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:"Bearer "+(0,s.V)()}});if(!t.ok)throw new Error("Failed to fetch the file");const l=await t.blob(),n=URL.createObjectURL(l),i=document.createElement("a");i.href=n,i.download=e.data.filePath,i.click(),URL.revokeObjectURL(n)}catch(t){console.error("Error downloading the file:",t)}return e.data}throw e.data})).catch((e=>{throw console.error("Error in exportAllData:",e),e})),this.exportAllAdminGeneralProperties=e=>n.Z.post(`${l.Fv}/newtemplateMappings/exportAllAdminGeneralProperties`,e,l.gQ).then((async e=>{if(200===e.status){const a=`${l.Fv}/${e.data.filePath}`;try{const t=await fetch(a,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:"Bearer "+(0,s.V)()}});if(!t.ok)throw new Error("Failed to fetch the file");const l=await t.blob(),n=URL.createObjectURL(l),i=document.createElement("a");i.href=n,i.download=e.data.filePath,i.click(),URL.revokeObjectURL(n)}catch(t){console.error("Error downloading the file:",t)}return e.data}throw e.data})).catch((e=>{throw console.error("Error in exportAllData:",e),e})),this.exportAllAdminSystemSetups=e=>n.Z.post(`${l.Fv}/newtemplateMappings/exportAllAdminSystemSetups`,e,l.gQ).then((async e=>{if(200===e.status){const a=`${l.Fv}/${e.data.filePath}`;try{const t=await fetch(a,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:"Bearer "+(0,s.V)()}});if(!t.ok)throw new Error("Failed to fetch the file");const l=await t.blob(),n=URL.createObjectURL(l),i=document.createElement("a");i.href=n,i.download=e.data.filePath,i.click(),URL.revokeObjectURL(n)}catch(t){console.error("Error downloading the file:",t)}return e.data}throw e.data})).catch((e=>{throw console.error("Error in exportAllData:",e),e}))}}},98286:(e,t,a)=>{"use strict";a.d(t,{K:()=>o});var l=a(40077),n=a(83650),s=a(19410),i=a(80245),r=a(8160);class o{constructor(){this.getAllUsersList=()=>n.Z.get(`${l.Fv}/users/getUsers`,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("getUsers",e),[]))),this.addnewUser=e=>n.Z.post(`${l.Fv}/users/addUser`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("addnewUser",e),[]))),this.updateUser=e=>n.Z.put(`${l.Fv}/users/updateUser`,e,l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("updateUser",e),[]))),this.deleteUser=e=>n.Z.delete(`${l.Fv}/users/deleteUser`,{data:{ids:e}},l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error deleting users:",e),e})),this.validateUser=()=>(console.log("validateUser called with URL:",`${l.Fv}/users/validateUser`),console.log("Headers being sent:",l.gQ),n.Z.get(`${l.Fv}/users/validateUser`,l.gQ).then((e=>{if(console.log("validateUser response:",e),200===e.status)return console.log("validateUser success:",e.data),e.data;throw console.warn("validateUser unexpected status:",e.status),e.data})).catch((e=>{throw console.error("validateUser request failed:",e),s.y.dispatch((0,i.$V)({isPageHavingIssue:!0})),e}))),this.requestForAccess=e=>n.Z.post(`${l.Fv}/users/requestForAccessApp`,{data:e},l.gQ).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>{throw console.error("Error requestForAccessApp users:",e),e})),this.importUser=e=>n.Z.post(`${l.Fv}/users/bulkAddUser`,e,l.AD).then((e=>{if(200===e.status)return e.data;throw e.data})).catch((e=>(console.error("bulkAddUser",e),[]))),this.exportUser=e=>n.Z.post(`${l.Fv}/users/bulkExportUser`,e,l.gQ).then((async e=>{if(200===e.status){const a=`${l.Fv}/${e.data.filePath}`;try{const t=await fetch(a,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:"Bearer "+(0,r.V)()}});if(!t.ok)throw new Error("Failed to fetch the file");const l=await t.blob(),n=URL.createObjectURL(l),s=document.createElement("a");s.href=n,s.download=e.data.filePath.replace("downloads/",""),s.click(),URL.revokeObjectURL(n)}catch(t){console.error("Error downloading the file:",t)}return e.data}throw e.data})).catch((e=>{throw console.error("Error in exportTemplate:",e),e})),this.downloadSampleFile=e=>{window.open(`http://localhost:8086/users/bulkExportUser/${e}`)}}}},80950:()=>{},46601:()=>{},89214:()=>{},8623:()=>{},7748:()=>{},85568:()=>{},56619:()=>{},77108:()=>{},52361:()=>{},94616:()=>{}}]);
//# sourceMappingURL=561.d371ac7a.chunk.js.map