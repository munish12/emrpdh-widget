"use strict";(self.webpackChunkerp_product_hub=self.webpackChunkerp_product_hub||[]).push([[809],{8809:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var r=n(72791),i=n(94294),s=n(93274),a=n(6394),l=n(66934),d=n(79836),o=n(16029),c=(n(6429),n(56294)),u=(n(18214),n(80184));(0,l.ZP)(d.Z)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}})));const v=e=>{let{speclistsArr:t,selected:n,onSelectionChange:i}=e;const[s,a]=(0,r.useState)(0),[l,d]=(0,r.useState)(10),[v,h]=(0,r.useState)(t||[]),p=(0,r.useRef)(null);p&&p.current&&p.current.dataMap&&p.current.dataMap;return(0,r.useEffect)((()=>{h(t)}),[s,l,t]),(0,u.jsx)(o.Z,{width:"100%",overflow:"auto",children:(0,u.jsx)(c.ZP,{idProperty:"id",showZebraRows:!1,style:{minHeight:550},defaultLimit:100,columns:[{name:"SPEC_NAME",header:"Type",defaultFlex:1,defaultWidth:50,render:e=>{var t,n;let{data:r}=e;return(0,u.jsx)("div",{children:null===r||void 0===r||null===(t=r.BOSSpecs)||void 0===t||null===(n=t.BOS[0])||void 0===n?void 0:n.SPEC_NAME})}},{name:"SPEC_NUMBER",header:"Name",defaultFlex:1,defaultWidth:50,render:e=>{var t,n;let{data:r}=e;return(0,u.jsx)("div",{children:null===r||void 0===r||null===(t=r.BOSSpecs)||void 0===t||null===(n=t.BOS[0])||void 0===n?void 0:n.SPEC_NUMBER})}},{name:"SPEC_REVISION",header:"Revision",defaultFlex:1,defaultWidth:50,render:e=>{var t,n;let{data:r}=e;return(0,u.jsx)("div",{children:null===r||void 0===r||null===(t=r.BOSSpecs)||void 0===t||null===(n=t.BOS[0])||void 0===n?void 0:n.SPEC_REVISION})}},{name:"SPEC_DETAILS",header:"Description",defaultFlex:1,defaultWidth:50,render:e=>{var t,n;let{data:r}=e;return(0,u.jsx)("div",{children:null===r||void 0===r||null===(t=r.BOSSpecs)||void 0===t||null===(n=t.BOS[0])||void 0===n?void 0:n.SPEC_DETAILS})}},{name:"bosStatus",header:"Status",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,u.jsx)("div",{children:null===t||void 0===t?void 0:t.bosStatus})}},{name:"bosMessage",header:"Message",defaultFlex:1,defaultWidth:50,render:e=>{let{data:t}=e;return(0,u.jsx)("div",{style:{textWrap:"wrap"},children:null!==t&&void 0!==t&&t.bosMessage&&""!==(null===t||void 0===t?void 0:t.bosMessage)?null===t||void 0===t?void 0:t.bosMessage:"-"})}}],dataSource:v,checkboxColumn:!0,selected:n,onSelectionChange:i,handle:e=>p.current=e?e.current:null,pagination:!0,renderScroller:()=>{var e,t;return null===p||void 0===p||null===(e=p.current)||void 0===e?void 0:e.setScrollTop(0==(null===i||void 0===i?void 0:i.length)?0:null===p||void 0===p||null===(t=p.current)||void 0===t?void 0:t.getScrollTop())}})})};var h=n(31220),p=n(96171),m=n(61889),S=n(27391),x=n(63466);n(31185);const g=(0,l.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),f=()=>{var e,t;const n=new a.h,[l,d]=(0,r.useState)(),[c,f]=(0,r.useState)({}),[b,Z]=(0,r.useState)(!1),[j,y]=(0,r.useState)(!1),[E,P]=(0,r.useState)(null),[C,w]=(0,r.useState)([]),[k,M]=(0,r.useState)({}),[I,N]=(0,r.useState)(!0),A=(0,r.useRef)(null),R=null!==A&&void 0!==A&&null!==(e=A.current)&&void 0!==e&&e.dataMap?null===A||void 0===A||null===(t=A.current)||void 0===t?void 0:t.dataMap:null,L=e=>{try{Z(!0);const t={...e,searchkey:e.searchkey+"*"};n.searchSpecCreationbyKey(t).then((e=>{e?(e.data.length?d(e.data):(y(!0),P({severity:"error",desc:"No result found!"})),Z(!1)):(y(!0),P({severity:"error",desc:e}))})).catch((e=>e))}catch(t){return t}},B=(0,r.useCallback)((e=>{let{selected:t}=e;M(t),N(!1)}),[]);(0,r.useEffect)((()=>{var e;const t=!0===k?R:k,n=t&&(null===(e=Object.keys(t))||void 0===e?void 0:e.map((e=>t[e])))||[];w(n),n.forEach((e=>{"failed"===e.bosStatus&&N(!0)}))}),[k,R]);return(0,u.jsxs)(g,{children:[(0,u.jsx)(o.Z,{className:"breadcrumb",children:(0,u.jsx)(s.aG,{routeSegments:[{name:"Search Spec Creation"}]})}),(0,u.jsxs)(s.sF,{children:[(0,u.jsxs)(m.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,u.jsx)(m.ZP,{item:!0,md:12,sm:12,xs:12,className:"font-medium",children:(0,u.jsxs)(m.ZP,{container:!0,spacing:1,alignItems:"center",children:[(0,u.jsx)(m.ZP,{item:!0,md:3,sm:6,xs:12,className:"font-medium",children:(0,u.jsx)(S.Z,{type:"text",name:"search",size:"small",onChange:e=>{e.persist(),f({searchkey:e.target.value})},onKeyDown:e=>{if("Enter"===e.key){const t={...c,searchkey:e.target.value};f(t),L(t)}},value:(null===c||void 0===c?void 0:c.searchkey)||"",style:{width:"100%"},InputProps:{endAdornment:(0,u.jsx)(x.Z,{position:"end",children:"*"})}})}),(0,u.jsx)(m.ZP,{item:!0,md:6,sm:6,xs:12,children:(0,u.jsx)(i.Z,{variant:"contained",onClick:()=>{L(c)},children:"Search"})}),(0,u.jsx)(m.ZP,{item:!0,md:3,sm:6,xs:12,alignItems:"right",children:(0,u.jsx)(i.Z,{variant:"contained",disabled:!(1===(null===C||void 0===C?void 0:C.length)&&I),onClick:()=>{let e={id:C[0].id};Z(!0),n.resendSpecCreation(e).then((e=>{e?(null!==e&&void 0!==e&&e.status&&(y(!0),P({severity:"success"===(null===e||void 0===e?void 0:e.status)?"success":"error",desc:null===e||void 0===e?void 0:e.msg})),Z(!1)):(y(!0),P({severity:"error",desc:e})),Z(!1)})).catch((e=>e))},style:{margin:"0 0px 0 10px"},children:"Re-send"})})]})}),(0,u.jsx)(m.ZP,{item:!0,md:12,sm:12,xs:12,children:(0,u.jsx)(v,{speclistsArr:l||[],isLoading:b,selected:k,onSelectionChange:B})})]}),E?(0,u.jsx)(p.Z,{openAlert:j,openDesc:E,setOpenAlert:y}):(0,u.jsx)(u.Fragment,{}),b?(0,u.jsx)("div",{style:{textAlign:"center"},children:(0,u.jsx)(h.Z,{show:b})}):(0,u.jsx)(u.Fragment,{})]})]})}},63466:(e,t,n)=>{n.d(t,{Z:()=>j});var r=n(63366),i=n(87462),s=n(72791),a=n(63733),l=n(94419),d=n(14036),o=n(20890),c=n(93840),u=n(52930),v=n(66934),h=n(75878),p=n(21217);function m(e){return(0,p.Z)("MuiInputAdornment",e)}const S=(0,h.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var x,g=n(31402),f=n(80184);const b=["children","className","component","disablePointerEvents","disableTypography","position","variant"],Z=(0,v.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${(0,d.Z)(n.position)}`],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,i.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},"filled"===n.variant&&{[`&.${S.positionStart}&:not(.${S.hiddenLabel})`]:{marginTop:16}},"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})})),j=s.forwardRef((function(e,t){const n=(0,g.Z)({props:e,name:"MuiInputAdornment"}),{children:v,className:h,component:p="div",disablePointerEvents:S=!1,disableTypography:j=!1,position:y,variant:E}=n,P=(0,r.Z)(n,b),C=(0,u.Z)()||{};let w=E;E&&C.variant,C&&!w&&(w=C.variant);const k=(0,i.Z)({},n,{hiddenLabel:C.hiddenLabel,size:C.size,disablePointerEvents:S,position:y,variant:w}),M=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:i,size:s,variant:a}=e,o={root:["root",n&&"disablePointerEvents",i&&`position${(0,d.Z)(i)}`,a,r&&"hiddenLabel",s&&`size${(0,d.Z)(s)}`]};return(0,l.Z)(o,m,t)})(k);return(0,f.jsx)(c.Z.Provider,{value:null,children:(0,f.jsx)(Z,(0,i.Z)({as:p,ownerState:k,className:(0,a.Z)(M.root,h),ref:t},P,{children:"string"!==typeof v||j?(0,f.jsxs)(s.Fragment,{children:["start"===y?x||(x=(0,f.jsx)("span",{className:"notranslate",children:"\u200b"})):null,v]}):(0,f.jsx)(o.Z,{color:"text.secondary",children:v})}))})}))},31185:()=>{}}]);
//# sourceMappingURL=809.fe293aaa.chunk.js.map